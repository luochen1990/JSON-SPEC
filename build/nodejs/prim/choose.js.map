{"version":3,"sources":["prim/choose.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;EAAA,OAAA,CAAQ,oBAAR;;EACC,WAAY,OAAA,CAAQ,cAAR,EAAZ;;EACD,MAAqE,OAAA,CAAQ,aAAR,CAArE,EAAC,YAAA,KAAD,EAAQ,kBAAA,WAAR,EAAqB,WAAA,IAArB,EAA2B,cAAA,OAA3B,EAAoC,aAAA,MAApC,EAA4C,iBAAA,UAA5C,EAAwD,gBAAA;;EACxD,OAA6B,OAAA,CAAQ,YAAR,CAA7B,EAAC,oBAAA,YAAD,EAAe,kBAAA;;EAET;IACQ,gBAAC,KAAD;MACZ,IAAA,CAAA,CAAO,eAAA,IAAW,KAAK,CAAC,WAAN,KAAqB,KAAvC,CAAA;AACC,cAAM,KAAA,CAAM,sDAAA,GAAuD,KAA7D,EADP;;MAEA,IAAA,CAAO,GAAA,CAAI,UAAJ,CAAA,CAAgB,KAAhB,CAAP;AACC,cAAM,KAAA,CAAM,kEAAA,GAAmE,KAAzE,EADP;;AAGA,aAAO;QACN,WAAA,EAAa,MADP;QAEN,KAAA,EAAO,KAFD;;IANK;;;;;;EAWd,QAAA,CAAS,UAAT,CAAA,CAAqB,MAArB,CAA4B,CAAC,KAA7B,CACC;IAAA,KAAA,EAAO,SAAC,GAAD;AAAa,UAAA;MAAX,QAAD,IAAC;aAAW,SAAC,CAAD;eACnB,WAAA,IAAO,GAAA,CAAI,SAAC,IAAD;iBAAU,KAAA,CAAM,IAAN,CAAA,CAAY,CAAZ;QAAV,CAAJ,CAAA,CAA6B,KAA7B;MADY;IAAb,CAAP;IAEA,WAAA,EAAa,SAAC,CAAD;AACZ,UAAA;MAAC,QAAS,EAAT;aACD,SAAC,CAAD;eAAO;UACN;YACC,KAAA,EAAO,SAAA;qBAAG,mCAAA,GAAoC;YAAvC,CADR;YAEC,IAAA,EAAM,SAAA;qBAAG;YAAH,CAFP;WADM,EAKN;YACC,KAAA,EAAO,SAAA;qBAAK,CAAC,IAAA,CAAK,CAAL,CAAD,CAAA,GAAQ,qBAAR,GAA4B,CAAC,IAAA,CAAK,CAAL,CAAD;YAAjC,CADR;YAEC,IAAA,EAAM,SAAA;qBAAG,GAAA,CAAI,SAAC,IAAD;uBAAU,KAAA,CAAM,IAAN,CAAA,CAAY,CAAZ;cAAV,CAAJ,CAAA,CAA8B,KAA9B;YAAH,CAFP;WALM;;MAAP;IAFY,CAFb;IAcA,IAAA,EAAM,SAAC,GAAD;AACL,UAAA;MADO,QAAD,IAAC;aACP,UAAA,GAAU,CAAC,CAAC,IAAA,CAAK,GAAA,CAAI,IAAJ,CAAA,CAAU,KAAV,CAAL,CAAD,CAAsB,CAAC,IAAvB,CAA4B,IAA5B,CAAD,CAAV,GAA6C;IADxC,CAdN;IAgBA,OAAA,EAAS,SAAC,GAAD;AACR,UAAA;MADU,QAAD,IAAC;aACV,MAAA,CAAO,MAAA,CAAO,GAAA,CAAI,MAAJ,CAAA,CAAY,KAAZ,CAAP,CAAP;IADQ,CAhBT;IAkBA,UAAA,EAAY,SAAC,GAAD;AACX,UAAA;MADa,QAAD,IAAC;aACb,qCAAA,GAAqC,CAAC,CAAC,IAAA,CAAK,GAAA,CAAI,UAAJ,CAAA,CAAgB,KAAhB,CAAL,CAAD,CAA4B,CAAC,IAA7B,CAAkC,KAAlC,CAAD,CAArC,GAA+E;IADpE,CAlBZ;IAoBA,SAAA,EAAW,SAAC,GAAD;AAEV,UAAA;MAFY,QAAD,IAAC;aAEZ;QAAA,IAAA,EAAM,0CAAN;QACA,IAAA,EAAM,YAAA,CAAa,QAAb,EAAuB,YAAvB,CAAA,CAAqC,IAAA,CAAK,IAAA,CAAK,GAAA,CAAI,QAAJ,EAAc,KAAd,CAAL,CAAL,CAArC,CADN;QAEA,IAAA,EAAM,mCAFN;;IAFU,CApBX;GADD;;EA2BA,MAAM,CAAC,OAAP,GAAiB;IAAC,QAAA,MAAD;;AA5CjB","file":"prim/choose.js","sourceRoot":"/source/","sourcesContent":["require 'coffee-mate/global'\n{instance} = require '../typeclass'\n{match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{genBlockBody, isTypeSpec} = require '../helpers'\n\nclass Choose\n\tconstructor: (specs) ->\n\t\tunless specs? and specs.constructor is Array\n\t\t\tthrow Error \"Bad Choose Type Definition: Array Expected, But Got #{specs}\"\n\t\tunless all(isTypeSpec)(specs)\n\t\t\tthrow Error \"Bad Choose Type Definition: Array of TypeSpec Expected, But Got #{specs}\"\n\n\t\treturn {\n\t\t\tconstructor: Choose\n\t\t\tspecs: specs\n\t\t}\n\ninstance('TypeSpec')(Choose).where\n\tmatch: ({specs}) -> (v) ->\n\t\tv? and any((spec) -> match(spec) v)(specs)\n\tconstraints: (t) ->\n\t\t{specs} = t\n\t\t(v) -> [\n\t\t\t{\n\t\t\t\tlabel: -> \"Non-Null Value Expected, But Got #{v}\"\n\t\t\t\tflag: -> v?\n\t\t\t}\n\t\t\t{\n\t\t\t\tlabel: -> \"#{show t} Expected, But Got #{json v}\"\n\t\t\t\tflag: -> any((spec) -> match(spec)(v))(specs)\n\t\t\t}\n\t\t]\n\tshow: ({specs}) ->\n\t\t\"Choose([#{(list map(show) specs).join(', ')}])\"\n\tsamples: ({specs}) ->\n\t\tconcat repeat map(sample)(specs)\n\thtmlInline: ({specs}) ->\n\t\t\"<span class='type-maker unwrapped'>#{(list map(htmlInline) specs).join(' | ')}</span>\"\n\thtmlBlock: ({specs}) ->\n\t\t#log -> (list zip(repeat('-'), specs))\n\t\thead: \"<span class='type-maker'>Choose [</span>\"\n\t\tbody: genBlockBody('choose', 'meta-field')(dict list zip(naturals, specs))\n\t\ttail: \"<span class='type-maker'>]</span>\"\n\nmodule.exports = {Choose}\n"]}