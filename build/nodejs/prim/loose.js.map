{"version":3,"sources":["prim/loose.coffee"],"names":[],"mappings":"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","file":"prim/loose.js","sourceRoot":"/source/","sourcesContent":["require 'coffee-mate/global'\n{typeclass, instance} = require '../typeclass'\n{shape, match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{genBlockBody, isTypeSpecDict} = require '../helpers'\n\nclass Loose\n\tconstructor: (specdict) ->\n\t\tunless isTypeSpecDict(specdict)\n\t\t\tthrow Error \"Bad Loose Type Definition: Dict Of TypeSpec Expected, But Got #{specdict}\"\n\t\treturn {\n\t\t\tconstructor: Loose\n\t\t\tspecdict: specdict\n\t\t}\n\ninstance('TypeSpec')(Loose).where\n\tshape: ({specdict}) -> Loose (fromList map(([k, spec]) -> [k, shape(spec)]) enumerate(specdict))\n\tmatch: ({specdict}) -> (v) ->\n\t\tv? and v.constructor is Object and (all(([k, spec]) -> match(spec) v[k]) enumerate(specdict))\n\tconstraints: ({specdict}) -> (v) -> cons(\n\t\t{\n\t\t\tlabel: -> \"Object Expected, But Got #{v}\"\n\t\t\tflag: -> v?\n\t\t}\n\t)(\n\t\tmap(([k, spec]) ->\n\t\t\t{\n\t\t\t\tlabel: -> \"Field #{k}\" # Expected to be #{show spec}\" #, But Got #{json v}\"\n\t\t\t\tsub: -> constraints(spec)(v[k])\n\t\t\t}\n\t\t) enumerate(specdict)\n\t)\n\tshow: ({specdict}) ->\n\t\t\"Loose({#{(list map(([k, spec]) -> \"#{k}: #{show spec}\") enumerate(specdict)).join(', ')}})\"\n\tsamples: ({specdict}) ->\n\t\trepeat dict list map(([k, v]) -> [k, sample v]) enumerate(specdict)\n\thtmlInline: ({specdict}) ->\n\t\t\"<span class='type-maker unwrapped'>Loose {<span class='folded-detail'>...</span>}</span>\"\n\thtmlBlock: ({specdict}) ->\n\t\thead: \"<span class='type-maker'>Loose {</span>\"\n\t\tbody: genBlockBody('loose', 'field-name') specdict\n\t\ttail: \"<span class='type-maker'>}</span>\"\n\nmodule.exports = {Loose}\n"]}