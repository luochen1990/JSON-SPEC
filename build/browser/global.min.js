!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.__lazy=n()}}(function(){return function n(e,t,r){function o(a,c){if(!t[a]){if(!e[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(u)return u(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var i=t[a]={exports:{}};e[a][0].call(i.exports,function(n){var t=e[a][1][n];return o(t?t:n)},i,i.exports,n,e,t,r)}return t[a].exports}for(var u="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(n,e,t){},{}],2:[function(n,e,t){function r(){i=!1,c.length?l=c.concat(l):p=-1,l.length&&o()}function o(){if(!i){var n=setTimeout(r);i=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c[p].run();p=-1,e=l.length}c=null,i=!1,clearTimeout(n)}}function u(n,e){this.fun=n,this.array=e}function a(){}var c,s=e.exports={},l=[],i=!1,p=-1;s.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];l.push(new u(n,e)),1!==l.length||i||setTimeout(o,0)},u.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=a,s.addListener=a,s.once=a,s.off=a,s.removeListener=a,s.removeAllListeners=a,s.emit=a,s.binding=function(n){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(n){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],3:[function(n,e,t){(function(){var t,r=[].slice;t=function(n){var e,t,o,u,a,c,s,l,i,p,f,m,h,d,y,v,g,b,w,k,S,x,I,T,B,j,E,O,N;return o=n.best,i=function(n){return function(e){return function(t){return n(t)(e)}}},a=function(n){return function(e){return function(t){return n(e(t))}}},c=function(n){return function(e){return function(t){return n(e,t)}}},s=function(n){return function(e){return function(t){return function(r){return n(e,t,r)}}}},E=function(n){return function(e,t){return n(e)(t)}},O=function(n){return function(e,t,r){return n(e)(t)(r)}},S=function(n){return function(e){return n.apply(null,e)}},N=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],n(e)}},B=function(n){return function(e){return n[e]}},x=function(n){return function(e){return e[n]}},l=function(n){return function(e){return e===n}},k=function(n){return function(e){return e!==n}},d=function(n){return function(e){return n>e}},m=function(n){return function(e){return e>n}},h=function(n){return function(e){return n>=e}},f=function(n){return function(e){return e>=n}},I=function(n){return function(e){return e+n}},w=function(n){return function(e){return e-n}},e=Math.abs,p=Math.floor,u=Math.ceil,T=function(n){return function(e){return parseFloat(e.toPrecision(n))}},t=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],n(1===e.length&&e.first instanceof Array?e.first:e)}},j=t(function(n){var e,t,r,o;for(1===n.length&&n.first instanceof Array&&(n=n.first),r=0,e=0,t=n.length;t>e;e++)o=n[e],r+=o;return r}),y=t(function(n){return o(function(n,e){return n>e})(n)}),g=t(function(n){return o(function(n,e){return e>n})(n)}),v=t(function(n){var e;return o(function(e,t){return n[e]>n[t]})(function(){e=[];for(var t=0,r=n.length;r>=0?r>t:t>r;r>=0?t++:t--)e.push(t);return e}.apply(this))}),b=t(function(n){var e;return o(function(e,t){return n[e]<n[t]})(function(){e=[];for(var t=0,r=n.length;r>=0?r>t:t>r;r>=0?t++:t--)e.push(t);return e}.apply(this))}),{flip:i,combine:a,curry2:c,curry3:s,uncurry2:E,uncurry3:O,pack:S,unpack:N,seek:B,pluck:x,equal:l,notEqual:k,lessThan:d,lessEqual:h,greaterThan:m,greaterEqual:f,plus:I,minus:w,abs:e,floor:p,ceil:u,precise:T,sum:j,max:y,min:g,max_index:v,min_index:b}},e.exports=t({best:n("lazy-list").best})}).call(this)},{"lazy-list":11}],4:[function(n,e,t){(function(){var t,r,o,u,a,c;c=n("./utils"),t=n("./basics"),u=n("lazy-list"),o=n("./funny"),r=n("./convertors"),a=n("./url-helpers"),e.exports=c.extend({})(c,t,u,o,r,a)}).call(this)},{"./basics":3,"./convertors":5,"./funny":6,"./url-helpers":8,"./utils":9,"lazy-list":11}],5:[function(n,e,t){(function(){var n;n=function(){var n,e,t,r,o,u,a,c,s;return o=function(n,e){var t;return"string"==typeof n?(t=parseInt(n,e),null==n.slice||t!==parseInt(n.slice(0,-1),e)?t:null):parseInt(0+n)},t=function(n){return/^-?[0-9]*(\.[0-9]+)?([eE]-?[0-9]+)?$/.test(n)?parseFloat(n):null},s=function(n,e){return n.toString(e)},n=function(n){return n===!0||n===!1?n:null},r=function(n){return n.toString(16)},c=function(n){return n.charCodeAt()},e=function(n){return String.fromCharCode(n)},u=function(n,e){return JSON.stringify(n,null,e)},a=function(n){return JSON.parse(n)},{"int":o,"float":t,bool:n,str:s,hex:r,ord:c,chr:e,json:u,obj:a}},e.exports=n()}).call(this)},{}],6:[function(n,e,t){(function(){var n,t=[].slice;n=function(){var n,e,r,o,u;return e=function(n){var e;return e=function(n,t,r){return 0===t?r:e(n,t-1,n(r))},function(t){return function(r){return e(t,n+0,r)}}},n=function(n){return function(n){return n(n)}(function(e){return n(function(n){return e(e)(n)})})},u=function(n,e){var r;return null==e&&(e=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],json(n)}),r={},function(){var o,u,a,c;return o=1<=arguments.length?t.call(arguments,0):[],a=e.apply(null,o),u=r[a],null!=u?u:(c=n.apply(null,o),r[a]=c,c)}},r=n,o=function(n){var e;return e=u(n(function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],e.apply(null,n)}))},{church:e,Y:n,memoize:u,fix:r,memoFix:o}},e.exports=n()}).call(this)},{}],7:[function(n,e,t){(function(e){(function(){var t,r,o;r=n("./coffee-mate");for(t in r)o=r[t],e[t]=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coffee-mate":4}],8:[function(n,e,t){(function(){var n;n=function(){var n,e;return e=function(n){return null==n&&(n=str),function(e){var t,r;return function(){var o;o=[];for(t in e)r=e[t],o.push(encodeURIComponent(t)+"="+encodeURIComponent(n(r)));return o}().join("&")}},n=function(n){return null==n&&(n=function(n){return n}),function(e){var t,r,o,u,a,c,s,l,i,p;for(t={},s=null!=(c=e.match(/[^?=&]+=[^&]*/g))?c:[],r=0,a=s.length;a>r;r++)i=s[r],l=i.match(/([^=]+)=(.*)/),o=l.length-2,u=l[o++],p=l[o++],t[decodeURIComponent(u)]=n(decodeURIComponent(p));return t}},{uri_encoder:e,uri_decoder:n}},e.exports=n()}).call(this)},{}],9:[function(n,e,t){(function(n){(function(){var t,r=[].slice;t=function(){var e,t,o,u,a,c,s,l,i,p,f,m,h,d;return l=function(n){var e;return e=n.toString().replace(/^\s*function\s?\(\s?\)\s?{\s*return\s*([^]*?);?\s*}$/,"$1"),e.length<=100&&(e=e.replace(/[\r\n]{1,2}\s*/g,"")),e},h=function(){return(new Date).getTime()},i=function(){var e,t,o,u,a;return e=function(){var e,t;return e=("undefined"==typeof window||null===window)&&"undefined"!=typeof n&&null!==n&&!n.env.NODE_DISABLE_COLORS,t={bold:"[0;1m",red:"[0;31m",green:"[0;32m",yellow:"[0;33m",blue:"[0;34m",bold_grey:"[1;30m"},e?function(n){return function(e){return""+t[n]+e+"[0m"}}:function(n){return function(n){return n}}}(),a=function(){var n,t;return n={"#":"bold_grey",I:"green",E:"red",W:"yellow"},t=function(n){return"log"===n?"#":n[0].toUpperCase()},function(r){var o;return o=t(r),e(n[o])(o)}}(),u=[],t=function(n){var t;return t=""+e("bold_grey")("#")+a(n),function(){var o,a,c,s,i,p,f,m,d;for(o=1<=arguments.length?r.call(arguments,0):[],a=[],p=0,f=o.length;f>p;p++)i=o[p],"function"==typeof i?(s=l(i),m=h(),c=i(),d=h()-m,a.push(t+" "+e("green")(s)+" "+e("bold_grey")("==>"),c),d>0&&a.push(e("yellow")("["+d+"ms]"))):a.push(""+t,i);return console[n].apply(console,a),u.push(a),u.length>=10&&u.shift(),null}},o=t("log"),o.histories=u,o.info=t("info"),o.warn=t("warn"),o.error=o.err=t("error"),o}(),e=function(n,e){var t,r,o;n instanceof Function||(o=[e,n],n=o[0],e=o[1]);try{r=n()}catch(u){throw t=u,Error("Assertion "+(null!=e?e:l(n))+" Unknown:\n"+t)}if(!r)throw Error("Assertion "+(null!=e?e:l(n))+" Failed!")},t=function(n,e){var t,r,o;try{r=n(),o=e()}catch(u){throw t=u,Error("Equation Between "+l(n)+" And "+l(e)+" Unknown:\n"+t)}if(r!==o)throw Error("Equation Failed:\n	"+l(n)+" IS "+r+" BUT\n	"+l(e)+" IS "+o+".")},o=function(n){return function(e,t){var r,o,u,a,c;try{a=e(),c=t(),o=n(a),u=n(c)}catch(s){throw r=s,Error("MAPPED Equation Between "+l(e)+" And "+l(t)+" Unknown:\n"+r)}if(o!==u)throw Error("Equation Failed:\n	"+l(e)+" IS "+a+" AND MAPPED TO "+o+" BUT\n	"+l(t)+" IS "+c+" AND MAPPED TO "+u+".")}},m=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],e=a(e),n.apply(null,e)}},c=function(n){var e,t,r,o,u,a;for(e={},t=0,o=n.length;o>t;t++)u=n[t],r=u[0],a=u[1],e[r]=a;return e},f=function(){var n;return n=function(e,t){var r,o,u;if(0===t||null==e||"object"!=typeof e)return e;if(e instanceof Array)o=function(){var r,o,a;for(a=[],r=0,o=e.length;o>r;r++)u=e[r],a.push(n(u,t-1));return a}();else{o={};for(r in e)u=e[r],o[r]=n(u,t-1)}return o},{copy:function(e,t){return null==t&&(t=1),n(e,t)},deepcopy:function(e,t){return null==t&&(t=1/0),n(e,t)}}}(),u=f.copy,a=f.deepcopy,s=function(n){return function(){var e,t,o,u,a,c;for(t=1<=arguments.length?r.call(arguments,0):[],o=0,a=t.length;a>o;o++)if(e=t[o],null!=e)for(u in e)c=e[u],null==n[u]&&(n[u]=c);return n}},d=function(n){return function(){var e,t,o,u,a,c;for(a=1<=arguments.length?r.call(arguments,0):[],t=0,u=a.length;u>t;t++)if(e=a[t],null!=e)for(o in e)c=e[o],n[o]=c;return n}},p=function(n){var e,t;return e=u(n),t=e._,null!=t?function(){var n,o;return n=1<=arguments.length?r.call(arguments,0):[],(null!=(o=e[n.length])?o:t).apply(null,n)}:function(){var n,t;if(n=1<=arguments.length?r.call(arguments,0):[],t=e[n.length],null==t)throw Error("This Function Can't Accept "+n.length+" Args");return t.apply(null,n)}},{log:i,assert:e,assertEq:t,assertEqOn:o,dict:c,copy:u,deepcopy:a,securely:m,extend:s,update:d,overload:p}},e.exports=t()}).call(this)}).call(this,n("_process"))},{_process:2}],10:[function(n,e,t){n("./build/nodejs/global.js")},{"./build/nodejs/global.js":7}],11:[function(n,e,t){(function(){var n,t=[].slice;n=function(n){var e,r,o,u,a,c,s,l,i,p,f,m,h,d,y,v,g,b,w,k,S,x,I,T,B,j,E,O,N,A,C,M,F,L,P,z,_,q,U,R,D,H,W,V,$,Q,G,J;return o=n.Symbol,r=function(n){return n[o.iterator]=function(){return n()},n.toString=function(){return"LazyList"},n},C=r(function(){return C}),C.toString=function(){return"nil"},e=function(n){return n.next=function(){var e;return e=n(),{value:e,done:e===C}},n.toString=function(){return"Iterator"},n},A=r(function(){var n;return n=-1,e(function(){return++n})}),z=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],0===n.length?A:r(1===n.length?function(){var t,r;return r=n[0],t=-1,e(function(){return++t<r?t:C})}:2===n.length?function(){var t,r,o;return r=n[0],o=n[1],o>r?(t=r-1,e(function(){return++t<o?t:C})):(t=r+1,e(function(){return--t>o?t:C}))}:function(){var t,r,o,u;if(r=n[0],u=n[1],o=n[2],u!==r&&0>(u-r)*o)throw"ERR IN range(): YOU ARE CREATING AN UNLIMITTED RANGE";return t=r-o,e(u>r?function(){return(t+=o)<u?t:C}:function(){return(t+=o)>u?t:C})})},L=r(function(){return d(function(n){return u(function(e){return n%e!==0})(Q(function(e){return n>=e*e})(z(2,1/0)))})(z(2,1/0))()}),x=function(n){var t;if("function"==typeof n)return null!=n[o.iterator]?n:r(n);if((t=n.constructor)===Array||t===String)return r(function(){var t;return t=-1,e(function(){return++t<n.length?n[t]:C})});if(null!=n[o.iterator])return r(function(){var t;return t=n[o.iterator](),e(function(){var n;return n=t.next(),n.done?C:n.value})});throw Error("lazy(xs): xs is neither Array nor Iterable")},h=function(n){return null!=n[o.iterator]||n instanceof Array?G(A,n):r(function(){var t,r;return r=Object.keys(n),t=-1,e(function(){var e;return++t<r.length?[e=r[t],n[e]]:C})})},q=function(n){return r(function(){return e(function(){return n})})},k=function(n,t){return r(function(){var r;return r=t,e(function(){var e;return e=r,r=n(r),e})})},P=function(){var n,e,t;return t=Math.PI/3,n=function(n){return n=1e4*Math.sin(n+t),n-Math.floor(n)},e=function(e){return k(n,n(e))},function(n){var t,r,o,u,a,c;return null==n?e(0):"number"==typeof n?e(n):(c=null!=(r=n.seed)?r:0,u=n.range,null!=u?"number"==typeof u?B(function(n){return Math.floor(n*u)})(e(c)):(o=[u[0],u[1]-u[0]+1],a=o[0],t=o[1],B(function(n){return a+Math.floor(n*t)})(e(c))):e(c))}}(),F=function(){var n;return n=function(n){var e,t,r,o,u;for(n=n.slice(0),e=n.length-1;e>=1&&n[e]<=n[e-1];)--e;if(0!==e){for(t=n.length-1;t>e-1&&n[t]<=n[e-1];)--t;o=[n[e-1],n[t]],n[t]=o[0],n[e-1]=o[1]}for(r=n.length-1;r>e;)u=[n[r],n[e]],n[e]=u[0],n[r]=u[1],++e,--r;return n},function(e){var t;return t=T(e),0===t.length?C:p(t.slice(0))(Q(function(n){return json(n)!==json(t)})(f(1)(k(n,t))))}}(),$=function(n){return function(t){return r(function(){var r,u;return u=x(t)[o.iterator](),r=-1,e(function(){return++r<n?u():C})})}},Q=function(n){return function(t){return r(function(){var r;return r=x(t)[o.iterator](),e(function(){var e;return(e=r())!==C&&n(e)?e:C})})}},f=function(n){return function(e){return r(function(){var t,r,u,a,c;for(u=x(e)[o.iterator](),t=!1,r=a=0,c=n;(c>=0?c>a:a>c)&&(t||(t=u()===C),!t);r=c>=0?++a:--a);return t?function(){return C}:u})}},m=function(n){return function(t){return r(function(){var r,u;for(r=x(t)[o.iterator]();n(u=r())&&u!==C;);return e(function(){var n,e;return e=[u,r()],n=e[0],u=e[1],n})})}},p=function(n){return function(t){return r(function(){var r;return r=null,e(function(){return null===r?(r=x(t)[o.iterator](),n):r()})})}},B=function(n){return function(t){return r(function(){var r;return r=x(t)[o.iterator](),e(function(){var e;return(e=r())!==C?n(e):C})})}},d=function(n){return function(t){return r(function(){var r;return r=x(t)[o.iterator](),e(function(){for(var e;(e=r())!==C&&!n(e););return e})})}},R=function(n,t){return function(u){return r(function(){var r;return r=x(u)[o.iterator](),e(function(){var e,o;return e=t,t=(o=r())!==C?n(t,o):C,e})})}},W=function(n){return 1>n?C:function(t){return f(n-1)(r(function(){var r,u;return u=x(t)[o.iterator](),r=[],e(function(){var e;return(e=u())===C?C:(r.push(e),r.length>n&&r.shift(1),r.slice(0))})}))}},V=function(n){return function(e){return W(n)(i([e,$(n-1)(e)]))}},U=function(n){var t;return(t=n.constructor)===Array||t===String?r(function(){var t;return t=n.length,e(function(){return--t>=0?n[t]:C})}):T(x(n)).reverse()},D=function(n){var e;return e=T(x(n)),e.sort(function(n,e){return(n>e)-(e>n)})},H=function(n){return function(e){var t;return t=T(x(e)),t.sort(function(e,t){var r,o;return((r=n(e))>(o=n(t)))-(o>r)})}},b=function(n){return function(e){var t,r,o;return r={},v(e,function(e){var t;return t=n(e),null==r[t]&&(r[t]=[]),r[t].push(e)}),function(){var n;n=[];for(t in r)o=r[t],n.push(o);return n}()}},M=function(n){return function(e){var t;return t=[[],[]],v(e,function(e){var r;return r=!n(e)+0,t[r].push(e)}),t}},i=function(n){return n=d(function(n){var e;return(e=n.constructor)!==Array&&e!==String||n.length>0})(n),r(function(){var t,r,u;return u=x(n)[o.iterator](),r=u(),t=x(r)[o.iterator](),e(function(){var n;return(n=t())!==C?n:(r=u())!==C?(t=x(r)[o.iterator]())():C})})},_=function(){var n,u,a;return n=function(n){var e,t,r;for(e=0,t=n.length;t>e;e++)if(r=n[e],r===C)return!0;return!1},u=function(){var u;return u=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r;return t=function(){var n,e,t;for(t=[],n=0,e=u.length;e>n;n++)r=u[n],t.push(x(r)[o.iterator]());return t}(),e(function(){var e,r;return r=function(){var n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(e());return o}(),n(r)?C:r})})},a=function(u){return function(){var a;return a=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r;return t=function(){var n,e,t;for(t=[],n=0,e=a.length;e>n;n++)r=a[n],t.push(x(r)[o.iterator]());return t}(),e(function(){var e,r;return r=function(){var n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(e());return o}(),n(r)?C:u.apply(null,r)})})}},{zip:u,zipWith:a}}(),G=_.zip,J=_.zipWith,l=function(){var n,o;return o=function(n){var e;return e=n.length-1,function(t){var r;for(r=e;!(++t[r]<n[r]||0>=r);)t[r--]=0;return t}},n=function(n){var e;return e=n.length,function(t){var r,o,u,a;for(a=[],r=o=0,u=e;u>=0?u>o:o>u;r=u>=0?++o:--o)a.push(n[r][t[r]]);return a}},function(){var u;return u=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r,a,c,s,l,i,p,f;for(u=function(){var n,e,t;for(t=[],n=0,e=u.length;e>n;n++)f=u[n],t.push(T(f));return t}(),i=function(){var n,e,t;for(t=[],r=n=0,e=u.length;e>=0?e>n:n>e;r=e>=0?++n:--n)t.push(u[r].length);return t}(),c=0,l=i.length;l>c;c++)if(s=i[c],0===s)return C;return a=o(i),t=n(u),p=function(){var n,e,t;for(t=[],r=n=0,e=u.length;e>=0?e>n:n>e;r=e>=0?++n:--n)t.push(0);return t}(),e(function(){var n;return p[0]<i[0]?(n=t(p),a(p),n):C})})}}(),T=function(n){var e,t,r,u,a;if(n instanceof Array)return n;if("function"==typeof n){for(e=n[o.iterator](),r=[];(a=e())!==C;)r.push(a);return r}if(null!=n[o.iterator]){for(e=x(n)[o.iterator](),u=[];(a=e())!==C;)u.push(a);return u}if("number"==typeof n)return t=n,function(n){return T($(t)(n))};throw Error({message:"list(xs): xs is neither Array nor Iterable",info:{xs:n,"xs.constructor":null!=n?n.constructor:void 0}})},w=function(n){var e,t,r;if((r=n.constructor)===Array||r===String){if(n.length>0)return n[0];throw"Error: head() used on empty list."}if(e=x(n)[o.iterator](),(t=e())!==C)return t;throw"Error: head() used on empty list."},S=function(n){var e,t,r,u,a;if((r=n.constructor)===Array||r===String)return null!=(u=n[n.length-1])?u:C;for(e=x(n)[o.iterator](),t=C;(a=e())!==C;)t=a;return t},I=function(n){var e,t,r,u;if((r=n.constructor)===Array||r===String)return n.length;for(e=x(n)[o.iterator](),t=0;(u=e())!==C;)++t;return t},y=function(n,e){return function(t){var r,u,a;for(u=e,r=x(t)[o.iterator]();(a=r())!==C;)u=n(u,a);return u}},c=function(n){return function(e){var t,r,u;if(r=x(e)[o.iterator](),(u=r())===C)return null;for(;(t=r())!==C;)u=n(t,u)?t:u;return u}},E=function(n){return c(function(e,t){return n(e)>n(t)})},N=function(n){return c(function(e,t){return n(e)>n(t)})},j=c(function(n,e){return n>e}),O=c(function(n,e){return e>n}),u=function(n){return"function"!=typeof n&&(n=function(e){return e===n}),function(e){var t,r;for(t=x(e)[o.iterator]();(r=t())!==C;)if(!n(r))return!1;return!0}},a=function(n){var e;return e=u(function(e){return!n(e)}),function(n){return!e(n)}},g=function(n){var e;return e={},v(n,function(n){var t,r;return t=n[0],r=n[1],e[t]=r}),e},s=function(){return s},s.toString=function(){return"foreach.break"},v=function(n,e,t){var r,u;for(r=x(n)[o.iterator]();(u=r())!==C&&e(u,t)!==s;);return t},Object.defineProperties(v,{"break":{writable:!1,configurable:!1,enumerable:!1,value:s}}),{nil:C,LazyList:r,Iterator:e,Symbol:o,naturals:A,range:z,primes:L,lazy:x,enumerate:h,repeat:q,iterate:k,randoms:P,permutations:F,cons:p,map:B,filter:d,take:$,takeWhile:Q,drop:f,dropWhile:m,scanl:R,streak:W,streak2:V,reverse:U,sort:D,sortOn:H,groupOn:b,partition:M,concat:i,zip:G,zipWith:J,cartProd:l,list:T,head:w,last:S,length:I,foldl:y,best:c,maximum:j,minimum:O,maximumOn:E,minimumOn:N,all:u,any:a,fromList:g,foreach:v}},e.exports=n({Symbol:"undefined"!=typeof Symbol&&null!==Symbol?Symbol:{iterator:"iter"}})}).call(this)},{}],12:[function(n,e,t){(function(e){var t,r,o;t=n("./index");for(r in t)o=t[r],e[r]=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":14}],13:[function(n,e,t){var r,o,u,a,c;c=n("./typespec"),a=c.htmlInline,u=c.htmlBlock,r=function(n){return function(e){var t;return t=u(e),null==t?null:{head:n(t.head),body:t.body,tail:t.tail}}},o=function(n,e){return function(t){var r;return r=map(function(n){var t,r,o,c,s;return r=n[0],s=n[1],t=u(s),"<li>\n<div class='"+(null!=t?"fold":"inline")+"'>\n	<span class='"+e+"'>"+r+"</span>: "+a(s)+"\n</div>\n"+(null!=t?"<div class='unfold'>\n	<span class='"+e+"'>"+r+"</span>: "+t.head+"\n	"+(null!=(o=t.body)?o:"")+"\n	"+(null!=(c=t.tail)?c:"")+"\n</div>":"")+"\n</li>"})(enumerate(t)),"<ul class='"+n+"'>"+list(r).join("\n")+"</ul>"}},e.exports={expandBlockHead:r,genBlockBody:o}},{"./typespec":37}],14:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h,d,y,v,g,b,w,k,S,x,I,T,B,j,E,O,N,A,C,M,F,L;n("./prim-object"),n("./prim-array"),n("./prim-constructor"),o=n("./prim-bool").Bool,r=n("./prim-any").Any,s=n("./prim-int").Int,f=n("./prim-nat").Nat,a=n("./prim-enum").Enum,k=n("./prim-value").Value,m=n("./prim-optional").Optional,h=n("./prim-promise").Promise,v=n("./prim-tree").Tree,i=n("./prim-map").Map,g=n("./prim-treemap").TreeMap,c=n("./prim-fn").Fn,p=n("./prim-namedtype").NamedType,y=n("./prim-strict").Strict,l=n("./prim-loose").Loose,d=n("./prim-select").Select,u=n("./prim-choose").Choose,j=n("./typespec"),B=j.match,C=j.show,N=j.sample,A=j.samples,M=j.showHtml,I=j.htmlInline,x=j.htmlBlock,E=n("./render"),S=E.genRenderCode,F=E.showPage,O=n("./typeclass"),L=O.typeclass,T=O.instance,e.exports={Number:Number,String:String,Bool:o,Any:r,Int:s,Nat:f,Enum:a,Value:k,Optional:m,Promise:h,Tree:v,Map:i,TreeMap:g,Fn:c,NamedType:p,Strict:y,Loose:l,Select:d,Choose:u,match:B,show:C,sample:N,samples:A,showHtml:M,genRenderCode:S,showPage:F},null===e.parent&&(n("coffee-mate/global"),w=m(String),b={name:w,position:String,age:Number},assert(function(){return B(w)("luo")===!0}),assert(function(){return B(w)(1)===!1}),log(function(){return C(w)}))},{"./prim-any":15,"./prim-array":16,"./prim-bool":17,"./prim-choose":18,"./prim-constructor":19,"./prim-enum":20,"./prim-fn":21,"./prim-int":22,"./prim-loose":23,"./prim-map":24,"./prim-namedtype":25,"./prim-nat":26,"./prim-object":27,"./prim-optional":28,"./prim-promise":29,"./prim-select":30,"./prim-strict":31,"./prim-tree":32,"./prim-treemap":33,"./prim-value":34,"./render":35,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],15:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("./typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),o("TypeSpec")(r).where({match:function(){return function(n){return null!=n}},show:function(){return"Any"},samples:function(){return concat(repeat(["a",3,!0,[1,2],{x:1}]))},sample:function(){return"any"}}),e.exports={Any:r}},{"./typeclass":36,"coffee-mate/global":10}],16:[function(n,e,t){var r,o,u,a,c,s,l,i;n("coffee-mate/global"),u=n("./typeclass").instance,c=n("./typespec"),a=c.match,i=c.show,l=c.samples,s=c.sample,o=c.htmlInline,r=c.htmlBlock,u("TypeSpec")(Array).where({match:function(n){var e;return e=n[0],function(n){return null!=n&&n.constructor===Array&&all(a(e))(n)}},show:function(n){var e;return e=n[0],"["+i(e)+"]"},samples:function(n){var e;return e=n[0],concat(repeat(reverse(map(function(n){return list(take(n)(l(e)))})(range(3)))))},sample:function(n){var e;return e=n[0],[s(e)]},htmlInline:function(n){var e;return e=n[0],"<span class='type-maker'>["+o(e)+"]</span>"},htmlBlock:function(n){var e,t,o;return o=n[0],null==(e=r(o))?null:{head:"<span class='type-maker'>["+e.head+"</span>",body:e.body,tail:"<span class='type-maker'>"+(null!=(t=e.tail)?t:"")+"]</span>"}}})},{"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],17:[function(n,e,t){var r;r=Boolean,e.exports={Bool:r}},{}],18:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h;n("coffee-mate/global"),l=n("./typeclass"),h=l.typeclass,c=l.instance,i=n("./typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,a=i.htmlInline,u=i.htmlBlock,o=n("./helpers").genBlockBody,r=function(){function n(e){return assert(function(){return null!=e&&e.constructor===Array}),assert(function(){return all(function(n){return null!=n&&h("TypeSpec").hasInstance(n.constructor)})(e)}),{constructor:n,specs:e}}return n}(),c("TypeSpec")(r).where({match:function(n){var e;return e=n.specs,function(n){return null!=n&&any(function(e){return s(e)(n)})(e)}},show:function(n){var e;return e=n.specs,list(map(m)(e)).join(" | ")},samples:function(n){var e;return e=n.specs,concat(repeat(map(p)(e)))},htmlInline:function(n){var e;return e=n.specs,"<span class='type-maker unwrapped'>"+list(map(a)(e)).join(" | ")+"</span>"},htmlBlock:function(n){var e;return e=n.specs,{head:"<span class='type-maker'>Choose [</span>",body:o("choose","meta-field")(dict(list(zip(naturals,e)))),tail:"<span class='type-maker'>]</span>"}}}),e.exports={Choose:r}},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],19:[function(n,e,t){var r,o,u,a,c,s;n("coffee-mate/global"),r=n("./typeclass").instance,u=n("./typespec"),o=u.match,s=u.show,c=u.samples,a=u.sample,r("TypeSpec")(Function).where({match:function(n){return function(e){return null!=e&&e.constructor===n}},show:function(n){return n.name||"UnnamedType"},samples:function(n){switch(n){case Boolean:return concat(repeat([!0,!1]));case Number:return concat(repeat([3.14,9,42]));case String:return concat(repeat(["abc","hello"]));default:return repeat(new n)}},htmlInline:function(n){return"<span class='type-maker'>"+s(n)+"</span>"}})},{"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],20:[function(n,e,t){var r,o,u=[].indexOf||function(n){for(var e=0,t=this.length;t>e;e++)if(e in this&&this[e]===n)return e;return-1};n("coffee-mate/global"),o=n("./typeclass").instance,r=function(){function n(e){return assert(function(){return all(function(n){return null!=n})(e)}),{constructor:n,"enum":e}}return n}(),o("TypeSpec")(r).where({match:function(n){var e;return e=n["enum"],function(n){return u.call(e,n)>=0}},show:function(n){var e;return e=n["enum"],e.length>1?"Enum ["+json(e[0])+" ...]":"Enum ["+e[0]+"]"},samples:function(n){var e;return e=n["enum"],concat(repeat(e))},htmlInline:function(n){var e;return e=n["enum"],"<span class='type-maker unwrapped'>Enum "+json(e)+"</span>"}}),e.exports={Enum:r}},{"./typeclass":36,"coffee-mate/global":10}],21:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h;n("coffee-mate/global"),l=n("./typeclass"),h=l.typeclass,c=l.instance,i=n("./typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,a=i.htmlInline,u=i.htmlBlock,o=n("./helpers").genBlockBody,r=function(){function n(e){return assert(function(){return h("TypeSpec").hasInstance(e.constructor)}),function(t){return assert(function(){return h("TypeSpec").hasInstance(t.constructor)}),{constructor:n,ispec:e,ospec:t}}}return n}(),c("TypeSpec")(r).where({match:function(n){var e,t;return e=n.ispec,t=n.ospec,function(n){return null!=n&&n.constructor===Function}},withSpec:function(n){var e,t;return e=n.ispec,t=n.ospec,function(n){if(null==n||n.constructor!==Function)throw TypeError({expected:"Function",got:n});return function(r){var o;return withSpec(e)(r),o=n(r),withSpec(t)(o),o}}},show:function(n){var e,t;return e=n.ispec,t=n.ospec,m(e)+" -> "+m(t)},samples:function(n){var e,t;return e=n.ispec,t=n.ospec,repeat({"[input]":p(e),"[output]":p(t)})},htmlInline:function(n){var e,t;return e=n.ispec,t=n.ospec,"<span class='type-maker unwrapped'>"+a(e)+" -> "+a(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.ispec,t=n.ospec,{head:"<span class='type-maker'>Function (</span>",body:o("function","meta-field")({input:e,output:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={Fn:r}},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],22:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("./typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),o("TypeSpec")(r).where({match:function(){return function(n){return null!=n&&n.constructor===Number&&!isNaN(n)&&n===parseInt(n)}},show:function(){return"Int"},samples:function(){return concat(repeat([42,1,2]))}}),e.exports={Int:r}},{"./typeclass":36,"coffee-mate/global":10}],23:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h;n("coffee-mate/global"),l=n("./typeclass"),h=l.typeclass,c=l.instance,i=n("./typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,a=i.htmlInline,u=i.htmlBlock,o=n("./helpers").genBlockBody,r=function(){function n(e){return assert(function(){return all(function(n){var e,t;return e=n[0],t=n[1],h("TypeSpec").hasInstance(t.constructor)})(enumerate(e))}),{constructor:n,specdict:e}}return n}(),c("TypeSpec")(r).where({match:function(n){var e;return e=n.specdict,function(n){return null!=n&&n.constructor===Object&&all(function(e){var t,r;return t=e[0],r=e[1],s(r)(n[t])})(enumerate(e))}},show:function(n){var e;return e=n.specdict,"Loose {"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+m(t)})(enumerate(e))).join(", ")+"}"},samples:function(n){var e;return e=n.specdict,repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,p(t)]})(enumerate(e)))))},htmlInline:function(n){var e;return e=n.specdict,"<span class='type-maker unwrapped'>Loose {<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specdict,{head:"<span class='type-maker'>Loose {</span>",body:o("loose","field-name")(e),tail:"<span class='type-maker'>}</span>"}}}),e.exports={Loose:r}},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],24:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h;n("coffee-mate/global"),l=n("./typeclass"),h=l.typeclass,c=l.instance,i=n("./typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,a=i.htmlInline,u=i.htmlBlock,o=n("./helpers").genBlockBody,r=function(){function n(e){return assert(function(){return h("TypeSpec").hasInstance(e.constructor)}),function(t){return assert(function(){return h("TypeSpec").hasInstance(t.constructor)}),{constructor:n,kspec:e,vspec:t}}}return n}(),c("TypeSpec")(r).where({match:function(n){var e,t;return e=n.kspec,t=n.vspec,function(n){var r,o,u;return o=s(e),u=s(t),null!=n&&n.constructor===Object&&all(o)(r=Object.keys(n))&&all(u)(map(seek(n))(r))}},show:function(n){var e,t;return e=n.kspec,t=n.vspec,"Map "+m(e)+" "+m(t)},samples:function(n){var e,t,r,o;return t=n.kspec,o=n.vspec,e=list(take(4)(f(t))),r=list(take(4)(f(o))),concat(repeat([dict([[e[0],r[0]],[e[1],r[1]]]),dict([[e[2],r[2]],[e[3],r[3]]])]))},htmlInline:function(n){var e,t;return e=n.kspec,t=n.vspec,"<span class='type-maker unwrapped'>Map "+a(e)+" "+a(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.kspec,t=n.vspec,{head:"<span class='type-maker'>Map (</span>",body:o("map","meta-field")({key:e,value:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={Map:r}},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],25:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h;n("coffee-mate/global"),l=n("./typeclass"),h=l.typeclass,c=l.instance,i=n("./typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,a=i.htmlInline,u=i.htmlBlock,o=n("./helpers").expandBlockHead,r=function(){function n(e){var t,r,o,u,a;if(o=e.name,a=e.spec,r=e.desc,t=e.check,u=e.samples,null==o||null==a)throw Error("name & spec must be specified for a NamedType declaration");if(assert(function(){return h("TypeSpec").hasInstance(a.constructor)}),null!=u&&!all(s(a))(take(100)(u)))throw log(function(){return o}),log(function(){return a}),log(function(){return u}),log(function(){return s(a)(u[0])}),TypeError("bad samples");return{constructor:n,name:o,spec:a,desc:r,check:t,samples:u}}return n}(),c("TypeSpec")(r).where({match:function(n){var e,t;return t=n.spec,e=n.check,function(n){return s(t)(n)&&(null!=e?e(n):!0)}},show:function(n){var e,t;return e=n.name,t=n.spec,e||m(t)},samples:function(n){var e,t;return t=n.spec,e=n.samples,null!=e?concat(repeat(e)):f(t)},htmlInline:function(n){var e,t;return e=n.name,t=n.spec,null!=e?"<span class='type-name'>"+e+"</span>":a(t)},htmlBlock:function(n){var e,t,r;return e=n.name,r=n.spec,null!=(t=o(function(n){return"<span><span class='type-name'>"+e+"</span><span class='spliter'>spec:</span>"+n+"</span>"})(r))?t:{head:"<span><span class='type-name'>"+e+"</span><span class='spliter'>spec:</span>"+a(r)+"</span>"}},showHtml:function(n){var e,t,r,o,c,s,l,i,f;return c=n.name,r=n.desc,i=n.spec,
e=n.check,s=null==c?"":"<div class='name'>\n<span class='meta-field'>name</span>: <span class='type-name'>"+c+"</span>\n</div>",o=null==r?"":function(){var n;return n=r,"<div class='desc'>\n<span class='meta-field'>desc</span>: "+(/\n/.test(n)?"<pre class='text'>"+n+"</pre>":"<span class='text'>"+n+"</span>")+"\n</div>"}(),f=function(){var n,e,t;return n=u(i),("<div class='spec'>\n<div class='"+(null!=n?"fold":"inline")+"'><span class='meta-field'>spec</span>: "+a(i)+"</div>\n"+(null!=n?"<div class='unfold'>\n	<span class='meta-field'>spec</span>: "+n.head+"\n	"+(null!=(e=n.body)?e:"")+"\n	"+(null!=(t=n.tail)?t:"")+"\n</div>":"")+"\n</div>").replace(/(\t|\n)/g,"")}(),l=function(){var e;return e=json(p(n),4),"<div class='sample'>\n<span class='meta-field'>sample</span>: "+(/\n/.test(e)?"<pre class='code'>"+e+"</pre>":"<span class='code'>"+e+"</span>")+"\n</div>"}(),t=null==e?"":function(){var n;return n=e.toString(),"<div class='check'>\n<span class='meta-field'>constraint</span>: "+(/\n/.test(n)?"<pre class='code'>"+n+"</pre>":"<span class='code'>"+n+"</span>")+"\n</div>"}(),"<div class='typespec'>"+(s+o+f+l+t)+"</div>"}}),e.exports={NamedType:r}},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],26:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("./typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),o("TypeSpec")(r).where({match:function(){return function(n){return null!=n&&n.constructor===Number&&!isNaN(n)&&n>=0&&n===parseInt(n)}},show:function(){return"Nat"},samples:function(){return concat(repeat([42,1,2]))}}),e.exports={Nat:r}},{"./typeclass":36,"coffee-mate/global":10}],27:[function(n,e,t){var r,o,u,a,c,s,l,i,p;n("coffee-mate/global"),a=n("./typeclass").instance,s=n("./typespec"),c=s.match,p=s.show,i=s.samples,l=s.sample,u=s.htmlInline,o=s.htmlBlock,r=n("./helpers").genBlockBody,a("TypeSpec")(Object).where({match:function(n){return function(e){return null!=e&&e.constructor===Object&&all(function(e){return null!=n[e]})(Object.keys(e))&&all(function(n){var t,r;return t=n[0],r=n[1],c(r)(e[t])})(enumerate(n))}},show:function(n){return"{"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+p(t)})(enumerate(n))).join(", ")+"}"},samples:function(n){return repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,l(t)]})(enumerate(n)))))},htmlInline:function(n){return"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){return{head:"<span class='type-maker'>{</span>",body:r("object","field-name")(n),tail:"<span class='type-maker'>}</span>"}}})},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],28:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h;n("coffee-mate/global"),l=n("./typeclass"),h=l.typeclass,c=l.instance,i=n("./typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,a=i.htmlInline,u=i.htmlBlock,o=n("./helpers").expandBlockHead,r=function(){function n(e){return assert(function(){return h("TypeSpec").hasInstance(e.constructor)}),{constructor:n,spec:e}}return n}(),c("TypeSpec")(r).where({match:function(n){var e;return e=n.spec,function(n){return null==n||s(e)(n)}},show:function(n){var e;return e=n.spec,"Optional "+m(e)},samples:function(n){var e,t;return t=n.spec,e=list(take(2)(f(t))),concat(repeat([e[0],null,e[1],void 0]))},htmlInline:function(n){var e;return e=n.spec,"<span class='type-maker unwrapped'>Optional "+a(e)+"</span>"},htmlBlock:function(n){var e;return e=n.spec,o(function(n){return"<span class='type-maker'>Optional "+n+"</span>"})(e)}}),e.exports={Optional:r}},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],29:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h;n("coffee-mate/global"),l=n("./typeclass"),h=l.typeclass,c=l.instance,i=n("./typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,a=i.htmlInline,u=i.htmlBlock,o=n("./helpers").expandBlockHead,r=function(){function n(e){return assert(function(){return h("TypeSpec").hasInstance(e.constructor)}),{constructor:n,spec:e}}return n}(),c("TypeSpec")(r).where({match:function(n){var e;return e=n.spec,function(n){return null!=(null!=n?n.then:void 0)}},withSpec:function(n){var e;return e=n.spec,function(n){if(null==(null!=n?n.then:void 0))throw TypeError({expected:"Promise",got:n});return n.then(function(n){return withSpec(e)(n),n})}},show:function(n){var e;return e=n.spec,"Promise "+m(e)},samples:function(n){var e;return e=n.spec,f(e)},htmlInline:function(n){var e;return e=n.spec,"<span class='type-maker unwrapped'>Promise "+a(e)+"</span>"},htmlBlock:function(n){var e;return e=n.spec,o(function(n){return"<span class='type-maker'>Promise "+n+"</span>"})(e)}}),e.exports={Promise:r}},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],30:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h;n("coffee-mate/global"),l=n("./typeclass"),h=l.typeclass,c=l.instance,i=n("./typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,a=i.htmlInline,u=i.htmlBlock,o=n("./helpers").genBlockBody,r=function(){function n(e){return assert(function(){return Object.keys(e).length>=1&&all(function(n){var e,t;return e=n[0],t=n[1],h("TypeSpec").hasInstance(t.constructor)})(enumerate(e))}),{constructor:n,specs:e}}return n}(),c("TypeSpec")(r).where({match:function(n){var e;return e=n.specs,function(n){var t,r,o;return null!=n&&n.constructor===Object&&1===(r=Object.keys(n)).length&&null!=(o=e[t=r[0]])&&s(o)(n[t])}},show:function(n){var e;return e=n.specs,"Select {"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+m(t)})(enumerate(e))).join(", ")+"}"},samples:function(n){var e;return e=n.specs,concat(repeat(map(function(n){var e,t;return e=n[0],t=n[1],dict([[e,p(t)]])})(enumerate(e))))},htmlInline:function(n){var e;return e=n.specs,"<span class='type-maker unwrapped'>Select {<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specs,{head:"<span class='type-maker'>Select {</span>",body:o("select","field-name")(e),tail:"<span class='type-maker'>}</span>"}}}),e.exports={Select:r}},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],31:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h;n("coffee-mate/global"),l=n("./typeclass"),h=l.typeclass,c=l.instance,i=n("./typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,a=i.htmlInline,u=i.htmlBlock,o=n("./helpers").genBlockBody,r=function(){function n(e){return assert(function(){return all(function(n){var e,t;return e=n[0],t=n[1],h("TypeSpec").hasInstance(t.constructor)})(enumerate(e))}),{constructor:n,specdict:e}}return n}(),c("TypeSpec")(r).where({match:function(n){var e;return e=n.specdict,function(n){return null!=n&&n.constructor===Object&&all(function(n){return null!=e[n]})(Object.keys(n))&&all(function(e){var t,r;return t=e[0],r=e[1],s(r)(n[t])})(enumerate(e))}},show:function(n){var e;return e=n.specdict,"{"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+m(t)})(enumerate(e))).join(", ")+"}"},samples:function(n){var e;return e=n.specdict,repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,p(t)]})(enumerate(e)))))},htmlInline:function(n){var e;return e=n.specdict,"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specdict,{head:"<span class='type-maker'>{</span>",body:o("strict","field-name")(e),tail:"<span class='type-maker'>}</span>"}}}),e.exports={Strict:r}},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],32:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h;n("coffee-mate/global"),l=n("./typeclass"),h=l.typeclass,c=l.instance,i=n("./typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,a=i.htmlInline,u=i.htmlBlock,o=n("./helpers").expandBlockHead,r=function(){function n(e){return assert(function(){return h("TypeSpec").hasInstance(e.constructor)}),{constructor:n,labelSpec:e}}return n}(),c("TypeSpec")(r).where({match:function(n){return function(e){var t,r;return t=n.labelSpec,null!=e&&"object"==typeof e&&null!=e.rootLabel&&(null!=(r=e.subForest)?r.constructor:void 0)===Array&&s(t)(e.rootLabel)&&all(s(n))(e.subForest)}},show:function(n){var e;return e=n.labelSpec,"Tree "+m(e)},samples:function(n){var e,t,r,o;return e=n.labelSpec,t=list(take(2)(f(e))),r={rootLabel:t[0],subForest:[]},o={rootLabel:t[1],subForest:[r]},concat(repeat([r,o]))},htmlInline:function(n){var e;return e=n.labelSpec,"<span class='type-maker unwrapped'>Tree "+a(e)+"</span>"},htmlBlock:function(n){var e;return e=n.labelSpec,o(function(n){return"<span class='type-maker'>Tree "+n+"</span>"})(e)}}),e.exports={Tree:r}},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],33:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h;n("coffee-mate/global"),l=n("./typeclass"),h=l.typeclass,c=l.instance,i=n("./typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,a=i.htmlInline,u=i.htmlBlock,o=n("./helpers").genBlockBody,r=function(){function n(e){return assert(function(){return h("TypeSpec").hasInstance(e.constructor)}),function(t){return assert(function(){return h("TypeSpec").hasInstance(t.constructor)}),{constructor:n,kspec:e,vspec:t}}}return n}(),c("TypeSpec")(r).where({match:function(n){return function(e){var t,r,o,u,a,c;return r=n.kspec,c=n.vspec,o=s(r),u=s(n),null!=e&&e.constructor===Object&&("node"===(a=Object.keys(e)[0])&&all(o)(t=Object.keys(e.node))&&all(u)(map(seek(e.node))(t))||"leaf"===a&&s(c)(e.leaf))}},show:function(n){var e,t;return e=n.kspec,t=n.vspec,"TreeMap "+m(e)+" "+m(t)},samples:function(n){var e,t,r,o;return t=n.kspec,o=n.vspec,e=list(take(4)(f(t))),r=list(take(3)(f(o))),concat(repeat([{node:dict([[e[0],{node:dict([[e[2],{leaf:r[0]}],[e[3],{leaf:r[1]}]])}],[e[1],{leaf:r[2]}]])}]))},htmlInline:function(n){var e,t;return e=n.kspec,t=n.vspec,"<span class='type-maker unwrapped'>TreeMap "+a(e)+" "+a(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.kspec,t=n.vspec,{head:"<span class='type-maker'>TreeMap (</span>",body:o("treemap","meta-field")({key:e,value:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={TreeMap:r}},{"./helpers":13,"./typeclass":36,"./typespec":37,"coffee-mate/global":10}],34:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("./typeclass").instance,r=function(){function n(e){return assert(function(){return null!=e}),{constructor:n,value:e}}return n}(),o("TypeSpec")(r).where({match:function(n){var e;return e=n.value,function(n){return n===e}},show:function(n){var e;return e=n.value,"Value "+json(e)},samples:function(n){var e;return e=n.value,repeat(e)},htmlInline:function(n){var e;return e=n.value,"<span class='type-maker unwrapped'>Value "+json(e)+"</span>"}}),e.exports={Value:r}},{"./typeclass":36,"coffee-mate/global":10}],35:[function(n,e,t){var r,o,u,a,c,s,l,i,p,f,m,h,d,y,v,g,b,w,k,S,x,I,T,B,j,E,O,N,A,C,M,F,L,P,z,_,q,U,R,D,H,W,V,$,Q,G,J,Y,K,X,Z;$=n("./typespec"),V=$.match,Y=$.show,G=$.sample,J=$.samples,K=$.showHtml,H=$.htmlInline,D=$.htmlBlock,Z=".typespec {\n	font-family: monospace;\n	font-size: 16px;\n	border-width: 4px;\n	border-color: rgba(165, 230, 229, 0.24);\n	border-style: ridge;\n}\n.typespec>div, .typespec>pre {\n	margin: 0.6em\n}\n.typespec .unfolded>.fold, .typespec .folded>.unfold {\n	display: none\n}\n.typespec ul {\n	list-style-type: none;\n	padding: 0px;\n	margin: 0px 0px 0px 2em;\n}\n.typespec .meta-field {\n	color: gray;\n}\n.typespec .field-name {\n	font-weight: bold;\n	color: #87BFB8\n}\n.typespec .type-name {\n	color: blue;\n}\n.typespec .spec .type-name {\n	cursor: pointer\n}\n.typespec .type-maker {\n	color: #223497\n}\n.typespec .type-maker.unwrapped>.unwrapped:before {\n	content: '('\n}\n.typespec .type-maker.unwrapped>.unwrapped:after {\n	content: ')'\n}\n.typespec .spliter {\n	color: gray;\n	padding: 0 0.5em\n}\n.typespec .sample pre {\n	margin: 0;\n	color: green;\n	max-height: 20em;\n	overflow: auto;\n}\n.typespec .spec {\n	cursor: default\n}\n.typespec .spec li:hover {\n	transition: 1s;\n	background-color: rgba(140, 150, 255, 0.12)\n}\n.typespec .spec .type-name:hover, .typespec .spec .folded-detail:hover, .typespec .fold>.field-name:hover, .typespec .unfold>.field-name:hover, .typespec .fold>.meta-field:hover, .typespec .unfold>.meta-field:hover {\n	opacity: 0.6\n}",_=function(n){return function(e){return e.find(".unfold").each(function(e,t){return n(t).closest("li,.spec").addClass("unfolded").removeClass("folded")}),e.find(".type-name, .choose").each(function(e,t){return n(t).closest("li").addClass("folded").removeClass("unfolded")}),e.find(".type-name, .folded-detail, .fold>.field-name, .unfold>.field-name, .fold>.meta-field, .unfold>.meta-field").each(function(e,t){var r;return(r=n(t).closest("li,.spec")).length>0?n(t).css({cursor:"pointer"}).click(function(){return r.toggleClass("folded").toggleClass("unfolded")}):void 0})}},X=function(n){return"<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n<style>"+Z+"</style>\n"+K(n)+"\n<script src='http://libs.baidu.com/jquery/1.9.0/jquery.js'></script>\n<script>("+_.toString()+")(jQuery)($('.typespec'))</script>"},W=function(n){return function(e,t,r){return n("head").append("<style>"+r+"</style>"),n(".typespec-hook").each(function(e,r){return n(r).append(t[n(r).attr("it")])}),e(n(".typespec"))}},R=function(n){var e;return e=json(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,K(t)]})(enumerate(n))))),"("+W.toString()+")(jQuery)(("+_+")(jQuery), "+e+", "+json(Z)+")"},e.exports={showPage:X,genRenderCode:R},null===e.parent&&(n("coffee-mate/global"),Q=n("./index"),T=Q.Number,A=Q.String,o=Q.Bool,r=Q.Any,v=Q.Int,I=Q.Nat,p=Q.Enum,L=Q.Value,B=Q.Optional,j=Q.Promise,M=Q.Tree,b=Q.Map,F=Q.TreeMap,h=Q.Fn,x=Q.NamedType,N=Q.Strict,g=Q.Loose,E=Q.Select,u=Q.Choose,V=Q.match,Y=Q.show,G=Q.sample,J=Q.samples,K=Q.showHtml,R=Q.genRenderCode,X=Q.showPage,C=x({name:"TableName",spec:A,samples:["table1","table2"]}),m=x({name:"FieldName",spec:A,samples:["product_id","sale","amount"]}),a=p(["=","<","<=",">=",">"]),z=[{tableName:C,join:{leftTableName:C,left:m,op:a,right:m}}],i=x({name:"DimensionName",spec:A,samples:["date","product_type","city"]}),k=x({name:"MeasureName",spec:A,samples:["sale","profit","amount"]}),w=x({name:"Measure",spec:N({name:k,aggregator:p(["sum","avg","max","min"])})}),S=x({name:"MemberName",spec:A,samples:["2013","2014","2015"]}),P=x({name:"ValueExpr",spec:A,samples:["sum(sale)"]}),c=x({name:"ConditionExpr",spec:A,samples:["sum(sale) > 100"]}),l=x({name:"DimensionFilter",spec:N({select:[S],match:E({contains:A,startWith:A,endWith:A}),condition:E({limit:N({measure:w,comparator:a,value:T}),expr:c}),top:N({count:T,by:E({measure:w,expr:P})})})}),y=x({name:"InclusionCondition",spec:N({via:[i],positions:[[S]]})}),f=x({name:"ExclusionCondition",spec:N({via:[i],positions:[[S]]})}),O=x({name:"SortCondition",spec:N({asc:o,by:E({measure:w,expr:P}),where:B(c)})}),s={filter:N({dimensions:b(i)(l),measures:[N({measure:w,limit:{minBound:B(T),maxBound:B(T)}})],inclusions:[y],exclusions:[f]}),sort:b(i)(O)},log(function(){return json(G(z),4)}),log(function(){return Y(s)}),d=x({name:"FooSpec",spec:h(T)(h({x:T,y:T})(j({x:A,y:u([I,A,L("unavailable")])}))),desc:"hello",check:function(n){return n>1}}),U=n("fs"),U.writeFileSync("test.html",X(z)),q={a:d,b:z,c:s,d:m,e:E({x:T,y:A}),f:h(M(v))(g({x:T,y:T}))},U.writeFileSync("test2.js",R(q)))},{"./index":14,"./typespec":37,"coffee-mate/global":10,fs:1}],36:[function(n,e,t){var r,o,u,a;n("coffee-mate/global"),o=function(){var n,e,t,r;return e={},t={},r=function(n){var r,o;return r=null!=t[n]?t[n]:t[n]={},o=null!=e[n]?e[n]:e[n]=[],{hasInstance:function(n){return o.indexOf(n)>=0},where:function(e){var t;return t={},foreach(enumerate(e),function(e){var o,u,a,c;return a=e[0],u=e[1],c=null!=r[a]?r[a]:r[a]=[],o=function(e){var r,o,s,l,i;for(o=0,s=c.length;s>o;o++)if(l=c[o],i=l[0],r=l[1],e.constructor===i)return r(e);if(null!=u)return u.call(t,e);throw TypeError("no instance of "+n+"(via "+a+"("+e+")) for "+(e.constructor.name||"UnnamedType"))},t[a]=o}),t}}},n=function(n){var r,o;return r=null!=t[n]?t[n]:t[n]={},o=null!=e[n]?e[n]:e[n]=[],function(n){return o.indexOf(n)<0&&o.push(n),{where:function(e){return foreach(enumerate(e),function(e){var t,o;return o=e[0],t=e[1],(null!=r[o]?r[o]:r[o]=[]).push([n,t])})}}}},{typeclass:r,instance:n}}(),a=o.typeclass,r=o.instance,e.exports={typeclass:a,instance:r},null===e.parent&&(u=a("Show").where({show:function(){return str(this.zero())},zero:function(){return 0}}).show,r("Show")(String).where({show:function(n){return json(n)}}),r("Show")(Number).where({}),log(function(){return u("hello")}),log(function(){return u(1)}),log(function(){return a("Show").hasInstance(String)}),log(function(){return a("Show").hasInstance(Number)}),log(function(){return a("Show").hasInstance(Object)}))},{"coffee-mate/global":10}],37:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("./typeclass").typeclass,r=o("TypeSpec").where({match:null,withSpec:function(n){return function(e){if(this.match(n)(e))return e;throw TypeError({expected:this.show(n),got:e})}},show:function(n){return n.name||"UnnamedType"},samples:null,sample:function(n){return head(this.samples(n))},htmlInline:function(n){return"<span class='type-maker'>"+this.show(n)+"</span>"},htmlBlock:function(n){return null},showHtml:function(n){var e,t;return t=function(e){return function(){var t,r,o;return t=e.htmlBlock(n),("<div class='spec'>\n<div class='"+(null!=t?"fold":"inline")+"'><span class='meta-field'>spec</span>: "+e.htmlInline(n)+"</div>\n"+(null!=t?"<div class='unfold'>\n	<span class='meta-field'>spec</span>: "+t.head+"\n	"+(null!=(r=t.body)?r:"")+"\n	"+(null!=(o=t.tail)?o:"")+"\n</div>":"")+"\n</div>").replace(/(\t|\n)/g,"")}}(this)(),e=function(e){return function(){var t;return t=json(e.sample(n),4),"<div class='sample'>\n<span class='meta-field'>sample</span>: "+(/\n/.test(t)?"<pre class='code'>"+t+"</pre>":"<span class='code'>"+t+"</span>")+"\n</div>"}}(this)(),"<div class='typespec'>"+(t+e)+"</div>"}}),e.exports=r},{"./typeclass":36,"coffee-mate/global":10}]},{},[12])(12)});
//# sourceMappingURL=global.min.js.map