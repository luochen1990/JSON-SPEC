!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.__lazy=n()}}(function(){return function n(e,t,r){function u(c,a){if(!t[c]){if(!e[c]){var s="function"==typeof require&&require;if(!a&&s)return s(c,!0);if(o)return o(c,!0);var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}var l=t[c]={exports:{}};e[c][0].call(l.exports,function(n){var t=e[c][1][n];return u(t?t:n)},l,l.exports,n,e,t,r)}return t[c].exports}for(var o="function"==typeof require&&require,c=0;c<r.length;c++)u(r[c]);return u}({1:[function(n,e,t){},{}],2:[function(n,e,t){function r(){l=!1,a.length?i=a.concat(i):p=-1,i.length&&u()}function u(){if(!l){var n=setTimeout(r);l=!0;for(var e=i.length;e;){for(a=i,i=[];++p<e;)a[p].run();p=-1,e=i.length}a=null,l=!1,clearTimeout(n)}}function o(n,e){this.fun=n,this.array=e}function c(){}var a,s=e.exports={},i=[],l=!1,p=-1;s.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];i.push(new o(n,e)),1!==i.length||l||setTimeout(u,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=c,s.addListener=c,s.once=c,s.off=c,s.removeListener=c,s.removeAllListeners=c,s.emit=c,s.binding=function(n){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(n){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],3:[function(n,e,t){(function(){var t,r=[].slice;t=function(n){var e,t,u,o,c,a,s,i,l,p,f,m,h,d,y,v,g,b,w,k,S,x,B,T,E,j;return u=n.best,f=n.foldl,l=function(n){return function(e){return function(t){return n(t)(e)}}},c=function(n){return function(e){return function(t){return n(e(t))}}},a=function(n){return function(e){return function(t){return n(e,t)}}},s=function(n){return function(e){return function(t){return function(r){return n(e,t,r)}}}},T=function(n){return function(e,t){return n(e)(t)}},E=function(n){return function(e,t,r){return n(e)(t)(r)}},b=function(n){return function(e){return n.apply(null,e)}},j=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],n(e)}},x=function(n){return function(e){return n[e]}},w=function(n){return function(e){return e[n]}},i=function(n){return function(e){return e===n}},g=function(n){return function(e){return e!==n}},y=function(n){return function(e){return n>e}},h=function(n){return function(e){return e>n}},d=function(n){return function(e){return n>=e}},m=function(n){return function(e){return e>=n}},k=function(n){return function(e){return e+n}},v=function(n){return function(e){return e-n}},e=Math.abs,p=Math.floor,o=Math.ceil,S=function(n){return function(e){return parseFloat(e.toPrecision(n))}},t=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],n(1===e.length&&e.first instanceof Array?e.first:e)}},B=f(function(n,e){return n+e},0),{flip:l,combine:c,curry2:a,curry3:s,uncurry2:T,uncurry3:E,pack:b,unpack:j,seek:x,pluck:w,equal:i,notEqual:g,lessThan:y,lessEqual:d,greaterThan:h,greaterEqual:m,plus:k,minus:v,abs:e,floor:p,ceil:o,precise:S,sum:B}},e.exports=t({best:n("lazy-list").best,foldl:n("lazy-list").foldl})}).call(this)},{"lazy-list":11}],4:[function(n,e,t){(function(){var t,r,u,o,c,a;a=n("./utils"),t=n("./basics"),o=n("lazy-list"),u=n("./funny"),r=n("./convertors"),c=n("./url-helpers"),e.exports=a.extend({})(a,t,o,u,r,c)}).call(this)},{"./basics":3,"./convertors":5,"./funny":6,"./url-helpers":8,"./utils":9,"lazy-list":11}],5:[function(n,e,t){(function(){var n;n=function(){var n,e,t,r,u,o,c,a,s;return u=function(n,e){var t;return"string"==typeof n?(t=parseInt(n,e),null==n.slice||t!==parseInt(n.slice(0,-1),e)?t:null):parseInt(0+n)},t=function(n){return/^-?[0-9]*(\.[0-9]+)?([eE]-?[0-9]+)?$/.test(n)?parseFloat(n):null},s=function(n,e){return n.toString(e)},n=function(n){return n===!0||n===!1?n:null},r=function(n){return n.toString(16)},a=function(n){return n.charCodeAt()},e=function(n){return String.fromCharCode(n)},o=function(n,e){return JSON.stringify(n,null,e)},c=function(n){return JSON.parse(n)},{"int":u,"float":t,bool:n,str:s,hex:r,ord:a,chr:e,json:o,obj:c}},e.exports=n()}).call(this)},{}],6:[function(n,e,t){(function(){var n,t=[].slice;n=function(){var n,e,r,u,o;return e=function(n){var e;return e=function(n,t,r){return 0===t?r:e(n,t-1,n(r))},function(t){return function(r){return e(t,n+0,r)}}},n=function(n){return function(n){return n(n)}(function(e){return n(function(n){return e(e)(n)})})},o=function(n,e){var r;return null==e&&(e=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],json(n)}),r={},function(){var u,o,c,a;return u=1<=arguments.length?t.call(arguments,0):[],c=e.apply(null,u),o=r[c],null!=o?o:(a=n.apply(null,u),r[c]=a,a)}},r=n,u=function(n){var e;return e=o(n(function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],e.apply(null,n)}))},{church:e,Y:n,memoize:o,fix:r,memoFix:u}},e.exports=n()}).call(this)},{}],7:[function(n,e,t){(function(e){(function(){var t,r,u;r=n("./coffee-mate");for(t in r)u=r[t],e[t]=u}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coffee-mate":4}],8:[function(n,e,t){(function(){var n;n=function(){var n,e;return e=function(n){return null==n&&(n=str),function(e){var t,r;return function(){var u;u=[];for(t in e)r=e[t],void 0!==r&&u.push(encodeURIComponent(t)+"="+encodeURIComponent(n(r)));return u}().join("&")}},n=function(n){return null==n&&(n=function(n){return n}),function(e){var t,r,u,o,c,a,s,i,l,p;for(t={},s=null!=(a=e.match(/[^?=&]+=[^&]*/g))?a:[],r=0,c=s.length;c>r;r++)l=s[r],i=l.match(/([^=]+)=(.*)/),u=i.length-2,o=i[u++],p=i[u++],t[decodeURIComponent(o)]=n(decodeURIComponent(p));return t}},{uri_encoder:e,uri_decoder:n}},e.exports=n()}).call(this)},{}],9:[function(n,e,t){(function(n){(function(){var t,r=[].slice;t=function(){var e,t,u,o,c,a,s,i,l,p,f,m,h,d;return i=function(n){var e;return e=n.toString().replace(/^\s*function\s?\(\s?\)\s?{\s*return\s*([^]*?);?\s*}$/,"$1"),e.length<=100&&(e=e.replace(/[\r\n]{1,2}\s*/g,"")),e},h=function(){return(new Date).getTime()},l=function(){var e,t,u,o,c;return e=function(){var e,t;return e=("undefined"==typeof window||null===window)&&"undefined"!=typeof n&&null!==n&&!n.env.NODE_DISABLE_COLORS,t={bold:"[0;1m",red:"[0;31m",green:"[0;32m",yellow:"[0;33m",blue:"[0;34m",bold_grey:"[1;30m"},e?function(n){return function(e){return""+t[n]+e+"[0m"}}:function(n){return function(n){return n}}}(),c=function(){var n,t;return n={"#":"bold_grey",I:"green",E:"red",W:"yellow"},t=function(n){return"log"===n?"#":n[0].toUpperCase()},function(r){var u;return u=t(r),e(n[u])(u)}}(),o=[],t=function(n){var t;return t=""+e("bold_grey")("#")+c(n),function(){var u,c,a,s,l,p,f,m,d;for(u=1<=arguments.length?r.call(arguments,0):[],c=[],p=0,f=u.length;f>p;p++)l=u[p],"function"==typeof l?(s=i(l),m=h(),a=l(),d=h()-m,c.push(t+" "+e("green")(s)+" "+e("bold_grey")("==>"),a),d>0&&c.push(e("yellow")("["+d+"ms]"))):c.push(""+t,l);return console[n].apply(console,c),o.push(c),o.length>=10&&o.shift(),null}},u=t("log"),u.histories=o,u.info=t("info"),u.warn=t("warn"),u.error=u.err=t("error"),u}(),e=function(n,e){var t,r,u;n instanceof Function||(u=[e,n],n=u[0],e=u[1]);try{r=n()}catch(o){throw t=o,Error("Assertion "+(null!=e?e:i(n))+" Unknown:\n"+t)}if(!r)throw Error("Assertion "+(null!=e?e:i(n))+" Failed!")},t=function(n,e){var t,r,u;try{r=n(),u=e()}catch(o){throw t=o,Error("Equation Between "+i(n)+" And "+i(e)+" Unknown:\n"+t)}if(r!==u)throw Error("Equation Failed:\n	"+i(n)+" IS "+r+" BUT\n	"+i(e)+" IS "+u+".")},u=function(n){return function(e,t){var r,u,o,c,a;try{c=e(),a=t(),u=n(c),o=n(a)}catch(s){throw r=s,Error("MAPPED Equation Between "+i(e)+" And "+i(t)+" Unknown:\n"+r)}if(u!==o)throw Error("Equation Failed:\n	"+i(e)+" IS "+c+" AND MAPPED TO "+u+" BUT\n	"+i(t)+" IS "+a+" AND MAPPED TO "+o+".")}},m=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],e=c(e),n.apply(null,e)}},a=function(n){var e,t,r,u,o,c;for(e={},t=0,u=n.length;u>t;t++)o=n[t],r=o[0],c=o[1],e[r]=c;return e},f=function(){var n;return n=function(e,t){var r,u,o;if(0===t||null==e||"object"!=typeof e)return e;if(e instanceof Array)u=function(){var r,u,c;for(c=[],r=0,u=e.length;u>r;r++)o=e[r],c.push(n(o,t-1));return c}();else{u={};for(r in e)o=e[r],u[r]=n(o,t-1)}return u},{copy:function(e,t){return null==t&&(t=1),n(e,t)},deepcopy:function(e,t){return null==t&&(t=1/0),n(e,t)}}}(),o=f.copy,c=f.deepcopy,s=function(n){return function(){var e,t,u,o,c,a;for(t=1<=arguments.length?r.call(arguments,0):[],u=0,c=t.length;c>u;u++)if(e=t[u],null!=e)for(o in e)a=e[o],null==n[o]&&(n[o]=a);return n}},d=function(n){return function(){var e,t,u,o,c,a;for(c=1<=arguments.length?r.call(arguments,0):[],t=0,o=c.length;o>t;t++)if(e=c[t],null!=e)for(u in e)a=e[u],n[u]=a;return n}},p=function(n){var e,t;return e=o(n),t=e._,null!=t?function(){var n,u;return n=1<=arguments.length?r.call(arguments,0):[],(null!=(u=e[n.length])?u:t).apply(null,n)}:function(){var n,t;if(n=1<=arguments.length?r.call(arguments,0):[],t=e[n.length],null==t)throw Error("This Function Can't Accept "+n.length+" Args");return t.apply(null,n)}},{log:l,assert:e,assertEq:t,assertEqOn:u,dict:a,copy:o,deepcopy:c,securely:m,extend:s,update:d,overload:p}},e.exports=t()}).call(this)}).call(this,n("_process"))},{_process:2}],10:[function(n,e,t){n("./build/nodejs/global.js")},{"./build/nodejs/global.js":7}],11:[function(n,e,t){(function(){var n,t=[].slice;n=function(n){var e,r,u,o,c,a,s,i,l,p,f,m,h,d,y,v,g,b,w,k,S,x,B,T,E,j,I,O,N,A,D,F,M,G,C,L,z,P,_,q,U,R,V,H,W,K,$,Q;return u=n.Symbol,r=function(n){return n[u.iterator]=function(){return n()},n.toString=function(){return"LazyList"},n},D=r(function(){return D}),D.toString=function(){return"nil"},e=function(n){return n.next=function(){var e;return e=n(),{value:e,done:e===D}},n.toString=function(){return"Iterator"},n},A=r(function(){var n;return n=-1,e(function(){return++n})}),L=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],0===n.length?A:r(1===n.length?function(){var t,r;return r=n[0],t=-1,e(function(){return++t<r?t:D})}:2===n.length?function(){var t,r,u;return r=n[0],u=n[1],u>r?(t=r-1,e(function(){return++t<u?t:D})):(t=r+1,e(function(){return--t>u?t:D}))}:function(){var t,r,u,o;if(r=n[0],o=n[1],u=n[2],o!==r&&0>(o-r)*u)throw"ERR IN range(): YOU ARE CREATING AN UNLIMITTED RANGE";return t=r-u,e(o>r?function(){return(t+=u)<o?t:D}:function(){return(t+=u)>o?t:D})})},G=r(function(){return d(function(n){return o(function(e){return n%e!==0})(K(function(e){return n>=e*e})(L(2,1/0)))})(L(2,1/0))()}),x=function(n){var t;if("function"==typeof n)return null!=n[u.iterator]?n:r(n);if((t=n.constructor)===Array||t===String)return r(function(){var t;return t=-1,e(function(){return++t<n.length?n[t]:D})});if(null!=n[u.iterator])return r(function(){var t;return t=n[u.iterator](),e(function(){var n;return n=t.next(),n.done?D:n.value})});throw Error("lazy(xs): xs is neither Array nor Iterable")},h=function(n){return null!=n[u.iterator]||n instanceof Array?$(A,n):r(function(){var t,r;return r=Object.keys(n),t=-1,e(function(){var e;return++t<r.length?[e=r[t],n[e]]:D})})},P=function(n){return r(function(){return e(function(){return n})})},k=function(n,t){return r(function(){var r;return r=t,e(function(){var e;return e=r,r=n(r),e})})},C=function(){var n,e,t;return t=Math.PI/3,n=function(n){return n=1e4*Math.sin(n+t),n-Math.floor(n)},e=function(e){return k(n,n(e))},function(n){var t,r,u,o,c,a;return null==n?e(0):"number"==typeof n?e(n):(a=null!=(r=n.seed)?r:0,o=n.range,null!=o?"number"==typeof o?E(function(n){return Math.floor(n*o)})(e(a)):(u=[o[0],o[1]-o[0]+1],c=u[0],t=u[1],E(function(n){return c+Math.floor(n*t)})(e(a))):e(a))}}(),M=function(){var n;return n=function(n){var e,t,r,u,o;for(n=n.slice(0),e=n.length-1;e>=1&&n[e]<=n[e-1];)--e;if(0!==e){for(t=n.length-1;t>e-1&&n[t]<=n[e-1];)--t;u=[n[e-1],n[t]],n[t]=u[0],n[e-1]=u[1]}for(r=n.length-1;r>e;)o=[n[r],n[e]],n[e]=o[0],n[r]=o[1],++e,--r;return n},function(e){var t;return t=T(e),0===t.length?D:p(t.slice(0))(K(function(n){return json(n)!==json(t)})(f(1)(k(n,t))))}}(),W=function(n){return function(t){return r(function(){var r,o;return o=x(t)[u.iterator](),r=-1,e(function(){return++r<n?o():D})})}},K=function(n){return function(t){return r(function(){var r;return r=x(t)[u.iterator](),e(function(){var e;return(e=r())!==D&&n(e)?e:D})})}},f=function(n){return function(e){return r(function(){var t,r,o,c,a;for(o=x(e)[u.iterator](),t=!1,r=c=0,a=n;(a>=0?a>c:c>a)&&(t||(t=o()===D),!t);r=a>=0?++c:--c);return t?function(){return D}:o})}},m=function(n){return function(t){return r(function(){var r,o;for(r=x(t)[u.iterator]();n(o=r())&&o!==D;);return e(function(){var n,e;return e=[o,r()],n=e[0],o=e[1],n})})}},p=function(n){return function(t){return r(function(){var r;return r=null,e(function(){return null===r?(r=x(t)[u.iterator](),n):r()})})}},E=function(n){return function(t){return r(function(){var r;return r=x(t)[u.iterator](),e(function(){var e;return(e=r())!==D?n(e):D})})}},d=function(n){return function(t){return r(function(){var r;return r=x(t)[u.iterator](),e(function(){for(var e;(e=r())!==D&&!n(e););return e})})}},q=function(n,t){return function(o){return r(function(){var r;return r=x(o)[u.iterator](),e(function(){var e,u;return e=t,t=(u=r())!==D?n(t,u):D,e})})}},V=function(n){return 1>n?D:function(t){return f(n-1)(r(function(){var r,o;return o=x(t)[u.iterator](),r=[],e(function(){var e;return(e=o())===D?D:(r.push(e),r.length>n&&r.shift(1),r.slice(0))})}))}},H=function(n){return function(e){return V(n)(l([e,W(n-1)(e)]))}},_=function(n){var t;return(t=n.constructor)===Array||t===String?r(function(){var t;return t=n.length,e(function(){return--t>=0?n[t]:D})}):T(x(n)).reverse()},U=function(n){var e;return e=T(x(n)),e.sort(function(n,e){return(n>e)-(e>n)})},R=function(n){return function(e){var t;return t=T(x(e)),t.sort(function(e,t){var r,u;return((r=n(e))>(u=n(t)))-(u>r)})}},b=function(n){return function(e){var t,r,u;return r={},v(e,function(e){var t;return t=n(e),null==r[t]&&(r[t]=[]),r[t].push(e)}),function(){var n;n=[];for(t in r)u=r[t],n.push(u);return n}()}},F=function(n){return function(e){var t;return t=[[],[]],v(e,function(e){var r;return r=!n(e)+0,t[r].push(e)}),t}},l=function(n){return n=d(function(n){var e;return(e=n.constructor)!==Array&&e!==String||n.length>0})(n),r(function(){var t,r,o;return o=x(n)[u.iterator](),r=o(),t=x(r)[u.iterator](),e(function(){var n;return(n=t())!==D?n:(r=o())!==D?(t=x(r)[u.iterator]())():D})})},z=function(){var n,o,c;return n=function(n){var e,t,r;for(e=0,t=n.length;t>e;e++)if(r=n[e],r===D)return!0;return!1},o=function(){var o;return o=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r;return t=function(){var n,e,t;for(t=[],n=0,e=o.length;e>n;n++)r=o[n],t.push(x(r)[u.iterator]());return t}(),e(function(){var e,r;return r=function(){var n,r,u;for(u=[],n=0,r=t.length;r>n;n++)e=t[n],u.push(e());return u}(),n(r)?D:r})})},c=function(o){return function(){var c;return c=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r;return t=function(){var n,e,t;for(t=[],n=0,e=c.length;e>n;n++)r=c[n],t.push(x(r)[u.iterator]());return t}(),e(function(){var e,r;return r=function(){var n,r,u;for(u=[],n=0,r=t.length;r>n;n++)e=t[n],u.push(e());return u}(),n(r)?D:o.apply(null,r)})})}},{zip:o,zipWith:c}}(),$=z.zip,Q=z.zipWith,i=function(){var n,u;return u=function(n){var e;return e=n.length-1,function(t){var r;for(r=e;!(++t[r]<n[r]||0>=r);)t[r--]=0;return t}},n=function(n){var e;return e=n.length,function(t){var r,u,o,c;for(c=[],r=u=0,o=e;o>=0?o>u:u>o;r=o>=0?++u:--u)c.push(n[r][t[r]]);return c}},function(){var o;return o=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r,c,a,s,i,l,p,f;for(o=function(){var n,e,t;for(t=[],n=0,e=o.length;e>n;n++)f=o[n],t.push(T(f));return t}(),l=function(){var n,e,t;for(t=[],r=n=0,e=o.length;e>=0?e>n:n>e;r=e>=0?++n:--n)t.push(o[r].length);return t}(),a=0,i=l.length;i>a;a++)if(s=l[a],0===s)return D;return c=u(l),t=n(o),p=function(){var n,e,t;for(t=[],r=n=0,e=o.length;e>=0?e>n:n>e;r=e>=0?++n:--n)t.push(0);return t}(),e(function(){var n;return p[0]<l[0]?(n=t(p),c(p),n):D})})}}(),T=function(n){var e,t,r,o,c;if(n instanceof Array)return n;if("function"==typeof n){for(e=n[u.iterator](),r=[];(c=e())!==D;)r.push(c);return r}if(null!=n[u.iterator]){for(e=x(n)[u.iterator](),o=[];(c=e())!==D;)o.push(c);return o}if("number"==typeof n)return t=n,function(n){return T(W(t)(n))};throw Error({message:"list(xs): xs is neither Array nor Iterable",info:{xs:n,"xs.constructor":null!=n?n.constructor:void 0}})},w=function(n){var e,t,r;if((r=n.constructor)===Array||r===String){if(n.length>0)return n[0];throw"Error: head() used on empty list."}if(e=x(n)[u.iterator](),(t=e())!==D)return t;throw"Error: head() used on empty list."},S=function(n){var e,t,r,o,c;if((r=n.constructor)===Array||r===String)return null!=(o=n[n.length-1])?o:D;for(e=x(n)[u.iterator](),t=D;(c=e())!==D;)t=c;return t},B=function(n){var e,t,r,o;if((r=n.constructor)===Array||r===String)return n.length;for(e=x(n)[u.iterator](),t=0;(o=e())!==D;)++t;return t},y=function(n,e){return function(t){var r,o,c;for(o=e,r=x(t)[u.iterator]();(c=r())!==D;)o=n(o,c);return o}},a=function(n){return function(e){var t,r,o;if(r=x(e)[u.iterator](),(o=r())===D)return null;for(;(t=r())!==D;)o=n(t,o)?t:o;return o}},I=function(n){return a(function(e,t){return n(e)>n(t)})},N=function(n){return a(function(e,t){return n(e)>n(t)})},j=a(function(n,e){return n>e}),O=a(function(n,e){return e>n}),o=function(n){return"function"!=typeof n&&(n=function(e){return e===n}),function(e){var t,r;for(t=x(e)[u.iterator]();(r=t())!==D;)if(!n(r))return!1;return!0}},c=function(n){var e;return e=o(function(e){return!n(e)}),function(n){return!e(n)}},g=function(n){var e;return e={},v(n,function(n){var t,r;return t=n[0],r=n[1],e[t]=r}),e},s=function(){return s},s.toString=function(){return"foreach.break"},v=function(n,e,t){var r,o;for(r=x(n)[u.iterator]();(o=r())!==D&&e(o,t)!==s;);return t},Object.defineProperties(v,{"break":{writable:!1,configurable:!1,enumerable:!1,value:s}}),{nil:D,LazyList:r,Iterator:e,Symbol:u,naturals:A,range:L,primes:G,lazy:x,enumerate:h,repeat:P,iterate:k,randoms:C,permutations:M,cons:p,map:E,filter:d,take:W,takeWhile:K,drop:f,dropWhile:m,scanl:q,streak:V,streak2:H,reverse:_,sort:U,sortOn:R,groupOn:b,partition:F,concat:l,zip:$,zipWith:Q,cartProd:i,list:T,head:w,last:S,length:B,foldl:y,best:a,maximum:j,minimum:O,maximumOn:I,minimumOn:N,all:o,any:c,fromList:g,foreach:v}},e.exports=n({Symbol:"undefined"!=typeof Symbol&&null!==Symbol?Symbol:{iterator:"iter"}})}).call(this)},{}],12:[function(n,e,t){(function(e){var t,r,u;t=n("./index");for(r in t)u=t[r],e[r]=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":14}],13:[function(n,e,t){var r,u,o,c,a,s,i,l;i=n("./typespec"),c=i.htmlInline,o=i.htmlBlock,l=n("./typeclass").typeclass,r=function(n){return function(e){var t;return t=o(e),null==t?null:{head:n(t.head),body:t.body,tail:t.tail}}},u=function(n,e){return function(t){var r;return r=map(function(n){var t,r,u,a,s;return r=n[0],s=n[1],t=o(s),"<li>\n<div class='"+(null!=t?"fold":"inline")+"'>\n	<span class='"+e+"'>"+r+"</span>: "+c(s)+"\n</div>\n"+(null!=t?"<div class='unfold'>\n	<span class='"+e+"'>"+r+"</span>: "+t.head+"\n	"+(null!=(u=t.body)?u:"")+"\n	"+(null!=(a=t.tail)?a:"")+"\n</div>":"")+"\n</li>"})(enumerate(t)),"<ul class='"+n+"'>"+list(r).join("\n")+"</ul>"}},a=function(n){return null!=n&&l("TypeSpec").hasInstance(n.constructor)},s=function(n){return null!=n&&all(function(n){var e,t;return e=n[0],t=n[1],a(t)})(enumerate(n))},e.exports={expandBlockHead:r,genBlockBody:u,isTypeSpec:a,isTypeSpecDict:s}},{"./typeclass":38,"./typespec":39}],14:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d,y,v,g,b,w,k,S,x,B,T,E,j,I,O,N,A,D,F,M,G,C,L,z,P,_,q;n("./prim/object"),n("./prim/array"),n("./prim/constructor"),u=n("./prim/bool").Bool,r=n("./prim/any").Any,l=n("./prim/int").Int,h=n("./prim/nat").Nat,a=n("./prim/enum").Enum,T=n("./prim/value").Value,y=n("./prim/optional").Optional,v=n("./prim/promise").Promise,k=n("./prim/tree").Tree,f=n("./prim/map").Map,S=n("./prim/treemap").TreeMap,i=n("./prim/fn").Fn,m=n("./prim/namedtype").NamedType,b=n("./prim/strict").Strict,p=n("./prim/loose").Loose,g=n("./prim/select").Select,o=n("./prim/choose").Choose,d=n("./prim/oneof").OneOf,D=n("./typespec"),A=D.match,q=D.unmatchMessages,L=D.show,G=D.sample,C=D.samples,z=D.showHtml,O=D.htmlInline,I=D.htmlBlock,F=n("./render"),j=F.genRenderCode,P=F.showPage,M=n("./typeclass"),_=M.typeclass,N=M.instance,e.exports={Number:Number,String:String,Bool:u,Any:r,Int:l,Nat:h,Enum:a,Value:T,Optional:y,Promise:v,Tree:k,Map:f,TreeMap:S,Fn:i,NamedType:m,Strict:b,Loose:p,Select:g,Choose:o,OneOf:d,match:A,unmatchMessages:q,show:L,sample:G,samples:C,showHtml:z,genRenderCode:j,showPage:P},null===e.parent&&(n("coffee-mate/global"),B=y(String),x={name:B,position:String,age:Number},assert(function(){return A(B)("luo")===!0}),assert(function(){return A(B)(1)===!1}),log(function(){return L(B)}),w=m({name:"TableName",spec:String,samples:["table1","table2"]}),s=m({name:"FieldName",spec:String,samples:["product_id","sale","amount"]}),c=a(["=","<","<=",">=",">"]),E=[{tableName:w,join:{leftTableName:w,left:s,op:c,right:s}}],log(function(){return q(E)([{tableName:"a",join:{}}])}))},{"./prim/any":16,"./prim/array":17,"./prim/bool":18,"./prim/choose":19,"./prim/constructor":20,"./prim/enum":21,"./prim/fn":22,"./prim/int":23,"./prim/loose":24,"./prim/map":25,"./prim/namedtype":26,"./prim/nat":27,"./prim/object":28,"./prim/oneof":29,"./prim/optional":30,"./prim/promise":31,"./prim/select":32,"./prim/strict":33,"./prim/tree":34,"./prim/treemap":35,"./prim/value":36,"./render":37,"./typeclass":38,"./typespec":39,"coffee-mate/global":10}],15:[function(n,e,t){var r,u;n("coffee-mate/global"),u=n("../typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),u("TypeSpec")(r).where({match:function(){return function(n){return null!=n}},constraints:function(){return function(n){return[{label:function(){return"Any Non-Null Value Expected, But Got "+n},flag:function(){return null!=n}}]}},show:function(){return"Any"},samples:function(){return concat(repeat(["a",3,!0,[1,2],{x:1}]))},sample:function(){return"any"}}),e.exports={Any:r}},{"../typeclass":38,"coffee-mate/global":10}],16:[function(n,e,t){var r,u;n("coffee-mate/global"),u=n("../typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),u("TypeSpec")(r).where({match:function(){return function(n){return null!=n}},constraints:function(){return function(n){return[{label:function(){return"Any Non-Null Value Expected, But Got "+n},flag:function(){return null!=n}}]}},show:function(){return"Any"},samples:function(){return concat(repeat(["a",3,!0,[1,2],{x:1}]))},sample:function(){return"any"}}),e.exports={Any:r}},{"../typeclass":38,"coffee-mate/global":10}],17:[function(n,e,t){var r,u,o,c,a,s,i,l,p;n("coffee-mate/global"),c=n("../typeclass").instance,s=n("../typespec"),a=s.match,r=s.constraints,p=s.show,l=s.samples,i=s.sample,o=s.htmlInline,u=s.htmlBlock,c("TypeSpec")(Array).where({match:function(n){var e;return e=n[0],function(n){return null!=n&&n instanceof Array&&all(a(e))(n)}},constraints:function(n){var e;return e=n[0],function(n){return cons({label:function(){return"Array Expected, But Got "+n},flag:function(){return null!=n&&n instanceof Array}})(map(function(n){var t,u;return t=n[0],u=n[1],{label:function(){return"Element "+t},sub:function(){return r(e)(u)}}})(enumerate(null!=n?n:[])))}},show:function(n){var e;return e=n[0],"["+p(e)+"]"},samples:function(n){var e;return e=n[0],concat(repeat(reverse(map(function(n){return list(take(n)(l(e)))})(range(3)))))},sample:function(n){var e;return e=n[0],[i(e)]},htmlInline:function(n){var e;return e=n[0],"<span class='type-maker'>["+o(e)+"]</span>"},htmlBlock:function(n){var e,t,r;return r=n[0],null==(e=u(r))?null:{head:"<span class='type-maker'>["+e.head+"</span>",body:e.body,tail:"<span class='type-maker'>"+(null!=(t=e.tail)?t:"")+"]</span>"}}})},{"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],18:[function(n,e,t){var r;r=Boolean,e.exports={Bool:r}},{}],19:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d;n("coffee-mate/global"),s=n("../typeclass").instance,p=n("../typespec"),l=p.match,u=p.constraints,d=p.show,h=p.samples,m=p.sample,a=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),o=f.genBlockBody,i=f.isTypeSpec,r=function(){function n(e){if(null==e||e.constructor!==Array)throw Error("Bad Choose Type Definition: Array Expected, But Got "+e);if(!all(i)(e))throw Error("Bad Choose Type Definition: Array of TypeSpec Expected, But Got "+e);return{constructor:n,specs:e}}return n}(),s("TypeSpec")(r).where({match:function(n){var e;return e=n.specs,function(n){return null!=n&&any(function(e){return l(e)(n)})(e)}},constraints:function(n){var e;return e=n.specs,function(t){return[{label:function(){return"Non-Null Value Expected, But Got "+t},flag:function(){return null!=t}},{label:function(){return d(n)+" Expected, But Got "+json(t)},flag:function(){return any(function(n){return l(n)(t)})(e)}}]}},show:function(n){var e;return e=n.specs,"Choose(["+list(map(d)(e)).join(", ")+"])"},samples:function(n){var e;return e=n.specs,concat(repeat(map(m)(e)))},htmlInline:function(n){var e;return e=n.specs,"<span class='type-maker unwrapped'>"+list(map(a)(e)).join(" | ")+"</span>"},htmlBlock:function(n){var e;return e=n.specs,{head:"<span class='type-maker'>Choose [</span>",body:o("choose","meta-field")(dict(list(zip(naturals,e)))),tail:"<span class='type-maker'>]</span>"}}}),e.exports={Choose:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],20:[function(n,e,t){var r,u,o,c,a,s;n("coffee-mate/global"),r=n("../typeclass").instance,o=n("../typespec"),u=o.match,s=o.show,a=o.samples,c=o.sample,r("TypeSpec")(Function).where({shape:function(n){return n},match:function(n){return function(e){return null!=e&&e.constructor===n}},constraints:function(n){return function(e){return[{label:function(){return"Non-Null Value Expected, But Got "+e},flag:function(){return null!=e}},{label:function(){var t,r;return"Value with Constructor "+(null!=(t=n.name)?t:n)+" Expected, But Got "+json(e)+" with Constructor "+(null!=(r=e.constructor.name)?r:e.constructor)},flag:function(){return e.constructor===n}}]}},show:function(n){return n.name||"UnnamedType"},samples:function(n){switch(n){case Boolean:return concat(repeat([!0,!1]));case Number:return concat(repeat([3.14,9,42]));case String:return concat(repeat(["abc","hello"]));default:return repeat(new n)}},htmlInline:function(n){return"<span class='type-maker'>"+s(n)+"</span>"}})},{"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],21:[function(n,e,t){var r,u,o,c=[].indexOf||function(n){for(var e=0,t=this.length;t>e;e++)if(e in this&&this[e]===n)return e;return-1};n("coffee-mate/global"),u=n("../typeclass").instance,o=n("../typespec").show,r=function(){function n(e){if(!all(function(n){return null!=n})(e))throw Error("Bad Enum Type Definition: Array Of Non-Null Values Expected, Bot Got "+e);return{constructor:n,"enum":e}}return n}(),u("TypeSpec")(r).where({match:function(n){var e;return e=n["enum"],function(n){return c.call(e,n)>=0}},constraints:function(n){var e;return e=n["enum"],function(t){return[{label:function(){return o(n)+" Expected, But Got "+json(t)},flag:function(){return c.call(e,t)>=0}}]}},show:function(n){var e;return e=n["enum"],"Enum("+json(e)+")"},samples:function(n){var e;return e=n["enum"],concat(repeat(e))},htmlInline:function(n){var e;return e=n["enum"],"<span class='type-maker unwrapped'>Enum "+json(e)+"</span>"}}),e.exports={Enum:r}},{"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],22:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h;n("coffee-mate/global"),i=n("../typeclass"),h=i.typeclass,a=i.instance,l=n("../typespec"),s=l.match,m=l.show,f=l.samples,p=l.sample,c=l.htmlInline,o=l.htmlBlock,u=n("../helpers").genBlockBody,r=function(){function n(e){if(null==e||!h("TypeSpec").hasInstance(e.constructor))throw Error("Bad Fn Definition: TypeSpec as ispec Expected, But Got "+e);return function(t){if(null==t||!h("TypeSpec").hasInstance(t.constructor))throw Error("Bad Fn Definition: TypeSpec as ospec Expected, But Got "+t);return{constructor:n,ispec:e,ospec:t}}}return n}(),a("TypeSpec")(r).where({match:function(n){var e,t;return e=n.ispec,t=n.ospec,function(n){return null!=n&&n.constructor===Function}},withSpec:function(n){var e,t;return e=n.ispec,t=n.ospec,function(n){if(null==n||n.constructor!==Function)throw TypeError({expected:"Function",got:n});return function(r){var u;return withSpec(e)(r),u=n(r),withSpec(t)(u),u}}},show:function(n){var e,t;return e=n.ispec,t=n.ospec,"Fn("+m(e)+")("+m(t)+")"},samples:function(n){var e,t;return e=n.ispec,t=n.ospec,repeat({"[input]":p(e),"[output]":p(t)})},htmlInline:function(n){var e,t;return e=n.ispec,t=n.ospec,"<span class='type-maker unwrapped'>"+c(e)+" -> "+c(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.ispec,t=n.ospec,{head:"<span class='type-maker'>Function (</span>",body:u("function","meta-field")({input:e,output:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={Fn:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],23:[function(n,e,t){var r,u;n("coffee-mate/global"),u=n("../typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),u("TypeSpec")(r).where({match:function(){return function(n){return null!=n&&n.constructor===Number&&!isNaN(n)&&n===parseInt(n)}},constraints:function(){return function(n){return[{label:function(){return"Int Excepted, But Got "+json(n)},flag:function(){return null!=n&&n.constructor===Number&&!isNaN(n)&&n===parseInt(n)}}]}},show:function(){return"Int"},samples:function(){return concat(repeat([42,1,2]))}}),e.exports={Int:r}},{"../typeclass":38,"coffee-mate/global":10}],24:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d,y,v,g;n("coffee-mate/global"),p=n("../typeclass"),g=p.typeclass,s=p.instance,f=n("../typespec"),y=f.shape,l=f.match,u=f.constraints,v=f.show,d=f.samples,h=f.sample,a=f.htmlInline,c=f.htmlBlock,m=n("../helpers"),o=m.genBlockBody,i=m.isTypeSpecDict,r=function(){function n(e){if(!i(e))throw Error("Bad Loose Type Definition: Dict Of TypeSpec Expected, But Got "+e);return{constructor:n,specdict:e}}return n}(),s("TypeSpec")(r).where({shape:function(n){var e;return e=n.specdict,r(fromList(map(function(n){var e,t;return e=n[0],t=n[1],[e,y(t)]})(enumerate(e))))},match:function(n){var e;return e=n.specdict,function(n){return null!=n&&n.constructor===Object&&all(function(e){var t,r;return t=e[0],r=e[1],l(r)(n[t])})(enumerate(e))}},constraints:function(n){var e;return e=n.specdict,function(n){return cons({label:function(){return"Object Expected, But Got "+n},flag:function(){return null!=n}})(map(function(e){var t,r;return t=e[0],r=e[1],{label:function(){return"Field "+t},sub:function(){return u(r)(n[t])}}})(enumerate(e)))}},show:function(n){var e;return e=n.specdict,"Loose({"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+v(t)})(enumerate(e))).join(", ")+"})"},samples:function(n){var e;return e=n.specdict,repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,h(t)]})(enumerate(e)))))},htmlInline:function(n){var e;return e=n.specdict,"<span class='type-maker unwrapped'>Loose {<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specdict,{head:"<span class='type-maker'>Loose {</span>",body:o("loose","field-name")(e),tail:"<span class='type-maker'>}</span>"
}}}),e.exports={Loose:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],25:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d;n("coffee-mate/global"),l=n("../typeclass"),d=l.typeclass,s=l.instance,p=n("../typespec"),i=p.match,u=p.constraints,h=p.show,m=p.samples,f=p.sample,a=p.htmlInline,c=p.htmlBlock,o=n("../helpers").genBlockBody,r=function(){function n(e){if(null==e||!d("TypeSpec").hasInstance(e.constructor))throw Error("Bad Fn Definition: TypeSpec as kspec Expected, But Got "+e);return function(t){if(null==t||!d("TypeSpec").hasInstance(t.constructor))throw Error("Bad Fn Definition: TypeSpec as vspec Expected, But Got "+t);return{constructor:n,kspec:e,vspec:t}}}return n}(),s("TypeSpec")(r).where({match:function(n){var e,t;return e=n.kspec,t=n.vspec,function(n){var r,u,o;return u=i(e),o=i(t),null!=n&&n.constructor===Object&&all(u)(r=Object.keys(n))&&all(o)(map(seek(n))(r))}},constraints:function(n){var e,t;return e=n.kspec,t=n.vspec,function(n){return cons({label:function(){return"Object Expected, But Got "+n},flag:function(){return null!=n&&n.constructor===Object}})(concat([map(function(n){return{label:function(){return"Key "+json(n)},sub:function(){return u(e)(n)}}})(Object.keys(null!=n?n:[])),map(function(e){return{label:function(){return"Key "+json(e)+" 's Value "},sub:function(){return u(t)(n[e])}}})(Object.keys(null!=n?n:[]))]))}},show:function(n){var e,t;return e=n.kspec,t=n.vspec,"Map("+h(e)+")("+h(t)+")"},samples:function(n){var e,t,r,u;return t=n.kspec,u=n.vspec,e=list(take(4)(m(t))),r=list(take(4)(m(u))),concat(repeat([dict([[e[0],r[0]],[e[1],r[1]]]),dict([[e[2],r[2]],[e[3],r[3]]])]))},htmlInline:function(n){var e,t;return e=n.kspec,t=n.vspec,"<span class='type-maker unwrapped'>Map "+a(e)+" "+a(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.kspec,t=n.vspec,{head:"<span class='type-maker'>Map (</span>",body:o("map","meta-field")({key:e,value:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={Map:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],26:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d;n("coffee-mate/global"),l=n("../typeclass"),d=l.typeclass,s=l.instance,p=n("../typespec"),i=p.match,u=p.constraints,h=p.show,m=p.samples,f=p.sample,a=p.htmlInline,c=p.htmlBlock,o=n("../helpers").expandBlockHead,r=function(){function n(e){var t,r,u,o,c;if(u=e.name,c=e.spec,r=e.desc,t=e.check,o=e.samples,null==u||null==c)throw Error("Bad NamedType Definition: name & spec Must Be Specified");if(null==c||!d("TypeSpec").hasInstance(c.constructor))throw Error("Bad NamedType Definition: TypeSpec as spec Expected, But Got "+c+"\n	name: "+u);if(null!=o&&!all(i(c))(take(100)(o)))throw Error("Bad NamedType Definition: samples Should Match spec\n	name: "+u+"\n	spec: "+c);return{constructor:n,name:u,spec:c,desc:r,check:t,samples:o}}return n}(),s("TypeSpec")(r).where({match:function(n){var e,t;return t=n.spec,e=n.check,function(n){return i(t)(n)&&(null!=e?e(n):!0)}},constraints:function(n){var e,t,r;return r=n.spec,e=n.check,t=n.name,function(n){return[{label:function(){return t+" Expected"},sub:function(){return u(r)(n)}},{label:function(){return t+" Expected to Satisfy "+e+", But Got "+json(n)},flag:function(){return null!=e?e(n):!0}}]}},show:function(n){var e,t;return e=n.name,t=n.spec,e||h(t)},samples:function(n){var e,t;return t=n.spec,e=n.samples,null!=e?concat(repeat(e)):m(t)},htmlInline:function(n){var e,t;return e=n.name,t=n.spec,null!=e?"<span class='type-name'>"+e+"</span>":a(t)},htmlBlock:function(n){var e,t,r;return e=n.name,r=n.spec,null!=(t=o(function(n){return"<span><span class='type-name'>"+e+"</span><span class='spliter'>spec:</span>"+n+"</span>"})(r))?t:{head:"<span><span class='type-name'>"+e+"</span><span class='spliter'>spec:</span>"+a(r)+"</span>"}},showHtml:function(n){var e,t,r,u,o,s,i,l,p;return o=n.name,r=n.desc,l=n.spec,e=n.check,s=null==o?"":"<div class='name'>\n<span class='meta-field'>name</span>: <span class='type-name'>"+o+"</span>\n</div>",u=null==r?"":function(){var n;return n=r,"<div class='desc'>\n<span class='meta-field'>desc</span>: "+(/\n/.test(n)?"<pre class='text'>"+n+"</pre>":"<span class='text'>"+n+"</span>")+"\n</div>"}(),p=function(){var n,e,t;return n=c(l),("<div class='spec'>\n<div class='"+(null!=n?"fold":"inline")+"'><span class='meta-field'>spec</span>: "+a(l)+"</div>\n"+(null!=n?"<div class='unfold'>\n	<span class='meta-field'>spec</span>: "+n.head+"\n	"+(null!=(e=n.body)?e:"")+"\n	"+(null!=(t=n.tail)?t:"")+"\n</div>":"")+"\n</div>").replace(/(\t|\n)/g,"")}(),i=function(){var e;return e=json(f(n),4),"<div class='sample'>\n<span class='meta-field'>sample</span>: "+(/\n/.test(e)?"<pre class='code'>"+e+"</pre>":"<span class='code'>"+e+"</span>")+"\n</div>"}(),t=null==e?"":function(){var n;return n=e.toString(),"<div class='check'>\n<span class='meta-field'>constraint</span>: "+(/\n/.test(n)?"<pre class='code'>"+n+"</pre>":"<span class='code'>"+n+"</span>")+"\n</div>"}(),"<div class='typespec'>"+(s+u+p+i+t)+"</div>"}}),e.exports={NamedType:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],27:[function(n,e,t){var r,u;n("coffee-mate/global"),u=n("../typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),u("TypeSpec")(r).where({match:function(){return function(n){return null!=n&&n.constructor===Number&&!isNaN(n)&&n>=0&&n===parseInt(n)}},constraints:function(){return function(n){return[{label:function(){return"Nat Excepted, But Got "+json(n)},flag:function(){return null!=n&&n.constructor===Number&&!isNaN(n)&&n>=0&&n===parseInt(n)}}]}},show:function(){return"Nat"},samples:function(){return concat(repeat([42,1,2]))}}),e.exports={Nat:r}},{"../typeclass":38,"coffee-mate/global":10}],28:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),a=n("../typeclass").instance,l=n("../typespec"),h=l.shape,i=l.match,r=l.constraints,d=l.show,m=l.samples,f=l.sample,c=l.htmlInline,o=l.htmlBlock,p=n("../helpers"),u=p.genBlockBody,s=p.isTypeSpecDict,y=function(n){return function(e){if(!s(e))throw Error("Bad Object Type Definition: Dict Of TypeSpec Expected, But Got "+e);return n(e)}},a("TypeSpec")(Object).where({shape:function(n){return fromList(map(function(n){var e,t;return e=n[0],t=n[1],[e,h(t)]})(enumerate(n)))},match:y(function(n){return function(e){return null!=e&&all(function(e){return null!=n[e]})(Object.keys(e))&&all(function(n){var t,r;return t=n[0],r=n[1],i(r)(e[t])})(enumerate(n))}}),constraints:function(n){return function(e){return cons({label:function(){return"Object Expected, But Got "+e},flag:function(){return null!=e}})(cons({label:function(){return"Redundant Keys: "+list(filter(function(e){return null==n[e]})(Object.keys(e)))},flag:function(){return all(function(e){return null!=n[e]})(Object.keys(e))}})(map(function(n){var t,u;return t=n[0],u=n[1],{label:function(){return"Field "+t},sub:function(){return r(u)(e[t])}}})(enumerate(n))))}},show:y(function(n){return"{"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+d(t)})(enumerate(n))).join(", ")+"}"}),samples:y(function(n){return repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,f(t)]})(enumerate(n)))))}),htmlInline:y(function(n){return"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>"}),htmlBlock:y(function(n){return{head:"<span class='type-maker'>{</span>",body:u("object","field-name")(n),tail:"<span class='type-maker'>}</span>"}})})},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],29:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),s=n("../typeclass").instance,p=n("../typespec"),d=p.shape,l=p.match,u=p.constraints,y=p.show,h=p.samples,m=p.sample,a=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),o=f.genBlockBody,i=f.isTypeSpec,r=function(){function n(e){if(null==e||e.constructor!==Array)throw Error("Bad OneOf Type Definition: Array Expected, But Got "+e);if(!all(i)(e))throw Error("Bad OneOf Type Definition: Array of TypeSpec Expected, But Got "+e);return log(function(){return e.map(y)}),{constructor:n,specs:e}}return n}(),s("TypeSpec")(r).where({match:function(n){var e,t;return t=n.specs,e=zip(map(d)(t),t),function(n){var t;return t=filter(function(e){var t,r;return r=e[0],t=e[1],l(r)(n)})(e),1===length(take(2)(t))&&l(head(t)[1])(n)}},constraints:function(n){var e,t;return t=n.specs,e=zip(map(d)(t),t),function(n){var t,r;return r=filter(function(e){var t,r;return r=e[0],t=e[1],l(r)(n)})(e),t=length(take(2)(r)),[{label:function(){return"Shape "+list(map(y)(map(pluck(0))(e))).join(" | ")+" Expected, But Got "+n},flag:function(){return t>0}},{label:function(){return"Ambiguous Shape "+list(map(y)(map(pluck(0))(r))).join(" | ")+" Matched, Got "+json(n)},flag:function(){return 2>t}},{label:function(){return"Shape "+y(head(r)[0])},sub:function(){return u(head(r)[1])(n)}}]}},show:function(n){var e;return e=n.specs,"("+list(map(y)(e)).join(" | ")+")"},samples:function(n){var e;return e=n.specs,concat(repeat(map(m)(e)))},htmlInline:function(n){var e;return e=n.specs,"<span class='type-maker unwrapped'>"+list(map(a)(e)).join(" | ")+"</span>"},htmlBlock:function(n){var e;return e=n.specs,{head:"<span class='type-maker'>OneOf [</span>",body:o("OneOf","meta-field")(dict(list(zip(naturals,e)))),tail:"<span class='type-maker'>]</span>"}}}),e.exports={OneOf:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],30:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d,y,v;n("coffee-mate/global"),p=n("../typeclass"),v=p.typeclass,s=p.instance,f=n("../typespec"),l=f.match,u=f.constraints,y=f.show,d=f.samples,h=f.sample,a=f.htmlInline,c=f.htmlBlock,m=n("../helpers"),o=m.expandBlockHead,i=m.isTypeSpec,r=function(){function n(e){if(!i(e))throw Error("Bad Optional Type Definition: TypeSpec as spec Expected");return{constructor:n,spec:e}}return n}(),s("TypeSpec")(r).where({shape:function(n){var e;return e=n.spec,r(shape(e))},match:function(n){var e;return e=n.spec,function(n){return null==n||l(e)(n)}},constraints:function(n){return function(e){return null==e?[]:[{label:function(){return y(n)+" Expected"},sub:function(){return u(n.spec)(e)}}]}},show:function(n){var e;return e=n.spec,"Optional("+y(e)+")"},samples:function(n){var e,t;return t=n.spec,e=list(take(2)(d(t))),concat(repeat([e[0],null,e[1],void 0]))},htmlInline:function(n){var e;return e=n.spec,"<span class='type-maker unwrapped'>Optional "+a(e)+"</span>"},htmlBlock:function(n){var e;return e=n.spec,o(function(n){return"<span class='type-maker'>Optional "+n+"</span>"})(e)}}),e.exports={Optional:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],31:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),l=n("../typeclass"),y=l.typeclass,a=l.instance,p=n("../typespec"),i=p.match,d=p.show,h=p.samples,m=p.sample,c=p.htmlInline,o=p.htmlBlock,f=n("../helpers"),u=f.expandBlockHead,s=f.isTypeSpec,r=function(){function n(e){if(!s(e))throw Error("Bad Optional Type Definition: TypeSpec as spec Expected");return{constructor:n,spec:e}}return n}(),a("TypeSpec")(r).where({match:function(n){var e;return e=n.spec,function(n){return null!=(null!=n?n.then:void 0)}},constraints:function(n){return function(e){return[{label:function(){return d(n)+" Expected, But Got "+e},flag:function(){return null!=(null!=e?e.then:void 0)}}]}},withSpec:function(n){var e;return e=n.spec,function(n){if(null==(null!=n?n.then:void 0))throw TypeError({expected:"Promise",got:n});return n.then(function(n){return withSpec(e)(n),n})}},show:function(n){var e;return e=n.spec,"Promise("+d(e)+")"},samples:function(n){var e;return e=n.spec,h(e)},htmlInline:function(n){var e;return e=n.spec,"<span class='type-maker unwrapped'>Promise "+c(e)+"</span>"},htmlBlock:function(n){var e;return e=n.spec,u(function(n){return"<span class='type-maker'>Promise "+n+"</span>"})(e)}}),e.exports={Promise:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],32:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d,y,v;n("coffee-mate/global"),p=n("../typeclass"),v=p.typeclass,s=p.instance,f=n("../typespec"),l=f.match,u=f.constraints,y=f.show,d=f.samples,h=f.sample,a=f.htmlInline,c=f.htmlBlock,m=n("../helpers"),o=m.genBlockBody,i=m.isTypeSpecDict,r=function(){function n(e){if(!i(e))throw Error("Bad Select Type Definition: TypeSpec as spec Expected");if(!(Object.keys(e).length>=1))throw Error("Bad Select Type Definition: At Least One Selection Should Be Provided");return{constructor:n,specs:e}}return n}(),s("TypeSpec")(r).where({match:function(n){var e;return e=n.specs,function(n){var t,r,u;return null!=n&&1===(r=Object.keys(n)).length&&null!=(u=e[t=r[0]])&&l(u)(n[t])}},constraints:function(n){var e;return e=n.specs,function(n){return[{label:function(){return"Object Expected, But Got "+n},flag:function(){return null!=n}},{label:function(){return"Selection Between "+Object.keys(e).join(",")+" Expected, But Got "+Object.keys(n).join(",")+" Via "+json(n)},flag:function(){var t,r,u;return 1===(r=Object.keys(n)).length&&null!=(u=e[t=r[0]])}},{label:function(){var t;return"Selection Field "+(t=Object.keys(n)[0])+" Expected to be "+y(e[t])},sub:function(){var t;return u(e[t=Object.keys(n)[0]])(n[t])}}]}},show:function(n){var e;return e=n.specs,"Select({"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+y(t)})(enumerate(e))).join(", ")+"})"},samples:function(n){var e;return e=n.specs,concat(repeat(map(function(n){var e,t;return e=n[0],t=n[1],dict([[e,h(t)]])})(enumerate(e))))},htmlInline:function(n){var e;return e=n.specs,"<span class='type-maker unwrapped'>Select {<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specs,{head:"<span class='type-maker'>Select {</span>",body:o("select","field-name")(e),tail:"<span class='type-maker'>}</span>"}}}),e.exports={Select:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],33:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),s=n("../typeclass").instance,p=n("../typespec"),d=p.shape,l=p.match,u=p.constraints,y=p.show,h=p.samples,m=p.sample,a=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),o=f.genBlockBody,i=f.isTypeSpecDict,r=function(){function n(e){if(!i(e))throw Error("Bad Strict Type Definition: Dict Of TypeSpec Expected, But Got "+e);return{constructor:n,specdict:e}}return n}(),s("TypeSpec")(r).where({shape:function(n){var e;return e=n.specdict,r(fromList(map(function(n){var e,t;return e=n[0],t=n[1],[e,d(t)]})(enumerate(e))))},match:function(n){var e;return e=n.specdict,function(n){return null!=n&&n.constructor===Object&&all(function(n){return null!=e[n]})(Object.keys(n))&&all(function(e){var t,r;return t=e[0],r=e[1],l(r)(n[t])})(enumerate(e))}},constraints:function(n){var e;return e=n.specdict,function(n){return cons({label:function(){return"Object Expected, But Got "+n},flag:function(){return null!=n}})(cons({label:function(){return"Redundant Keys: "+list(filter(function(n){return null==e[n]})(Object.keys(n)))},flag:function(){return all(function(n){return null!=e[n]})(Object.keys(n))}})(map(function(e){var t,r;return t=e[0],r=e[1],{label:function(){return"Field "+t},sub:function(){return u(r)(n[t])}}})(enumerate(e))))}},show:function(n){var e;return e=n.specdict,"{"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+y(t)})(enumerate(e))).join(", ")+"})"},samples:function(n){var e;return e=n.specdict,repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,m(t)]})(enumerate(e)))))},htmlInline:function(n){var e;return e=n.specdict,"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specdict,{head:"<span class='type-maker'>{</span>",body:o("strict","field-name")(e),tail:"<span class='type-maker'>}</span>"}}}),e.exports={Strict:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],34:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d,y,v;n("coffee-mate/global"),p=n("../typeclass"),v=p.typeclass,s=p.instance,f=n("../typespec"),l=f.match,u=f.constraints,y=f.show,d=f.samples,h=f.sample,a=f.htmlInline,c=f.htmlBlock,m=n("../helpers"),o=m.expandBlockHead,i=m.isTypeSpec,r=function(){function n(e){if(!i(e))throw Error("Bad Tree Type Definition: TypeSpec as labelSpec Expected");return{constructor:n,labelSpec:e}}return n}(),s("TypeSpec")(r).where({match:function(n){return function(e){var t;return t=n.labelSpec,null!=e&&null!=e.rootLabel&&null!=e.subForest&&e.subForest instanceof Array&&l(t)(e.rootLabel)&&all(l(n))(e.subForest)}},constraints:function(n){var e;return e=n.labelSpec,function(t){var r;return cons({label:function(){return y(n)+" Expected, But Got "+t},flag:function(){return null!=t&&null!=t.rootLabel&&null!=t.subForest&&t.subForest instanceof Array}})(cons({label:function(){return"Tree Label"},sub:function(){return u(e)(t.rootLabel)}})(map(function(e){var t,r;return t=e[0],r=e[1],{label:function(){return"Tree Subforest "+t},sub:function(){return u(n)(r)}}})(zip(naturals,null!=(r=null!=t?t.subForest:void 0)?r:[]))))}},show:function(n){var e;return e=n.labelSpec,"Tree("+y(e)+")"},samples:function(n){var e,t,r,u;return e=n.labelSpec,t=list(take(2)(d(e))),r={rootLabel:t[0],subForest:[]},u={rootLabel:t[1],subForest:[r]},concat(repeat([r,u]))},htmlInline:function(n){var e;return e=n.labelSpec,"<span class='type-maker unwrapped'>Tree "+a(e)+"</span>"},htmlBlock:function(n){var e;return e=n.labelSpec,o(function(n){return"<span class='type-maker'>Tree "+n+"</span>"})(e)}}),e.exports={Tree:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],35:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d,y,v;n("coffee-mate/global"),p=n("../typeclass"),v=p.typeclass,s=p.instance,f=n("../typespec"),l=f.match,u=f.constraints,y=f.show,d=f.samples,h=f.sample,a=f.htmlInline,c=f.htmlBlock,m=n("../helpers"),o=m.genBlockBody,i=m.isTypeSpec,r=function(){function n(e){if(!i(e))throw Error("Bad TreeMap Type Definition: TypeSpec as kspec Expected");return function(t){if(!i(t))throw Error("Bad TreeMap Type Definition: TypeSpec as vspec Expected");return{constructor:n,kspec:e,vspec:t}}}return n}(),s("TypeSpec")(r).where({match:function(n){return function(e){var t,r,u,o,c,a;return r=n.kspec,a=n.vspec,u=l(r),o=l(n),null!=e&&("node"===(c=Object.keys(e)[0])&&all(u)(t=Object.keys(e.node))&&all(o)(map(seek(e.node))(t))||"leaf"===c&&l(a)(e.leaf))}},constraints:function(n){return function(e){return cons({label:function(){return y(n)+" Expected, But Got "+e},flag:function(){var n,t,r;return null!=e&&1===(n=Object.keys(e)).length&&("node"===(t=r=n[0])||"leaf"===t)}})(null==e?[]:null!=e.node?concat(map(function(e){var t,r;return t=e[0],r=e[1],[{label:function(){return"TreeMap Key Expected"},sub:function(){return u(n.kspec)(t)}},{label:function(){return y(n)+" Expected"},sub:function(){return u(n)(r)}}]})(enumerate(e.node))):[{label:function(){return"Leaf Expected to be "+y(n.vspec)},sub:function(){return u(n.vspec)(e.leaf)}}])}},show:function(n){var e,t;return e=n.kspec,t=n.vspec,"TreeMap("+y(e)+")("+y(t)+")"},samples:function(n){var e,t,r,u;return t=n.kspec,u=n.vspec,e=list(take(4)(d(t))),r=list(take(3)(d(u))),concat(repeat([{node:dict([[e[0],{node:dict([[e[2],{leaf:r[0]}],[e[3],{leaf:r[1]}]])}],[e[1],{leaf:r[2]}]])}]))},htmlInline:function(n){var e,t;return e=n.kspec,t=n.vspec,"<span class='type-maker unwrapped'>TreeMap "+a(e)+" "+a(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.kspec,t=n.vspec,{head:"<span class='type-maker'>TreeMap (</span>",body:o("treemap","meta-field")({key:e,value:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={TreeMap:r}},{"../helpers":13,"../typeclass":38,"../typespec":39,"coffee-mate/global":10}],36:[function(n,e,t){var r,u;n("coffee-mate/global"),u=n("../typeclass").instance,r=function(){function n(e){if(null==e)throw Error("Bad Value Type Definition: Non-null Value Expected, But Got "+e);return{constructor:n,value:e}}return n}(),u("TypeSpec")(r).where({shape:function(n){return n},match:function(n){var e;return e=n.value,function(n){return n===e}},show:function(n){var e;return e=n.value,""+json(e)},samples:function(n){var e;return e=n.value,repeat(e)},htmlInline:function(n){var e;return e=n.value,"<span class='type-maker unwrapped'>Value "+json(e)+"</span>"}}),e.exports={Value:r}},{"../typeclass":38,"coffee-mate/global":10}],37:[function(n,e,t){var r,u,o,c,a,s,i,l,p,f,m,h,d,y,v,g,b,w,k,S,x,B,T,E,j,I,O,N,A,D,F,M,G,C,L,z,P,_,q,U,R,V,H,W,K,$,Q,J,Y,X,Z;W=n("./typespec"),H=W.match,J=W.show,$=W.sample,Q=W.samples,Y=W.showHtml,R=W.htmlInline,U=W.htmlBlock,Z=".typespec {\n	font-family: monospace;\n	font-size: 16px;\n	border-width: 4px;\n	border-color: rgba(165, 230, 229, 0.24);\n	border-style: ridge;\n}\n.typespec>div, .typespec>pre {\n	margin: 0.6em\n}\n.typespec .unfolded>.fold, .typespec .folded>.unfold {\n	display: none\n}\n.typespec ul {\n	list-style-type: none;\n	padding: 0px;\n	margin: 0px 0px 0px 2em;\n}\n.typespec .meta-field {\n	color: gray;\n}\n.typespec .field-name {\n	font-weight: bold;\n	color: #87BFB8\n}\n.typespec .type-name {\n	color: blue;\n}\n.typespec .spec .type-name {\n	cursor: pointer\n}\n.typespec .type-maker {\n	color: #223497\n}\n.typespec .type-maker.unwrapped>.unwrapped:before {\n	content: '('\n}\n.typespec .type-maker.unwrapped>.unwrapped:after {\n	content: ')'\n}\n.typespec .spliter {\n	color: gray;\n	padding: 0 0.5em\n}\n.typespec .sample pre {\n	margin: 0;\n	color: green;\n	max-height: 20em;\n	overflow: auto;\n}\n.typespec .spec {\n	cursor: default\n}\n.typespec .spec li:hover {\n	transition: 1s;\n	background-color: rgba(140, 150, 255, 0.12)\n}\n.typespec .spec .type-name:hover, .typespec .spec .folded-detail:hover, .typespec .fold>.field-name:hover, .typespec .unfold>.field-name:hover, .typespec .fold>.meta-field:hover, .typespec .unfold>.meta-field:hover {\n	opacity: 0.6\n}",z=function(n){return function(e){return e.find(".unfold").each(function(e,t){return n(t).closest("li,.spec").addClass("unfolded").removeClass("folded")}),e.find(".type-name, .choose").each(function(e,t){return n(t).closest("li").addClass("folded").removeClass("unfolded")}),e.find(".type-name, .folded-detail, .fold>.field-name, .unfold>.field-name, .fold>.meta-field, .unfold>.meta-field").each(function(e,t){var r;return(r=n(t).closest("li,.spec")).length>0?n(t).css({cursor:"pointer"}).click(function(){return r.toggleClass("folded").toggleClass("unfolded")}):void 0})}},X=function(n){return"<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n<style>"+Z+"</style>\n"+Y(n)+"\n<script src='http://libs.baidu.com/jquery/1.9.0/jquery.js'></script>\n<script>("+z.toString()+")(jQuery)($('.typespec'))</script>"},V=function(n){return function(e,t,r){return n("head").append("<style>"+r+"</style>"),n(".typespec-hook").each(function(e,r){return n(r).append(t[n(r).attr("it")])}),e(n(".typespec"))}},q=function(n){var e;return e=json(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,Y(t)]})(enumerate(n))))),"("+V.toString()+")(jQuery)(("+z+")(jQuery), "+e+", "+json(Z)+")"},e.exports={showPage:X,genRenderCode:q},null===e.parent&&(n("coffee-mate/global"),K=n("./index"),T=K.Number,A=K.String,u=K.Bool,r=K.Any,v=K.Int,B=K.Nat,p=K.Enum,G=K.Value,E=K.Optional,j=K.Promise,F=K.Tree,b=K.Map,M=K.TreeMap,h=K.Fn,x=K.NamedType,N=K.Strict,g=K.Loose,I=K.Select,o=K.Choose,H=K.match,J=K.show,$=K.sample,Q=K.samples,Y=K.showHtml,q=K.genRenderCode,X=K.showPage,D=x({name:"TableName",spec:A,samples:["table1","table2"]}),m=x({name:"FieldName",spec:A,samples:["product_id","sale","amount"]}),c=p(["=","<","<=",">=",">"]),L=[{tableName:D,join:{leftTableName:D,left:m,op:c,right:m}}],l=x({name:"DimensionName",spec:A,samples:["date","product_type","city"]}),k=x({name:"MeasureName",spec:A,samples:["sale","profit","amount"]}),w=x({name:"Measure",spec:N({name:k,aggregator:p(["sum","avg","max","min"])})}),S=x({name:"MemberName",spec:A,samples:["2013","2014","2015"]}),C=x({name:"ValueExpr",spec:A,samples:["sum(sale)"]}),a=x({name:"ConditionExpr",spec:A,samples:["sum(sale) > 100"]}),i=x({name:"DimensionFilter",spec:N({select:[S],match:I({contains:A,startWith:A,endWith:A}),condition:I({limit:N({measure:w,comparator:c,value:T}),expr:a}),top:N({count:T,by:I({measure:w,expr:C})})})}),y=x({name:"InclusionCondition",spec:N({via:[l],positions:[[S]]})}),f=x({name:"ExclusionCondition",spec:N({via:[l],positions:[[S]]})}),O=x({name:"SortCondition",spec:N({asc:u,by:I({measure:w,expr:C}),where:E(a)})}),s={filter:N({dimensions:b(l)(i),measures:[N({measure:w,limit:{minBound:E(T),maxBound:E(T)}})],inclusions:[y],exclusions:[f]}),sort:b(l)(O)},log(function(){return json($(L),4)}),log(function(){return J(s)}),d=x({name:"FooSpec",spec:h(T)(h({x:T,y:T})(j({x:A,y:o([B,A,G("unavailable")])}))),desc:"hello",check:function(n){return n>1}}),_=n("fs"),_.writeFileSync("test.html",X(L)),P={a:d,b:L,c:s,d:m,e:I({x:T,y:A}),f:h(F(v))(g({x:T,y:T}))},_.writeFileSync("test2.js",q(P)))},{"./index":14,"./typespec":39,"coffee-mate/global":10,fs:1}],38:[function(n,e,t){var r,u,o,c;n("coffee-mate/global"),u=function(){var n,e,t,r;return e={},t={},r=function(n){var r,u;return r=null!=t[n]?t[n]:t[n]={},u=null!=e[n]?e[n]:e[n]=[],{hasInstance:function(n){return u.indexOf(n)>=0},where:function(e){var t;return t={},foreach(enumerate(e),function(e){var u,o,c,a;return c=e[0],o=e[1],a=null!=r[c]?r[c]:r[c]=[],u=function(e){var r,u,s,i,l;if(null==e)throw TypeError("No Instance of "+n+"(via "+c+"("+e+")) For "+e);for(u=0,s=a.length;s>u;u++)if(i=a[u],l=i[0],r=i[1],e.constructor===l)return r(e);if(null!=o)return o.call(t,e);throw TypeError("No Instance of "+n+"(via "+c+"("+e+")) For "+(e.constructor.name||"UnnamedType"))},t[c]=u}),t}}},n=function(n){var r,u;return r=null!=t[n]?t[n]:t[n]={},u=null!=e[n]?e[n]:e[n]=[],function(n){return u.indexOf(n)<0&&u.push(n),{where:function(e){return foreach(enumerate(e),function(e){var t,u;return u=e[0],t=e[1],(null!=r[u]?r[u]:r[u]=[]).push([n,t])})}}}},{typeclass:r,instance:n}}(),c=u.typeclass,r=u.instance,e.exports={typeclass:c,instance:r},null===e.parent&&(o=c("Show").where({show:function(n){return str(this.zero(n))},zero:function(){return 0}}).show,r("Show")(String).where({show:function(n){return json(n)}}),r("Show")(Number).where({}),log(function(){return o("hello")}),log(function(){return o(1)}),log(function(){return c("Show").hasInstance(String)}),log(function(){return c("Show").hasInstance(Number)}),log(function(){return c("Show").hasInstance(Object)}))},{"coffee-mate/global":10}],39:[function(n,e,t){var r,u,o,c,a;n("coffee-mate/global"),c=n("./typeclass").typeclass,r=n("./prim/Any").Any,u=c("TypeSpec").where({match:null,shape:function(n){return r},constraints:null,withSpec:function(n){return function(e){if(this.match(n)(e))return e;throw TypeError({expected:this.show(n),got:e})}},show:function(n){return n.name||"UnnamedType"},samples:null,sample:function(n){return head(this.samples(n))},htmlInline:function(n){return"<span class='type-maker'>"+this.show(n)+"</span>"},htmlBlock:function(n){return null},showHtml:function(n){var e,t;return t=function(e){return function(){var t,r,u;return t=e.htmlBlock(n),("<div class='spec'>\n<div class='"+(null!=t?"fold":"inline")+"'><span class='meta-field'>spec</span>: "+e.htmlInline(n)+"</div>\n"+(null!=t?"<div class='unfold'>\n	<span class='meta-field'>spec</span>: "+t.head+"\n	"+(null!=(r=t.body)?r:"")+"\n	"+(null!=(u=t.tail)?u:"")+"\n</div>":"")+"\n</div>").replace(/(\t|\n)/g,"")}}(this)(),e=function(e){return function(){var t;return t=json(e.sample(n),4),"<div class='sample'>\n<span class='meta-field'>sample</span>: "+(/\n/.test(t)?"<pre class='code'>"+t+"</pre>":"<span class='code'>"+t+"</span>")+"\n</div>"}}(this)(),"<div class='typespec'>"+(t+e)+"</div>"}}),o=u.constraints,a=function(n){return function(e){var t,r;return t=[],r=function(n){var e;return e=!0,foreach(n,function(n){var u,o,c;if(o=n.label,u=n.flag,c=n.sub,null!=u){if(u()===!1)return t.push(o()),e=!1,foreach["break"]}else if(null!=c&&r(c())===!1)return t.push(o()),e=!1,foreach["break"]}),e},r(o(n)(e)),t}},e.exports=extend({unmatchMessages:a})(u)},{"./prim/Any":15,"./typeclass":38,"coffee-mate/global":10}]},{},[12])(12)});
//# sourceMappingURL=global.min.js.map