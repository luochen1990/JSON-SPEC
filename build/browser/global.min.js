!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.__lazy=n()}}(function(){return function n(e,t,r){function o(c,a){if(!t[c]){if(!e[c]){var s="function"==typeof require&&require;if(!a&&s)return s(c,!0);if(u)return u(c,!0);var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}var l=t[c]={exports:{}};e[c][0].call(l.exports,function(n){var t=e[c][1][n];return o(t?t:n)},l,l.exports,n,e,t,r)}return t[c].exports}for(var u="function"==typeof require&&require,c=0;c<r.length;c++)o(r[c]);return o}({1:[function(n,e,t){},{}],2:[function(n,e,t){function r(){l=!1,a.length?i=a.concat(i):p=-1,i.length&&o()}function o(){if(!l){var n=setTimeout(r);l=!0;for(var e=i.length;e;){for(a=i,i=[];++p<e;)a[p].run();p=-1,e=i.length}a=null,l=!1,clearTimeout(n)}}function u(n,e){this.fun=n,this.array=e}function c(){}var a,s=e.exports={},i=[],l=!1,p=-1;s.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];i.push(new u(n,e)),1!==i.length||l||setTimeout(o,0)},u.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=c,s.addListener=c,s.once=c,s.off=c,s.removeListener=c,s.removeAllListeners=c,s.emit=c,s.binding=function(n){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(n){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],3:[function(n,e,t){(function(){var t,r=[].slice;t=function(n){var e,t,o,u,c,a,s,i,l,p,f,m,h,d,y,v,g,b,w,k,S,x,B,T,E,j;return o=n.best,f=n.foldl,l=function(n){return function(e){return function(t){return n(t)(e)}}},c=function(n){return function(e){return function(t){return n(e(t))}}},a=function(n){return function(e){return function(t){return n(e,t)}}},s=function(n){return function(e){return function(t){return function(r){return n(e,t,r)}}}},T=function(n){return function(e,t){return n(e)(t)}},E=function(n){return function(e,t,r){return n(e)(t)(r)}},b=function(n){return function(e){return n.apply(null,e)}},j=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],n(e)}},x=function(n){return function(e){return n[e]}},w=function(n){return function(e){return e[n]}},i=function(n){return function(e){return e===n}},g=function(n){return function(e){return e!==n}},y=function(n){return function(e){return n>e}},h=function(n){return function(e){return e>n}},d=function(n){return function(e){return n>=e}},m=function(n){return function(e){return e>=n}},k=function(n){return function(e){return e+n}},v=function(n){return function(e){return e-n}},e=Math.abs,p=Math.floor,u=Math.ceil,S=function(n){return function(e){return parseFloat(e.toPrecision(n))}},t=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],n(1===e.length&&e.first instanceof Array?e.first:e)}},B=f(function(n,e){return n+e},0),{flip:l,combine:c,curry2:a,curry3:s,uncurry2:T,uncurry3:E,pack:b,unpack:j,seek:x,pluck:w,equal:i,notEqual:g,lessThan:y,lessEqual:d,greaterThan:h,greaterEqual:m,plus:k,minus:v,abs:e,floor:p,ceil:u,precise:S,sum:B}},e.exports=t({best:n("lazy-list").best,foldl:n("lazy-list").foldl})}).call(this)},{"lazy-list":11}],4:[function(n,e,t){(function(){var t,r,o,u,c,a;a=n("./utils"),t=n("./basics"),u=n("lazy-list"),o=n("./funny"),r=n("./convertors"),c=n("./url-helpers"),e.exports=a.extend({})(a,t,u,o,r,c)}).call(this)},{"./basics":3,"./convertors":5,"./funny":6,"./url-helpers":8,"./utils":9,"lazy-list":11}],5:[function(n,e,t){(function(){var n;n=function(){var n,e,t,r,o,u,c,a,s;return o=function(n,e){var t;return"string"==typeof n?(t=parseInt(n,e),null==n.slice||t!==parseInt(n.slice(0,-1),e)?t:null):parseInt(0+n)},t=function(n){return/^-?[0-9]*(\.[0-9]+)?([eE]-?[0-9]+)?$/.test(n)?parseFloat(n):null},s=function(n,e){return n.toString(e)},n=function(n){return n===!0||n===!1?n:null},r=function(n){return n.toString(16)},a=function(n){return n.charCodeAt()},e=function(n){return String.fromCharCode(n)},u=function(n,e){return JSON.stringify(n,null,e)},c=function(n){return JSON.parse(n)},{"int":o,"float":t,bool:n,str:s,hex:r,ord:a,chr:e,json:u,obj:c}},e.exports=n()}).call(this)},{}],6:[function(n,e,t){(function(){var n,t=[].slice;n=function(){var n,e,r,o,u;return e=function(n){var e;return e=function(n,t,r){return 0===t?r:e(n,t-1,n(r))},function(t){return function(r){return e(t,n+0,r)}}},n=function(n){return function(n){return n(n)}(function(e){return n(function(n){return e(e)(n)})})},u=function(n,e){var r;return null==e&&(e=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],json(n)}),r={},function(){var o,u,c,a;return o=1<=arguments.length?t.call(arguments,0):[],c=e.apply(null,o),u=r[c],null!=u?u:(a=n.apply(null,o),r[c]=a,a)}},r=n,o=function(n){var e;return e=u(n(function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],e.apply(null,n)}))},{church:e,Y:n,memoize:u,fix:r,memoFix:o}},e.exports=n()}).call(this)},{}],7:[function(n,e,t){(function(e){(function(){var t,r,o;r=n("./coffee-mate");for(t in r)o=r[t],e[t]=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coffee-mate":4}],8:[function(n,e,t){(function(){var n;n=function(){var n,e;return e=function(n){return null==n&&(n=str),function(e){var t,r;return function(){var o;o=[];for(t in e)r=e[t],void 0!==r&&o.push(encodeURIComponent(t)+"="+encodeURIComponent(n(r)));return o}().join("&")}},n=function(n){return null==n&&(n=function(n){return n}),function(e){var t,r,o,u,c,a,s,i,l,p;for(t={},s=null!=(a=e.match(/[^?=&]+=[^&]*/g))?a:[],r=0,c=s.length;c>r;r++)l=s[r],i=l.match(/([^=]+)=(.*)/),o=i.length-2,u=i[o++],p=i[o++],t[decodeURIComponent(u)]=n(decodeURIComponent(p));return t}},{uri_encoder:e,uri_decoder:n}},e.exports=n()}).call(this)},{}],9:[function(n,e,t){(function(n){(function(){var t,r=[].slice;t=function(){var e,t,o,u,c,a,s,i,l,p,f,m,h,d;return i=function(n){var e;return e=n.toString().replace(/^\s*function\s?\(\s?\)\s?{\s*return\s*([^]*?);?\s*}$/,"$1"),e.length<=100&&(e=e.replace(/[\r\n]{1,2}\s*/g,"")),e},h=function(){return(new Date).getTime()},l=function(){var e,t,o,u,c;return e=function(){var e,t;return e=("undefined"==typeof window||null===window)&&"undefined"!=typeof n&&null!==n&&!n.env.NODE_DISABLE_COLORS,t={bold:"[0;1m",red:"[0;31m",green:"[0;32m",yellow:"[0;33m",blue:"[0;34m",bold_grey:"[1;30m"},e?function(n){return function(e){return""+t[n]+e+"[0m"}}:function(n){return function(n){return n}}}(),c=function(){var n,t;return n={"#":"bold_grey",I:"green",E:"red",W:"yellow"},t=function(n){return"log"===n?"#":n[0].toUpperCase()},function(r){var o;return o=t(r),e(n[o])(o)}}(),u=[],t=function(n){var t;return t=""+e("bold_grey")("#")+c(n),function(){var o,c,a,s,l,p,f,m,d;for(o=1<=arguments.length?r.call(arguments,0):[],c=[],p=0,f=o.length;f>p;p++)l=o[p],"function"==typeof l?(s=i(l),m=h(),a=l(),d=h()-m,c.push(t+" "+e("green")(s)+" "+e("bold_grey")("==>"),a),d>0&&c.push(e("yellow")("["+d+"ms]"))):c.push(""+t,l);return console[n].apply(console,c),u.push(c),u.length>=10&&u.shift(),null}},o=t("log"),o.histories=u,o.info=t("info"),o.warn=t("warn"),o.error=o.err=t("error"),o}(),e=function(n,e){var t,r,o;n instanceof Function||(o=[e,n],n=o[0],e=o[1]);try{r=n()}catch(u){throw t=u,Error("Assertion "+(null!=e?e:i(n))+" Unknown:\n"+t)}if(!r)throw Error("Assertion "+(null!=e?e:i(n))+" Failed!")},t=function(n,e){var t,r,o;try{r=n(),o=e()}catch(u){throw t=u,Error("Equation Between "+i(n)+" And "+i(e)+" Unknown:\n"+t)}if(r!==o)throw Error("Equation Failed:\n	"+i(n)+" IS "+r+" BUT\n	"+i(e)+" IS "+o+".")},o=function(n){return function(e,t){var r,o,u,c,a;try{c=e(),a=t(),o=n(c),u=n(a)}catch(s){throw r=s,Error("MAPPED Equation Between "+i(e)+" And "+i(t)+" Unknown:\n"+r)}if(o!==u)throw Error("Equation Failed:\n	"+i(e)+" IS "+c+" AND MAPPED TO "+o+" BUT\n	"+i(t)+" IS "+a+" AND MAPPED TO "+u+".")}},m=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],e=c(e),n.apply(null,e)}},a=function(n){var e,t,r,o,u,c;for(e={},t=0,o=n.length;o>t;t++)u=n[t],r=u[0],c=u[1],e[r]=c;return e},f=function(){var n;return n=function(e,t){var r,o,u;if(0===t||null==e||"object"!=typeof e)return e;if(e instanceof Array)o=function(){var r,o,c;for(c=[],r=0,o=e.length;o>r;r++)u=e[r],c.push(n(u,t-1));return c}();else{o={};for(r in e)u=e[r],o[r]=n(u,t-1)}return o},{copy:function(e,t){return null==t&&(t=1),n(e,t)},deepcopy:function(e,t){return null==t&&(t=1/0),n(e,t)}}}(),u=f.copy,c=f.deepcopy,s=function(n){return function(){var e,t,o,u,c,a;for(t=1<=arguments.length?r.call(arguments,0):[],o=0,c=t.length;c>o;o++)if(e=t[o],null!=e)for(u in e)a=e[u],null==n[u]&&(n[u]=a);return n}},d=function(n){return function(){var e,t,o,u,c,a;for(c=1<=arguments.length?r.call(arguments,0):[],t=0,u=c.length;u>t;t++)if(e=c[t],null!=e)for(o in e)a=e[o],n[o]=a;return n}},p=function(n){var e,t;return e=u(n),t=e._,null!=t?function(){var n,o;return n=1<=arguments.length?r.call(arguments,0):[],(null!=(o=e[n.length])?o:t).apply(null,n)}:function(){var n,t;if(n=1<=arguments.length?r.call(arguments,0):[],t=e[n.length],null==t)throw Error("This Function Can't Accept "+n.length+" Args");return t.apply(null,n)}},{log:l,assert:e,assertEq:t,assertEqOn:o,dict:a,copy:u,deepcopy:c,securely:m,extend:s,update:d,overload:p}},e.exports=t()}).call(this)}).call(this,n("_process"))},{_process:2}],10:[function(n,e,t){n("./build/nodejs/global.js")},{"./build/nodejs/global.js":7}],11:[function(n,e,t){(function(){var n,t=[].slice;n=function(n){var e,r,o,u,c,a,s,i,l,p,f,m,h,d,y,v,g,b,w,k,S,x,B,T,E,j,I,O,N,A,D,C,F,G,M,L,z,P,_,q,U,V,R,H,W,K,$,Q;return o=n.Symbol,r=function(n){return n[o.iterator]=function(){return n()},n.toString=function(){return"LazyList"},n},D=r(function(){return D}),D.toString=function(){return"nil"},e=function(n){return n.next=function(){var e;return e=n(),{value:e,done:e===D}},n.toString=function(){return"Iterator"},n},A=r(function(){var n;return n=-1,e(function(){return++n})}),L=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],0===n.length?A:r(1===n.length?function(){var t,r;return r=n[0],t=-1,e(function(){return++t<r?t:D})}:2===n.length?function(){var t,r,o;return r=n[0],o=n[1],o>r?(t=r-1,e(function(){return++t<o?t:D})):(t=r+1,e(function(){return--t>o?t:D}))}:function(){var t,r,o,u;if(r=n[0],u=n[1],o=n[2],u!==r&&0>(u-r)*o)throw"ERR IN range(): YOU ARE CREATING AN UNLIMITTED RANGE";return t=r-o,e(u>r?function(){return(t+=o)<u?t:D}:function(){return(t+=o)>u?t:D})})},G=r(function(){return d(function(n){return u(function(e){return n%e!==0})(K(function(e){return n>=e*e})(L(2,1/0)))})(L(2,1/0))()}),x=function(n){var t;if("function"==typeof n)return null!=n[o.iterator]?n:r(n);if((t=n.constructor)===Array||t===String)return r(function(){var t;return t=-1,e(function(){return++t<n.length?n[t]:D})});if(null!=n[o.iterator])return r(function(){var t;return t=n[o.iterator](),e(function(){var n;return n=t.next(),n.done?D:n.value})});throw Error("lazy(xs): xs is neither Array nor Iterable")},h=function(n){return null!=n[o.iterator]||n instanceof Array?$(A,n):r(function(){var t,r;return r=Object.keys(n),t=-1,e(function(){var e;return++t<r.length?[e=r[t],n[e]]:D})})},P=function(n){return r(function(){return e(function(){return n})})},k=function(n,t){return r(function(){var r;return r=t,e(function(){var e;return e=r,r=n(r),e})})},M=function(){var n,e,t;return t=Math.PI/3,n=function(n){return n=1e4*Math.sin(n+t),n-Math.floor(n)},e=function(e){return k(n,n(e))},function(n){var t,r,o,u,c,a;return null==n?e(0):"number"==typeof n?e(n):(a=null!=(r=n.seed)?r:0,u=n.range,null!=u?"number"==typeof u?E(function(n){return Math.floor(n*u)})(e(a)):(o=[u[0],u[1]-u[0]+1],c=o[0],t=o[1],E(function(n){return c+Math.floor(n*t)})(e(a))):e(a))}}(),F=function(){var n;return n=function(n){var e,t,r,o,u;for(n=n.slice(0),e=n.length-1;e>=1&&n[e]<=n[e-1];)--e;if(0!==e){for(t=n.length-1;t>e-1&&n[t]<=n[e-1];)--t;o=[n[e-1],n[t]],n[t]=o[0],n[e-1]=o[1]}for(r=n.length-1;r>e;)u=[n[r],n[e]],n[e]=u[0],n[r]=u[1],++e,--r;return n},function(e){var t;return t=T(e),0===t.length?D:p(t.slice(0))(K(function(n){return json(n)!==json(t)})(f(1)(k(n,t))))}}(),W=function(n){return function(t){return r(function(){var r,u;return u=x(t)[o.iterator](),r=-1,e(function(){return++r<n?u():D})})}},K=function(n){return function(t){return r(function(){var r;return r=x(t)[o.iterator](),e(function(){var e;return(e=r())!==D&&n(e)?e:D})})}},f=function(n){return function(e){return r(function(){var t,r,u,c,a;for(u=x(e)[o.iterator](),t=!1,r=c=0,a=n;(a>=0?a>c:c>a)&&(t||(t=u()===D),!t);r=a>=0?++c:--c);return t?function(){return D}:u})}},m=function(n){return function(t){return r(function(){var r,u;for(r=x(t)[o.iterator]();n(u=r())&&u!==D;);return e(function(){var n,e;return e=[u,r()],n=e[0],u=e[1],n})})}},p=function(n){return function(t){return r(function(){var r;return r=null,e(function(){return null===r?(r=x(t)[o.iterator](),n):r()})})}},E=function(n){return function(t){return r(function(){var r;return r=x(t)[o.iterator](),e(function(){var e;return(e=r())!==D?n(e):D})})}},d=function(n){return function(t){return r(function(){var r;return r=x(t)[o.iterator](),e(function(){for(var e;(e=r())!==D&&!n(e););return e})})}},q=function(n,t){return function(u){return r(function(){var r;return r=x(u)[o.iterator](),e(function(){var e,o;return e=t,t=(o=r())!==D?n(t,o):D,e})})}},R=function(n){return 1>n?D:function(t){return f(n-1)(r(function(){var r,u;return u=x(t)[o.iterator](),r=[],e(function(){var e;return(e=u())===D?D:(r.push(e),r.length>n&&r.shift(1),r.slice(0))})}))}},H=function(n){return function(e){return R(n)(l([e,W(n-1)(e)]))}},_=function(n){var t;return(t=n.constructor)===Array||t===String?r(function(){var t;return t=n.length,e(function(){return--t>=0?n[t]:D})}):T(x(n)).reverse()},U=function(n){var e;return e=T(x(n)),e.sort(function(n,e){return(n>e)-(e>n)})},V=function(n){return function(e){var t;return t=T(x(e)),t.sort(function(e,t){var r,o;return((r=n(e))>(o=n(t)))-(o>r)})}},b=function(n){return function(e){var t,r,o;return r={},v(e,function(e){var t;return t=n(e),null==r[t]&&(r[t]=[]),r[t].push(e)}),function(){var n;n=[];for(t in r)o=r[t],n.push(o);return n}()}},C=function(n){return function(e){var t;return t=[[],[]],v(e,function(e){var r;return r=!n(e)+0,t[r].push(e)}),t}},l=function(n){return n=d(function(n){var e;return(e=n.constructor)!==Array&&e!==String||n.length>0})(n),r(function(){var t,r,u;return u=x(n)[o.iterator](),r=u(),t=x(r)[o.iterator](),e(function(){var n;return(n=t())!==D?n:(r=u())!==D?(t=x(r)[o.iterator]())():D})})},z=function(){var n,u,c;return n=function(n){var e,t,r;for(e=0,t=n.length;t>e;e++)if(r=n[e],r===D)return!0;return!1},u=function(){var u;return u=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r;return t=function(){var n,e,t;for(t=[],n=0,e=u.length;e>n;n++)r=u[n],t.push(x(r)[o.iterator]());return t}(),e(function(){var e,r;return r=function(){var n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(e());return o}(),n(r)?D:r})})},c=function(u){return function(){var c;return c=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r;return t=function(){var n,e,t;for(t=[],n=0,e=c.length;e>n;n++)r=c[n],t.push(x(r)[o.iterator]());return t}(),e(function(){var e,r;return r=function(){var n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(e());return o}(),n(r)?D:u.apply(null,r)})})}},{zip:u,zipWith:c}}(),$=z.zip,Q=z.zipWith,i=function(){var n,o;return o=function(n){var e;return e=n.length-1,function(t){var r;for(r=e;!(++t[r]<n[r]||0>=r);)t[r--]=0;return t}},n=function(n){var e;return e=n.length,function(t){var r,o,u,c;for(c=[],r=o=0,u=e;u>=0?u>o:o>u;r=u>=0?++o:--o)c.push(n[r][t[r]]);return c}},function(){var u;return u=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r,c,a,s,i,l,p,f;for(u=function(){var n,e,t;for(t=[],n=0,e=u.length;e>n;n++)f=u[n],t.push(T(f));return t}(),l=function(){var n,e,t;for(t=[],r=n=0,e=u.length;e>=0?e>n:n>e;r=e>=0?++n:--n)t.push(u[r].length);return t}(),a=0,i=l.length;i>a;a++)if(s=l[a],0===s)return D;return c=o(l),t=n(u),p=function(){var n,e,t;for(t=[],r=n=0,e=u.length;e>=0?e>n:n>e;r=e>=0?++n:--n)t.push(0);return t}(),e(function(){var n;return p[0]<l[0]?(n=t(p),c(p),n):D})})}}(),T=function(n){var e,t,r,u,c;if(n instanceof Array)return n;if("function"==typeof n){for(e=n[o.iterator](),r=[];(c=e())!==D;)r.push(c);return r}if(null!=n[o.iterator]){for(e=x(n)[o.iterator](),u=[];(c=e())!==D;)u.push(c);return u}if("number"==typeof n)return t=n,function(n){return T(W(t)(n))};throw Error({message:"list(xs): xs is neither Array nor Iterable",info:{xs:n,"xs.constructor":null!=n?n.constructor:void 0}})},w=function(n){var e,t,r;if((r=n.constructor)===Array||r===String){if(n.length>0)return n[0];throw"Error: head() used on empty list."}if(e=x(n)[o.iterator](),(t=e())!==D)return t;throw"Error: head() used on empty list."},S=function(n){var e,t,r,u,c;if((r=n.constructor)===Array||r===String)return null!=(u=n[n.length-1])?u:D;for(e=x(n)[o.iterator](),t=D;(c=e())!==D;)t=c;return t},B=function(n){var e,t,r,u;if((r=n.constructor)===Array||r===String)return n.length;for(e=x(n)[o.iterator](),t=0;(u=e())!==D;)++t;return t},y=function(n,e){return function(t){var r,u,c;for(u=e,r=x(t)[o.iterator]();(c=r())!==D;)u=n(u,c);return u}},a=function(n){return function(e){var t,r,u;if(r=x(e)[o.iterator](),(u=r())===D)return null;for(;(t=r())!==D;)u=n(t,u)?t:u;return u}},I=function(n){return a(function(e,t){return n(e)>n(t)})},N=function(n){return a(function(e,t){return n(e)>n(t)})},j=a(function(n,e){return n>e}),O=a(function(n,e){return e>n}),u=function(n){return"function"!=typeof n&&(n=function(e){return e===n}),function(e){var t,r;for(t=x(e)[o.iterator]();(r=t())!==D;)if(!n(r))return!1;return!0}},c=function(n){var e;return e=u(function(e){return!n(e)}),function(n){return!e(n)}},g=function(n){var e;return e={},v(n,function(n){var t,r;return t=n[0],r=n[1],e[t]=r}),e},s=function(){return s},s.toString=function(){return"foreach.break"},v=function(n,e,t){var r,u;for(r=x(n)[o.iterator]();(u=r())!==D&&e(u,t)!==s;);return t},Object.defineProperties(v,{"break":{writable:!1,configurable:!1,enumerable:!1,value:s}}),{nil:D,LazyList:r,Iterator:e,Symbol:o,naturals:A,range:L,primes:G,lazy:x,enumerate:h,repeat:P,iterate:k,randoms:M,permutations:F,cons:p,map:E,filter:d,take:W,takeWhile:K,drop:f,dropWhile:m,scanl:q,streak:R,streak2:H,reverse:_,sort:U,sortOn:V,groupOn:b,partition:C,concat:l,zip:$,zipWith:Q,cartProd:i,list:T,head:w,last:S,length:B,foldl:y,best:a,maximum:j,minimum:O,maximumOn:I,minimumOn:N,all:u,any:c,fromList:g,foreach:v}},e.exports=n({Symbol:"undefined"!=typeof Symbol&&null!==Symbol?Symbol:{iterator:"iter"}})}).call(this)},{}],12:[function(n,e,t){(function(e){var t,r,o;t=n("./index");for(r in t)o=t[r],e[r]=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":14}],13:[function(n,e,t){var r,o,u,c,a,s,i,l;i=n("./typespec"),c=i.htmlInline,u=i.htmlBlock,l=n("./typeclass").typeclass,r=function(n){return function(e){var t;return t=u(e),null==t?null:{head:n(t.head),body:t.body,tail:t.tail}}},o=function(n,e){return function(t){var r;return r=map(function(n){var t,r,o,a,s;return r=n[0],s=n[1],t=u(s),"<li>\n<div class='"+(null!=t?"fold":"inline")+"'>\n	<span class='"+e+"'>"+r+"</span>: "+c(s)+"\n</div>\n"+(null!=t?"<div class='unfold'>\n	<span class='"+e+"'>"+r+"</span>: "+t.head+"\n	"+(null!=(o=t.body)?o:"")+"\n	"+(null!=(a=t.tail)?a:"")+"\n</div>":"")+"\n</li>"})(enumerate(t)),"<ul class='"+n+"'>"+list(r).join("\n")+"</ul>"}},a=function(n){return null!=n&&l("TypeSpec").hasInstance(n.constructor)},s=function(n){return null!=n&&all(function(n){var e,t;return e=n[0],t=n[1],a(t)})(enumerate(n))},e.exports={expandBlockHead:r,genBlockBody:o,isTypeSpec:a,isTypeSpecDict:s}},{"./typeclass":39,"./typespec":40}],14:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y,v,g,b,w,k,S,x,B,T,E,j,I,O,N,A,D,C,F,G,M,L,z,P,_,q;n("./prim/object"),n("./prim/array"),n("./prim/constructor"),o=n("./prim/bool").Bool,r=n("./prim/any").Any,l=n("./prim/int").Int,h=n("./prim/nat").Nat,a=n("./prim/enum").Enum,T=n("./prim/value").Value,y=n("./prim/optional").Optional,v=n("./prim/promise").Promise,k=n("./prim/tree").Tree,f=n("./prim/map").Map,S=n("./prim/treemap").TreeMap,i=n("./prim/fn").Fn,m=n("./prim/namedtype").NamedType,b=n("./prim/strict").Strict,p=n("./prim/loose").Loose,g=n("./prim/select").Select,u=n("./prim/choose").Choose,d=n("./prim/oneof").OneOf,D=n("./typespec"),A=D.match,q=D.unmatchMessages,L=D.show,G=D.sample,M=D.samples,z=D.showHtml,O=D.htmlInline,I=D.htmlBlock,C=n("./render"),j=C.genRenderCode,P=C.showPage,F=n("./typeclass"),_=F.typeclass,N=F.instance,e.exports={Number:Number,String:String,Bool:o,Any:r,Int:l,Nat:h,Enum:a,Value:T,Optional:y,Promise:v,Tree:k,Map:f,TreeMap:S,Fn:i,NamedType:m,Strict:b,Loose:p,Select:g,Choose:u,OneOf:d,match:A,unmatchMessages:q,show:L,sample:G,samples:M,showHtml:z,genRenderCode:j,showPage:P},null===e.parent&&(n("coffee-mate/global"),B=y(String),x={name:B,position:String,age:Number},assert(function(){return A(B)("luo")===!0}),assert(function(){return A(B)(1)===!1}),log(function(){return L(B)}),w=m({name:"TableName",spec:String,samples:["table1","table2"]}),s=m({name:"FieldName",spec:String,samples:["product_id","sale","amount"]}),c=a(["=","<","<=",">=",">"]),E=[{tableName:w,join:{leftTableName:w,left:s,op:c,right:s}}],log(function(){return q(E)([{tableName:"a",join:{}}])}))},{"./prim/any":17,"./prim/array":18,"./prim/bool":19,"./prim/choose":20,"./prim/constructor":21,"./prim/enum":22,"./prim/fn":23,"./prim/int":24,"./prim/loose":25,"./prim/map":26,"./prim/namedtype":27,"./prim/nat":28,"./prim/object":29,"./prim/oneof":30,"./prim/optional":31,"./prim/promise":32,"./prim/select":33,"./prim/strict":34,"./prim/tree":35,"./prim/treemap":36,"./prim/value":37,"./render":38,"./typeclass":39,"./typespec":40,"coffee-mate/global":10}],15:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("../typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),o("TypeSpec")(r).where({match:function(){return function(n){return null!=n}},constraints:function(){return function(n){return[{label:function(){return"Any Non-Null Value Expected, But Got "+n},flag:function(){return null!=n}}]}},show:function(){return"Any"},samples:function(){return concat(repeat(["a",3,!0,[1,2],{x:1}]))},sample:function(){return"any"}}),e.exports={Any:r}},{"../typeclass":39,"coffee-mate/global":10}],16:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d;n("coffee-mate/global"),s=n("../typeclass").instance,p=n("../typespec"),l=p.match,o=p.constraints,d=p.show,h=p.samples,m=p.sample,a=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),u=f.genBlockBody,i=f.isTypeSpec,r=function(){function n(e){if(null==e||e.constructor!==Array)throw Error("Bad Choose Type Definition: Array Expected, But Got "+e);if(!all(i)(e))throw Error("Bad Choose Type Definition: Array of TypeSpec Expected, But Got "+e);return{constructor:n,specs:e}}return n}(),s("TypeSpec")(r).where({match:function(n){var e;return e=n.specs,function(n){return null!=n&&any(function(e){return l(e)(n)})(e)}},constraints:function(n){var e;return e=n.specs,function(t){return[{label:function(){return"Non-Null Value Expected, But Got "+t},flag:function(){return null!=t}},{label:function(){return d(n)+" Expected, But Got "+json(t)},flag:function(){return any(function(n){return l(n)(t)})(e)}}]}},show:function(n){var e;return e=n.specs,"Choose(["+list(map(d)(e)).join(", ")+"])"},samples:function(n){var e;return e=n.specs,concat(repeat(map(m)(e)))},htmlInline:function(n){var e;return e=n.specs,"<span class='type-maker unwrapped'>"+list(map(a)(e)).join(" | ")+"</span>"},htmlBlock:function(n){var e;return e=n.specs,{head:"<span class='type-maker'>Choose [</span>",body:u("choose","meta-field")(dict(list(zip(naturals,e)))),tail:"<span class='type-maker'>]</span>"}}}),e.exports={Choose:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],17:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("../typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),o("TypeSpec")(r).where({match:function(){return function(n){return null!=n}},constraints:function(){return function(n){return[{label:function(){return"Any Non-Null Value Expected, But Got "+n},flag:function(){return null!=n}}]}},show:function(){return"Any"},samples:function(){return concat(repeat(["a",3,!0,[1,2],{x:1}]))},sample:function(){return"any"}}),e.exports={Any:r}},{"../typeclass":39,"coffee-mate/global":10}],18:[function(n,e,t){var r,o,u,c,a,s,i,l,p;n("coffee-mate/global"),c=n("../typeclass").instance,s=n("../typespec"),a=s.match,r=s.constraints,p=s.show,l=s.samples,i=s.sample,u=s.htmlInline,o=s.htmlBlock,c("TypeSpec")(Array).where({match:function(n){var e;return e=n[0],function(n){return null!=n&&n instanceof Array&&all(a(e))(n)}},constraints:function(n){var e;return e=n[0],function(n){return cons({label:function(){return"Array Expected, But Got "+n},flag:function(){return null!=n&&n instanceof Array}})(map(function(n){var t,o;return t=n[0],o=n[1],{label:function(){return"Element "+t},sub:function(){return r(e)(o)}}})(enumerate(null!=n?n:[])))}},show:function(n){var e;return e=n[0],"["+p(e)+"]"},samples:function(n){var e;return e=n[0],concat(repeat(reverse(map(function(n){return list(take(n)(l(e)))})(range(3)))))},sample:function(n){var e;return e=n[0],[i(e)]},htmlInline:function(n){var e;return e=n[0],"<span class='type-maker'>["+u(e)+"]</span>"},htmlBlock:function(n){var e,t,r;return r=n[0],null==(e=o(r))?null:{head:"<span class='type-maker'>["+e.head+"</span>",body:e.body,tail:"<span class='type-maker'>"+(null!=(t=e.tail)?t:"")+"]</span>"}}})},{"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],19:[function(n,e,t){var r;r=Boolean,e.exports={Bool:r}},{}],20:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d;n("coffee-mate/global"),s=n("../typeclass").instance,p=n("../typespec"),l=p.match,o=p.constraints,d=p.show,h=p.samples,m=p.sample,a=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),u=f.genBlockBody,i=f.isTypeSpec,r=function(){function n(e){if(null==e||e.constructor!==Array)throw Error("Bad Choose Type Definition: Array Expected, But Got "+e);if(!all(i)(e))throw Error("Bad Choose Type Definition: Array of TypeSpec Expected, But Got "+e);return{constructor:n,specs:e}}return n}(),s("TypeSpec")(r).where({match:function(n){var e;return e=n.specs,function(n){return null!=n&&any(function(e){return l(e)(n)})(e)}},constraints:function(n){var e;return e=n.specs,function(t){return[{label:function(){return"Non-Null Value Expected, But Got "+t},flag:function(){return null!=t}},{label:function(){return d(n)+" Expected, But Got "+json(t)},flag:function(){return any(function(n){return l(n)(t)})(e)}}]}},show:function(n){var e;return e=n.specs,"Choose(["+list(map(d)(e)).join(", ")+"])"},samples:function(n){var e;return e=n.specs,concat(repeat(map(m)(e)))},htmlInline:function(n){var e;return e=n.specs,"<span class='type-maker unwrapped'>"+list(map(a)(e)).join(" | ")+"</span>"},htmlBlock:function(n){var e;return e=n.specs,{head:"<span class='type-maker'>Choose [</span>",body:u("choose","meta-field")(dict(list(zip(naturals,e)))),tail:"<span class='type-maker'>]</span>"}}}),e.exports={Choose:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],21:[function(n,e,t){var r,o,u,c,a,s;n("coffee-mate/global"),r=n("../typeclass").instance,u=n("../typespec"),o=u.match,s=u.show,a=u.samples,c=u.sample,r("TypeSpec")(Function).where({shape:function(n){return n},match:function(n){return function(e){return null!=e&&e.constructor===n}},constraints:function(n){return function(e){return[{label:function(){return"Non-Null Value Expected, But Got "+e},flag:function(){return null!=e}},{label:function(){var t,r;return"Value with Constructor "+(null!=(t=n.name)?t:n)+" Expected, But Got "+json(e)+" with Constructor "+(null!=(r=e.constructor.name)?r:e.constructor)},flag:function(){return e.constructor===n}}]}},show:function(n){return n.name||"UnnamedType"},samples:function(n){switch(n){case Boolean:return concat(repeat([!0,!1]));case Number:return concat(repeat([3.14,9,42]));case String:return concat(repeat(["abc","hello"]));default:return repeat(new n)}},htmlInline:function(n){return"<span class='type-maker'>"+s(n)+"</span>"}})},{"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],22:[function(n,e,t){var r,o,u,c=[].indexOf||function(n){for(var e=0,t=this.length;t>e;e++)if(e in this&&this[e]===n)return e;return-1};n("coffee-mate/global"),o=n("../typeclass").instance,u=n("../typespec").show,r=function(){function n(e){if(!all(function(n){return null!=n})(e))throw Error("Bad Enum Type Definition: Array Of Non-Null Values Expected, Bot Got "+e);return{constructor:n,"enum":e}}return n}(),o("TypeSpec")(r).where({match:function(n){var e;return e=n["enum"],function(n){return c.call(e,n)>=0}},constraints:function(n){var e;return e=n["enum"],function(t){return[{label:function(){return u(n)+" Expected, But Got "+json(t)},flag:function(){return c.call(e,t)>=0}}]}},show:function(n){var e;return e=n["enum"],"Enum("+json(e)+")"},samples:function(n){var e;return e=n["enum"],concat(repeat(e))},htmlInline:function(n){var e;return e=n["enum"],"<span class='type-maker unwrapped'>Enum "+json(e)+"</span>"}}),e.exports={Enum:r}},{"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],23:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h;n("coffee-mate/global"),i=n("../typeclass"),h=i.typeclass,a=i.instance,l=n("../typespec"),s=l.match,m=l.show,f=l.samples,p=l.sample,c=l.htmlInline,u=l.htmlBlock,o=n("../helpers").genBlockBody,r=function(){function n(e){if(null==e||!h("TypeSpec").hasInstance(e.constructor))throw Error("Bad Fn Definition: TypeSpec as ispec Expected, But Got "+e);return function(t){if(null==t||!h("TypeSpec").hasInstance(t.constructor))throw Error("Bad Fn Definition: TypeSpec as ospec Expected, But Got "+t);return{constructor:n,ispec:e,ospec:t}}}return n}(),a("TypeSpec")(r).where({match:function(n){var e,t;return e=n.ispec,t=n.ospec,function(n){return null!=n&&n.constructor===Function}},withSpec:function(n){var e,t;return e=n.ispec,t=n.ospec,function(n){if(null==n||n.constructor!==Function)throw TypeError({expected:"Function",got:n});return function(r){var o;return withSpec(e)(r),o=n(r),withSpec(t)(o),o}}},show:function(n){var e,t;return e=n.ispec,t=n.ospec,"Fn("+m(e)+")("+m(t)+")"},samples:function(n){var e,t;return e=n.ispec,t=n.ospec,repeat({"[input]":p(e),"[output]":p(t)})},htmlInline:function(n){var e,t;return e=n.ispec,t=n.ospec,"<span class='type-maker unwrapped'>"+c(e)+" -> "+c(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.ispec,t=n.ospec,{head:"<span class='type-maker'>Function (</span>",body:o("function","meta-field")({input:e,output:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={Fn:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],24:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("../typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),o("TypeSpec")(r).where({match:function(){return function(n){return null!=n&&n.constructor===Number&&!isNaN(n)&&n===parseInt(n)}},constraints:function(){return function(n){return[{label:function(){return"Int Excepted, But Got "+json(n)},flag:function(){return null!=n&&n.constructor===Number&&!isNaN(n)&&n===parseInt(n)}}]}},show:function(){return"Int"},samples:function(){return concat(repeat([42,1,2]))}}),e.exports={Int:r}},{"../typeclass":39,"coffee-mate/global":10}],25:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y,v,g;n("coffee-mate/global"),p=n("../typeclass"),g=p.typeclass,s=p.instance,f=n("../typespec"),
y=f.shape,l=f.match,o=f.constraints,v=f.show,d=f.samples,h=f.sample,a=f.htmlInline,c=f.htmlBlock,m=n("../helpers"),u=m.genBlockBody,i=m.isTypeSpecDict,r=function(){function n(e){if(!i(e))throw Error("Bad Loose Type Definition: Dict Of TypeSpec Expected, But Got "+e);return{constructor:n,specdict:e}}return n}(),s("TypeSpec")(r).where({shape:function(n){var e;return e=n.specdict,r(fromList(map(function(n){var e,t;return e=n[0],t=n[1],[e,y(t)]})(enumerate(e))))},match:function(n){var e;return e=n.specdict,function(n){return null!=n&&n.constructor===Object&&all(function(e){var t,r;return t=e[0],r=e[1],l(r)(n[t])})(enumerate(e))}},constraints:function(n){var e;return e=n.specdict,function(n){return cons({label:function(){return"Object Expected, But Got "+n},flag:function(){return null!=n}})(map(function(e){var t,r;return t=e[0],r=e[1],{label:function(){return"Field "+t},sub:function(){return o(r)(n[t])}}})(enumerate(e)))}},show:function(n){var e;return e=n.specdict,"Loose({"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+v(t)})(enumerate(e))).join(", ")+"})"},samples:function(n){var e;return e=n.specdict,repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,h(t)]})(enumerate(e)))))},htmlInline:function(n){var e;return e=n.specdict,"<span class='type-maker unwrapped'>Loose {<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specdict,{head:"<span class='type-maker'>Loose {</span>",body:u("loose","field-name")(e),tail:"<span class='type-maker'>}</span>"}}}),e.exports={Loose:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],26:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d;n("coffee-mate/global"),l=n("../typeclass"),d=l.typeclass,s=l.instance,p=n("../typespec"),i=p.match,o=p.constraints,h=p.show,m=p.samples,f=p.sample,a=p.htmlInline,c=p.htmlBlock,u=n("../helpers").genBlockBody,r=function(){function n(e){if(null==e||!d("TypeSpec").hasInstance(e.constructor))throw Error("Bad Fn Definition: TypeSpec as kspec Expected, But Got "+e);return function(t){if(null==t||!d("TypeSpec").hasInstance(t.constructor))throw Error("Bad Fn Definition: TypeSpec as vspec Expected, But Got "+t);return{constructor:n,kspec:e,vspec:t}}}return n}(),s("TypeSpec")(r).where({match:function(n){var e,t;return e=n.kspec,t=n.vspec,function(n){var r,o,u;return o=i(e),u=i(t),null!=n&&n.constructor===Object&&all(o)(r=Object.keys(n))&&all(u)(map(seek(n))(r))}},constraints:function(n){var e,t;return e=n.kspec,t=n.vspec,function(n){return cons({label:function(){return"Object Expected, But Got "+n},flag:function(){return null!=n&&n.constructor===Object}})(concat([map(function(n){return{label:function(){return"Key "+json(n)},sub:function(){return o(e)(n)}}})(Object.keys(null!=n?n:[])),map(function(e){return{label:function(){return"Key "+json(e)+" 's Value "},sub:function(){return o(t)(n[e])}}})(Object.keys(null!=n?n:[]))]))}},show:function(n){var e,t;return e=n.kspec,t=n.vspec,"Map("+h(e)+")("+h(t)+")"},samples:function(n){var e,t,r,o;return t=n.kspec,o=n.vspec,e=list(take(4)(m(t))),r=list(take(4)(m(o))),concat(repeat([dict([[e[0],r[0]],[e[1],r[1]]]),dict([[e[2],r[2]],[e[3],r[3]]])]))},htmlInline:function(n){var e,t;return e=n.kspec,t=n.vspec,"<span class='type-maker unwrapped'>Map "+a(e)+" "+a(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.kspec,t=n.vspec,{head:"<span class='type-maker'>Map (</span>",body:u("map","meta-field")({key:e,value:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={Map:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],27:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),l=n("../typeclass"),y=l.typeclass,s=l.instance,p=n("../typespec"),h=p.shape,i=p.match,o=p.constraints,d=p.show,m=p.samples,f=p.sample,a=p.htmlInline,c=p.htmlBlock,u=n("../helpers").expandBlockHead,r=function(){function n(e){var t,r,o,u,c;if(o=e.name,c=e.spec,r=e.desc,t=e.check,u=e.samples,null==o||null==c)throw Error("Bad NamedType Definition: name & spec Must Be Specified");if(null==c||!y("TypeSpec").hasInstance(c.constructor))throw Error("Bad NamedType Definition: TypeSpec as spec Expected, But Got "+c+"\n	name: "+o);if(null!=u&&!all(i(c))(take(100)(u)))throw Error("Bad NamedType Definition: samples Should Match spec\n	name: "+o+"\n	spec: "+c);return{constructor:n,name:o,spec:c,desc:r,check:t,samples:u}}return n}(),s("TypeSpec")(r).where({shape:function(n){var e;return e=n.spec,h(e)},match:function(n){var e,t;return t=n.spec,e=n.check,function(n){return i(t)(n)&&(null!=e?e(n):!0)}},constraints:function(n){var e,t,r;return r=n.spec,e=n.check,t=n.name,function(n){return[{label:function(){return t+" Expected"},sub:function(){return o(r)(n)}},{label:function(){return t+" Expected to Satisfy "+e+", But Got "+json(n)},flag:function(){return null!=e?e(n):!0}}]}},show:function(n){var e,t;return e=n.name,t=n.spec,e||d(t)},samples:function(n){var e,t;return t=n.spec,e=n.samples,null!=e?concat(repeat(e)):m(t)},htmlInline:function(n){var e,t;return e=n.name,t=n.spec,null!=e?"<span class='type-name'>"+e+"</span>":a(t)},htmlBlock:function(n){var e,t,r;return e=n.name,r=n.spec,null!=(t=u(function(n){return"<span><span class='type-name'>"+e+"</span><span class='spliter'>spec:</span>"+n+"</span>"})(r))?t:{head:"<span><span class='type-name'>"+e+"</span><span class='spliter'>spec:</span>"+a(r)+"</span>"}},showHtml:function(n){var e,t,r,o,u,s,i,l,p;return u=n.name,r=n.desc,l=n.spec,e=n.check,s=null==u?"":"<div class='name'>\n<span class='meta-field'>name</span>: <span class='type-name'>"+u+"</span>\n</div>",o=null==r?"":function(){var n;return n=r,"<div class='desc'>\n<span class='meta-field'>desc</span>: "+(/\n/.test(n)?"<pre class='text'>"+n+"</pre>":"<span class='text'>"+n+"</span>")+"\n</div>"}(),p=function(){var n,e,t;return n=c(l),("<div class='spec'>\n<div class='"+(null!=n?"fold":"inline")+"'><span class='meta-field'>spec</span>: "+a(l)+"</div>\n"+(null!=n?"<div class='unfold'>\n	<span class='meta-field'>spec</span>: "+n.head+"\n	"+(null!=(e=n.body)?e:"")+"\n	"+(null!=(t=n.tail)?t:"")+"\n</div>":"")+"\n</div>").replace(/(\t|\n)/g,"")}(),i=function(){var e;return e=json(f(n),4),"<div class='sample'>\n<span class='meta-field'>sample</span>: "+(/\n/.test(e)?"<pre class='code'>"+e+"</pre>":"<span class='code'>"+e+"</span>")+"\n</div>"}(),t=null==e?"":function(){var n;return n=e.toString(),"<div class='check'>\n<span class='meta-field'>constraint</span>: "+(/\n/.test(n)?"<pre class='code'>"+n+"</pre>":"<span class='code'>"+n+"</span>")+"\n</div>"}(),"<div class='typespec'>"+(s+o+p+i+t)+"</div>"}}),e.exports={NamedType:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],28:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("../typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),o("TypeSpec")(r).where({match:function(){return function(n){return null!=n&&n.constructor===Number&&!isNaN(n)&&n>=0&&n===parseInt(n)}},constraints:function(){return function(n){return[{label:function(){return"Nat Excepted, But Got "+json(n)},flag:function(){return null!=n&&n.constructor===Number&&!isNaN(n)&&n>=0&&n===parseInt(n)}}]}},show:function(){return"Nat"},samples:function(){return concat(repeat([42,1,2]))}}),e.exports={Nat:r}},{"../typeclass":39,"coffee-mate/global":10}],29:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),a=n("../typeclass").instance,l=n("../typespec"),h=l.shape,i=l.match,r=l.constraints,d=l.show,m=l.samples,f=l.sample,c=l.htmlInline,u=l.htmlBlock,p=n("../helpers"),o=p.genBlockBody,s=p.isTypeSpecDict,y=function(n){return function(e){if(!s(e))throw Error("Bad Object Type Definition: Dict Of TypeSpec Expected, But Got "+e);return n(e)}},a("TypeSpec")(Object).where({shape:function(n){return fromList(map(function(n){var e,t;return e=n[0],t=n[1],[e,h(t)]})(enumerate(n)))},match:y(function(n){return function(e){return null!=e&&all(function(e){return null!=n[e]})(Object.keys(e))&&all(function(n){var t,r;return t=n[0],r=n[1],i(r)(e[t])})(enumerate(n))}}),constraints:function(n){return function(e){return cons({label:function(){return"Object Expected, But Got "+e},flag:function(){return null!=e}})(cons({label:function(){return"Redundant Keys: "+list(filter(function(e){return null==n[e]})(Object.keys(e)))},flag:function(){return all(function(e){return null!=n[e]})(Object.keys(e))}})(map(function(n){var t,o;return t=n[0],o=n[1],{label:function(){return"Field "+t},sub:function(){return r(o)(e[t])}}})(enumerate(n))))}},show:y(function(n){return"{"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+d(t)})(enumerate(n))).join(", ")+"}"}),samples:y(function(n){return repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,f(t)]})(enumerate(n)))))}),htmlInline:y(function(n){return"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>"}),htmlBlock:y(function(n){return{head:"<span class='type-maker'>{</span>",body:o("object","field-name")(n),tail:"<span class='type-maker'>}</span>"}})})},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],30:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y,v;n("coffee-mate/global"),i=n("../typeclass").instance,f=n("../typespec"),y=f.shape,p=f.match,u=f.constraints,v=f.show,d=f.samples,h=f.sample,s=f.htmlInline,a=f.htmlBlock,m=n("../helpers"),c=m.genBlockBody,l=m.isTypeSpec,r=n("./Choose").Choose,o=function(){function n(e){if(null==e||e.constructor!==Array)throw Error("Bad OneOf Type Definition: Array Expected, But Got "+e);if(!all(l)(e))throw Error("Bad OneOf Type Definition: Array of TypeSpec Expected, But Got "+e);return{constructor:n,specs:e}}return n}(),i("TypeSpec")(o).where({shape:function(n){var e;return e=n.specs,r(e.map(y))},match:function(n){var e,t;return t=n.specs,e=zip(map(y)(t),t),function(n){var t;return t=filter(function(e){var t,r;return r=e[0],t=e[1],p(r)(n)})(e),1===length(take(2)(t))&&p(head(t)[1])(n)}},constraints:function(n){var e,t;return t=n.specs,e=zip(map(y)(t),t),function(n){var t,r;return r=filter(function(e){var t,r;return r=e[0],t=e[1],p(r)(n)})(e),t=length(take(2)(r)),[{label:function(){return"Shape "+list(map(v)(map(pluck(0))(e))).join(" | ")+" Expected, But Got "+n},flag:function(){return t>0}},{label:function(){return"Ambiguous Shape "+list(map(v)(map(pluck(0))(r))).join(" | ")+" Matched, Got "+json(n)},flag:function(){return 2>t}},{label:function(){return"Shape "+v(head(r)[0])},sub:function(){return u(head(r)[1])(n)}}]}},show:function(n){var e;return e=n.specs,"("+list(map(v)(e)).join(" | ")+")"},samples:function(n){var e;return e=n.specs,concat(repeat(map(h)(e)))},htmlInline:function(n){var e;return e=n.specs,"<span class='type-maker unwrapped'>"+list(map(s)(e)).join(" | ")+"</span>"},htmlBlock:function(n){var e;return e=n.specs,{head:"<span class='type-maker'>OneOf [</span>",body:c("OneOf","meta-field")(dict(list(zip(naturals,e)))),tail:"<span class='type-maker'>]</span>"}}}),e.exports={OneOf:o}},{"../helpers":13,"../typeclass":39,"../typespec":40,"./Choose":16,"coffee-mate/global":10}],31:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y,v,g;n("coffee-mate/global"),p=n("../typeclass"),g=p.typeclass,s=p.instance,f=n("../typespec"),y=f.shape,l=f.match,o=f.constraints,v=f.show,d=f.samples,h=f.sample,a=f.htmlInline,c=f.htmlBlock,m=n("../helpers"),u=m.expandBlockHead,i=m.isTypeSpec,r=function(){function n(e){if(!i(e))throw Error("Bad Optional Type Definition: TypeSpec as spec Expected");return{constructor:n,spec:e}}return n}(),s("TypeSpec")(r).where({shape:function(n){var e;return e=n.spec,r(y(e))},match:function(n){var e;return e=n.spec,function(n){return null==n||l(e)(n)}},constraints:function(n){return function(e){return null==e?[]:[{label:function(){return v(n)+" Expected"},sub:function(){return o(n.spec)(e)}}]}},show:function(n){var e;return e=n.spec,"Optional("+v(e)+")"},samples:function(n){var e,t;return t=n.spec,e=list(take(2)(d(t))),concat(repeat([e[0],null,e[1],void 0]))},htmlInline:function(n){var e;return e=n.spec,"<span class='type-maker unwrapped'>Optional "+a(e)+"</span>"},htmlBlock:function(n){var e;return e=n.spec,u(function(n){return"<span class='type-maker'>Optional "+n+"</span>"})(e)}}),e.exports={Optional:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],32:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),l=n("../typeclass"),y=l.typeclass,a=l.instance,p=n("../typespec"),i=p.match,d=p.show,h=p.samples,m=p.sample,c=p.htmlInline,u=p.htmlBlock,f=n("../helpers"),o=f.expandBlockHead,s=f.isTypeSpec,r=function(){function n(e){if(!s(e))throw Error("Bad Optional Type Definition: TypeSpec as spec Expected");return{constructor:n,spec:e}}return n}(),a("TypeSpec")(r).where({match:function(n){var e;return e=n.spec,function(n){return null!=(null!=n?n.then:void 0)}},constraints:function(n){return function(e){return[{label:function(){return d(n)+" Expected, But Got "+e},flag:function(){return null!=(null!=e?e.then:void 0)}}]}},withSpec:function(n){var e;return e=n.spec,function(n){if(null==(null!=n?n.then:void 0))throw TypeError({expected:"Promise",got:n});return n.then(function(n){return withSpec(e)(n),n})}},show:function(n){var e;return e=n.spec,"Promise("+d(e)+")"},samples:function(n){var e;return e=n.spec,h(e)},htmlInline:function(n){var e;return e=n.spec,"<span class='type-maker unwrapped'>Promise "+c(e)+"</span>"},htmlBlock:function(n){var e;return e=n.spec,o(function(n){return"<span class='type-maker'>Promise "+n+"</span>"})(e)}}),e.exports={Promise:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],33:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y,v;n("coffee-mate/global"),p=n("../typeclass"),v=p.typeclass,s=p.instance,f=n("../typespec"),l=f.match,o=f.constraints,y=f.show,d=f.samples,h=f.sample,a=f.htmlInline,c=f.htmlBlock,m=n("../helpers"),u=m.genBlockBody,i=m.isTypeSpecDict,r=function(){function n(e){if(!i(e))throw Error("Bad Select Type Definition: TypeSpec as spec Expected");if(!(Object.keys(e).length>=1))throw Error("Bad Select Type Definition: At Least One Selection Should Be Provided");return{constructor:n,specs:e}}return n}(),s("TypeSpec")(r).where({match:function(n){var e;return e=n.specs,function(n){var t,r,o;return null!=n&&1===(r=Object.keys(n)).length&&null!=(o=e[t=r[0]])&&l(o)(n[t])}},constraints:function(n){var e;return e=n.specs,function(n){return[{label:function(){return"Object Expected, But Got "+n},flag:function(){return null!=n}},{label:function(){return"Selection Between "+Object.keys(e).join(",")+" Expected, But Got "+Object.keys(n).join(",")+" Via "+json(n)},flag:function(){var t,r,o;return 1===(r=Object.keys(n)).length&&null!=(o=e[t=r[0]])}},{label:function(){var t;return"Selection Field "+(t=Object.keys(n)[0])+" Expected to be "+y(e[t])},sub:function(){var t;return o(e[t=Object.keys(n)[0]])(n[t])}}]}},show:function(n){var e;return e=n.specs,"Select({"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+y(t)})(enumerate(e))).join(", ")+"})"},samples:function(n){var e;return e=n.specs,concat(repeat(map(function(n){var e,t;return e=n[0],t=n[1],dict([[e,h(t)]])})(enumerate(e))))},htmlInline:function(n){var e;return e=n.specs,"<span class='type-maker unwrapped'>Select {<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specs,{head:"<span class='type-maker'>Select {</span>",body:u("select","field-name")(e),tail:"<span class='type-maker'>}</span>"}}}),e.exports={Select:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],34:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),s=n("../typeclass").instance,p=n("../typespec"),d=p.shape,l=p.match,o=p.constraints,y=p.show,h=p.samples,m=p.sample,a=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),u=f.genBlockBody,i=f.isTypeSpecDict,r=function(){function n(e){if(!i(e))throw Error("Bad Strict Type Definition: Dict Of TypeSpec Expected, But Got "+e);return{constructor:n,specdict:e}}return n}(),s("TypeSpec")(r).where({shape:function(n){var e;return e=n.specdict,r(fromList(map(function(n){var e,t;return e=n[0],t=n[1],[e,d(t)]})(enumerate(e))))},match:function(n){var e;return e=n.specdict,function(n){return null!=n&&n.constructor===Object&&all(function(n){return null!=e[n]})(Object.keys(n))&&all(function(e){var t,r;return t=e[0],r=e[1],l(r)(n[t])})(enumerate(e))}},constraints:function(n){var e;return e=n.specdict,function(n){return cons({label:function(){return"Object Expected, But Got "+n},flag:function(){return null!=n}})(cons({label:function(){return"Redundant Keys: "+list(filter(function(n){return null==e[n]})(Object.keys(n)))},flag:function(){return all(function(n){return null!=e[n]})(Object.keys(n))}})(map(function(e){var t,r;return t=e[0],r=e[1],{label:function(){return"Field "+t},sub:function(){return o(r)(n[t])}}})(enumerate(e))))}},show:function(n){var e;return e=n.specdict,"{"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+y(t)})(enumerate(e))).join(", ")+"})"},samples:function(n){var e;return e=n.specdict,repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,m(t)]})(enumerate(e)))))},htmlInline:function(n){var e;return e=n.specdict,"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specdict,{head:"<span class='type-maker'>{</span>",body:u("strict","field-name")(e),tail:"<span class='type-maker'>}</span>"}}}),e.exports={Strict:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],35:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y,v;n("coffee-mate/global"),p=n("../typeclass"),v=p.typeclass,s=p.instance,f=n("../typespec"),l=f.match,o=f.constraints,y=f.show,d=f.samples,h=f.sample,a=f.htmlInline,c=f.htmlBlock,m=n("../helpers"),u=m.expandBlockHead,i=m.isTypeSpec,r=function(){function n(e){if(!i(e))throw Error("Bad Tree Type Definition: TypeSpec as labelSpec Expected");return{constructor:n,labelSpec:e}}return n}(),s("TypeSpec")(r).where({match:function(n){return function(e){var t;return t=n.labelSpec,null!=e&&null!=e.rootLabel&&null!=e.subForest&&e.subForest instanceof Array&&l(t)(e.rootLabel)&&all(l(n))(e.subForest)}},constraints:function(n){var e;return e=n.labelSpec,function(t){var r;return cons({label:function(){return y(n)+" Expected, But Got "+t},flag:function(){return null!=t&&null!=t.rootLabel&&null!=t.subForest&&t.subForest instanceof Array}})(cons({label:function(){return"Tree Label"},sub:function(){return o(e)(t.rootLabel)}})(map(function(e){var t,r;return t=e[0],r=e[1],{label:function(){return"Tree Subforest "+t},sub:function(){return o(n)(r)}}})(zip(naturals,null!=(r=null!=t?t.subForest:void 0)?r:[]))))}},show:function(n){var e;return e=n.labelSpec,"Tree("+y(e)+")"},samples:function(n){var e,t,r,o;return e=n.labelSpec,t=list(take(2)(d(e))),r={rootLabel:t[0],subForest:[]},o={rootLabel:t[1],subForest:[r]},concat(repeat([r,o]))},htmlInline:function(n){var e;return e=n.labelSpec,"<span class='type-maker unwrapped'>Tree "+a(e)+"</span>"},htmlBlock:function(n){var e;return e=n.labelSpec,u(function(n){return"<span class='type-maker'>Tree "+n+"</span>"})(e)}}),e.exports={Tree:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],36:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y,v;n("coffee-mate/global"),p=n("../typeclass"),v=p.typeclass,s=p.instance,f=n("../typespec"),l=f.match,o=f.constraints,y=f.show,d=f.samples,h=f.sample,a=f.htmlInline,c=f.htmlBlock,m=n("../helpers"),u=m.genBlockBody,i=m.isTypeSpec,r=function(){function n(e){if(!i(e))throw Error("Bad TreeMap Type Definition: TypeSpec as kspec Expected");return function(t){if(!i(t))throw Error("Bad TreeMap Type Definition: TypeSpec as vspec Expected");return{constructor:n,kspec:e,vspec:t}}}return n}(),s("TypeSpec")(r).where({match:function(n){return function(e){var t,r,o,u,c,a;return r=n.kspec,a=n.vspec,o=l(r),u=l(n),null!=e&&("node"===(c=Object.keys(e)[0])&&all(o)(t=Object.keys(e.node))&&all(u)(map(seek(e.node))(t))||"leaf"===c&&l(a)(e.leaf))}},constraints:function(n){return function(e){return cons({label:function(){return y(n)+" Expected, But Got "+e},flag:function(){var n,t,r;return null!=e&&1===(n=Object.keys(e)).length&&("node"===(t=r=n[0])||"leaf"===t)}})(null==e?[]:null!=e.node?concat(map(function(e){var t,r;return t=e[0],r=e[1],[{label:function(){return"TreeMap Key Expected"},sub:function(){return o(n.kspec)(t)}},{label:function(){return y(n)+" Expected"},sub:function(){return o(n)(r)}}]})(enumerate(e.node))):[{label:function(){return"Leaf Expected to be "+y(n.vspec)},sub:function(){return o(n.vspec)(e.leaf)}}])}},show:function(n){var e,t;return e=n.kspec,t=n.vspec,"TreeMap("+y(e)+")("+y(t)+")"},samples:function(n){var e,t,r,o;return t=n.kspec,o=n.vspec,e=list(take(4)(d(t))),r=list(take(3)(d(o))),concat(repeat([{node:dict([[e[0],{node:dict([[e[2],{leaf:r[0]}],[e[3],{leaf:r[1]}]])}],[e[1],{leaf:r[2]}]])}]))},htmlInline:function(n){var e,t;return e=n.kspec,t=n.vspec,"<span class='type-maker unwrapped'>TreeMap "+a(e)+" "+a(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.kspec,t=n.vspec,{head:"<span class='type-maker'>TreeMap (</span>",body:u("treemap","meta-field")({key:e,value:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={TreeMap:r}},{"../helpers":13,"../typeclass":39,"../typespec":40,"coffee-mate/global":10}],37:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("../typeclass").instance,r=function(){function n(e){if(null==e)throw Error("Bad Value Type Definition: Non-null Value Expected, But Got "+e);return{constructor:n,value:e}}return n}(),o("TypeSpec")(r).where({shape:function(n){return n},match:function(n){var e;return e=n.value,function(n){return n===e}},show:function(n){var e;return e=n.value,""+json(e)},samples:function(n){var e;return e=n.value,repeat(e)},htmlInline:function(n){var e;return e=n.value,"<span class='type-maker unwrapped'>Value "+json(e)+"</span>"}}),e.exports={Value:r}},{"../typeclass":39,"coffee-mate/global":10}],38:[function(n,e,t){var r,o,u,c,a,s,i,l,p,f,m,h,d,y,v,g,b,w,k,S,x,B,T,E,j,I,O,N,A,D,C,F,G,M,L,z,P,_,q,U,V,R,H,W,K,$,Q,J,Y,X,Z;W=n("./typespec"),H=W.match,J=W.show,$=W.sample,Q=W.samples,Y=W.showHtml,V=W.htmlInline,U=W.htmlBlock,Z=".typespec {\n	font-family: monospace;\n	font-size: 16px;\n	border-width: 4px;\n	border-color: rgba(165, 230, 229, 0.24);\n	border-style: ridge;\n}\n.typespec>div, .typespec>pre {\n	margin: 0.6em\n}\n.typespec .unfolded>.fold, .typespec .folded>.unfold {\n	display: none\n}\n.typespec ul {\n	list-style-type: none;\n	padding: 0px;\n	margin: 0px 0px 0px 2em;\n}\n.typespec .meta-field {\n	color: gray;\n}\n.typespec .field-name {\n	font-weight: bold;\n	color: #87BFB8\n}\n.typespec .type-name {\n	color: blue;\n}\n.typespec .spec .type-name {\n	cursor: pointer\n}\n.typespec .type-maker {\n	color: #223497\n}\n.typespec .type-maker.unwrapped>.unwrapped:before {\n	content: '('\n}\n.typespec .type-maker.unwrapped>.unwrapped:after {\n	content: ')'\n}\n.typespec .spliter {\n	color: gray;\n	padding: 0 0.5em\n}\n.typespec .sample pre {\n	margin: 0;\n	color: green;\n	max-height: 20em;\n	overflow: auto;\n}\n.typespec .spec {\n	cursor: default\n}\n.typespec .spec li:hover {\n	transition: 1s;\n	background-color: rgba(140, 150, 255, 0.12)\n}\n.typespec .spec .type-name:hover, .typespec .spec .folded-detail:hover, .typespec .fold>.field-name:hover, .typespec .unfold>.field-name:hover, .typespec .fold>.meta-field:hover, .typespec .unfold>.meta-field:hover {\n	opacity: 0.6\n}",z=function(n){return function(e){return e.find(".unfold").each(function(e,t){return n(t).closest("li,.spec").addClass("unfolded").removeClass("folded")}),e.find(".type-name, .choose").each(function(e,t){return n(t).closest("li").addClass("folded").removeClass("unfolded")}),e.find(".type-name, .folded-detail, .fold>.field-name, .unfold>.field-name, .fold>.meta-field, .unfold>.meta-field").each(function(e,t){var r;return(r=n(t).closest("li,.spec")).length>0?n(t).css({cursor:"pointer"}).click(function(){return r.toggleClass("folded").toggleClass("unfolded")}):void 0})}},X=function(n){return"<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n<style>"+Z+"</style>\n"+Y(n)+"\n<script src='http://libs.baidu.com/jquery/1.9.0/jquery.js'></script>\n<script>("+z.toString()+")(jQuery)($('.typespec'))</script>"},R=function(n){return function(e,t,r){return n("head").append("<style>"+r+"</style>"),n(".typespec-hook").each(function(e,r){return n(r).append(t[n(r).attr("it")])}),e(n(".typespec"))}},q=function(n){var e;return e=json(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,Y(t)]})(enumerate(n))))),"("+R.toString()+")(jQuery)(("+z+")(jQuery), "+e+", "+json(Z)+")"},e.exports={showPage:X,genRenderCode:q},null===e.parent&&(n("coffee-mate/global"),K=n("./index"),T=K.Number,A=K.String,o=K.Bool,r=K.Any,v=K.Int,B=K.Nat,p=K.Enum,G=K.Value,E=K.Optional,j=K.Promise,C=K.Tree,b=K.Map,F=K.TreeMap,h=K.Fn,x=K.NamedType,N=K.Strict,g=K.Loose,I=K.Select,u=K.Choose,H=K.match,J=K.show,$=K.sample,Q=K.samples,Y=K.showHtml,q=K.genRenderCode,X=K.showPage,D=x({name:"TableName",spec:A,samples:["table1","table2"]}),m=x({name:"FieldName",spec:A,samples:["product_id","sale","amount"]}),c=p(["=","<","<=",">=",">"]),L=[{tableName:D,join:{leftTableName:D,left:m,op:c,right:m}}],l=x({name:"DimensionName",spec:A,samples:["date","product_type","city"]}),k=x({name:"MeasureName",spec:A,samples:["sale","profit","amount"]}),w=x({name:"Measure",spec:N({name:k,aggregator:p(["sum","avg","max","min"])})}),S=x({name:"MemberName",spec:A,samples:["2013","2014","2015"]}),M=x({name:"ValueExpr",spec:A,samples:["sum(sale)"]}),a=x({name:"ConditionExpr",spec:A,samples:["sum(sale) > 100"]}),i=x({name:"DimensionFilter",spec:N({select:[S],match:I({contains:A,startWith:A,endWith:A}),condition:I({limit:N({measure:w,comparator:c,value:T}),expr:a}),top:N({count:T,by:I({measure:w,expr:M})})})}),y=x({name:"InclusionCondition",spec:N({via:[l],positions:[[S]]})}),f=x({name:"ExclusionCondition",spec:N({via:[l],positions:[[S]]})}),O=x({name:"SortCondition",spec:N({asc:o,by:I({measure:w,expr:M}),where:E(a)})}),s={filter:N({dimensions:b(l)(i),measures:[N({measure:w,limit:{minBound:E(T),maxBound:E(T)}})],inclusions:[y],exclusions:[f]}),sort:b(l)(O)},log(function(){return json($(L),4)}),log(function(){return J(s)}),d=x({name:"FooSpec",spec:h(T)(h({x:T,y:T})(j({x:A,y:u([B,A,G("unavailable")])}))),desc:"hello",check:function(n){return n>1}}),_=n("fs"),_.writeFileSync("test.html",X(L)),P={a:d,b:L,c:s,d:m,e:I({x:T,y:A}),f:h(C(v))(g({x:T,y:T}))},_.writeFileSync("test2.js",q(P)))},{"./index":14,"./typespec":40,"coffee-mate/global":10,fs:1}],39:[function(n,e,t){var r,o,u,c;n("coffee-mate/global"),o=function(){var n,e,t,r;return e={},t={},r=function(n){var r,o;return r=null!=t[n]?t[n]:t[n]={},o=null!=e[n]?e[n]:e[n]=[],{hasInstance:function(n){return o.indexOf(n)>=0},where:function(e){var t;return t={},foreach(enumerate(e),function(e){var o,u,c,a;return c=e[0],u=e[1],a=null!=r[c]?r[c]:r[c]=[],o=function(e){var r,o,s,i,l;if(null==e)throw TypeError("No Instance of "+n+"(via "+c+"("+e+")) For "+e);for(o=0,s=a.length;s>o;o++)if(i=a[o],l=i[0],r=i[1],e.constructor===l)return r(e);if(null!=u)return u.call(t,e);throw TypeError("No Instance of "+n+"(via "+c+"("+e+")) For "+(e.constructor.name||"UnnamedType"))},t[c]=o}),t}}},n=function(n){var r,o;return r=null!=t[n]?t[n]:t[n]={},o=null!=e[n]?e[n]:e[n]=[],function(n){return o.indexOf(n)<0&&o.push(n),{where:function(e){return foreach(enumerate(e),function(e){var t,o;return o=e[0],t=e[1],(null!=r[o]?r[o]:r[o]=[]).push([n,t])})}}}},{typeclass:r,instance:n}}(),c=o.typeclass,r=o.instance,e.exports={typeclass:c,instance:r},null===e.parent&&(u=c("Show").where({show:function(n){return str(this.zero(n))},zero:function(){return 0}}).show,r("Show")(String).where({show:function(n){return json(n)}}),r("Show")(Number).where({}),log(function(){return u("hello")}),log(function(){return u(1)}),log(function(){return c("Show").hasInstance(String)}),log(function(){return c("Show").hasInstance(Number)}),log(function(){return c("Show").hasInstance(Object)}))},{"coffee-mate/global":10}],40:[function(n,e,t){var r,o,u,c,a;n("coffee-mate/global"),c=n("./typeclass").typeclass,r=n("./prim/Any").Any,o=c("TypeSpec").where({match:null,shape:function(n){return r},constraints:null,withSpec:function(n){return function(e){if(this.match(n)(e))return e;throw TypeError({expected:this.show(n),got:e})}},show:function(n){return n.name||"UnnamedType"},samples:null,sample:function(n){return head(this.samples(n))},htmlInline:function(n){return"<span class='type-maker'>"+this.show(n)+"</span>"},htmlBlock:function(n){return null},showHtml:function(n){var e,t;return t=function(e){return function(){var t,r,o;return t=e.htmlBlock(n),("<div class='spec'>\n<div class='"+(null!=t?"fold":"inline")+"'><span class='meta-field'>spec</span>: "+e.htmlInline(n)+"</div>\n"+(null!=t?"<div class='unfold'>\n	<span class='meta-field'>spec</span>: "+t.head+"\n	"+(null!=(r=t.body)?r:"")+"\n	"+(null!=(o=t.tail)?o:"")+"\n</div>":"")+"\n</div>").replace(/(\t|\n)/g,"")}}(this)(),e=function(e){return function(){var t;return t=json(e.sample(n),4),"<div class='sample'>\n<span class='meta-field'>sample</span>: "+(/\n/.test(t)?"<pre class='code'>"+t+"</pre>":"<span class='code'>"+t+"</span>")+"\n</div>"}}(this)(),"<div class='typespec'>"+(t+e)+"</div>"}}),u=o.constraints,a=function(n){return function(e){var t,r;return t=[],r=function(n){var e;return e=!0,foreach(n,function(n){var o,u,c;if(u=n.label,o=n.flag,c=n.sub,null!=o){if(o()===!1)return t.push(u()),e=!1,foreach["break"]}else if(null!=c&&r(c())===!1)return t.push(u()),e=!1,foreach["break"]}),e},r(u(n)(e)),t}},e.exports=extend({unmatchMessages:a})(o)},{"./prim/Any":15,"./typeclass":39,"coffee-mate/global":10}]},{},[12])(12)});
//# sourceMappingURL=global.min.js.map