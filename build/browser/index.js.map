{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/browserify/lib/_empty.js","node_modules/browserify/node_modules/process/browser.js","node_modules/coffee-mate/build/nodejs/basics.js","node_modules/coffee-mate/build/nodejs/coffee-mate.js","node_modules/coffee-mate/build/nodejs/convertors.js","node_modules/coffee-mate/build/nodejs/funny.js","node_modules/coffee-mate/build/nodejs/global.js","node_modules/coffee-mate/build/nodejs/url-helpers.js","node_modules/coffee-mate/build/nodejs/utils.js","node_modules/coffee-mate/global.js","node_modules/coffee-mate/node_modules/lazy-list/build/nodejs/lazy.js","src/helpers.coffee","src/index.coffee","src/prim-any.coffee","src/prim-array.coffee","src/prim-bool.coffee","src/prim-choose.coffee","src/prim-constructor.coffee","src/prim-enum.coffee","src/prim-fn.coffee","src/prim-int.coffee","src/prim-loose.coffee","src/prim-map.coffee","src/prim-namedtype.coffee","src/prim-nat.coffee","src/prim-object.coffee","src/prim-optional.coffee","src/prim-promise.coffee","src/prim-select.coffee","src/prim-strict.coffee","src/prim-tree.coffee","src/prim-treemap.coffee","src/prim-value.coffee","src/render.coffee","src/typeclass.coffee","src/typespec.coffee"],"names":[],"mappings":"AAAA;ACAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1RA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"index.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            currentQueue[queueIndex].run();\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function(arg) {\n    var abs, accept_multi_or_array, best, ceil, combine, curry2, curry3, equal, flip, floor, greaterEqual, greaterThan, lessEqual, lessThan, max, max_index, min, min_index, minus, notEqual, pack, pluck, plus, precise, seek, sum, uncurry2, uncurry3, unpack;\n    best = arg.best;\n    flip = function(f) {\n      return function(x) {\n        return function(y) {\n          return f(y)(x);\n        };\n      };\n    };\n    combine = function(f) {\n      return function(g) {\n        return function(x) {\n          return f(g(x));\n        };\n      };\n    };\n    curry2 = function(f) {\n      return function(a) {\n        return function(b) {\n          return f(a, b);\n        };\n      };\n    };\n    curry3 = function(f) {\n      return function(a) {\n        return function(b) {\n          return function(c) {\n            return f(a, b, c);\n          };\n        };\n      };\n    };\n    uncurry2 = function(f) {\n      return function(a, b) {\n        return f(a)(b);\n      };\n    };\n    uncurry3 = function(f) {\n      return function(a, b, c) {\n        return f(a)(b)(c);\n      };\n    };\n    pack = function(f) {\n      return function(arr) {\n        return f.apply(null, arr);\n      };\n    };\n    unpack = function(f) {\n      return function() {\n        var arr;\n        arr = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return f(arr);\n      };\n    };\n    seek = function(arr) {\n      return function(i) {\n        return arr[i];\n      };\n    };\n    pluck = function(attr) {\n      return function(d) {\n        return d[attr];\n      };\n    };\n    equal = function(it) {\n      return function(x) {\n        return x === it;\n      };\n    };\n    notEqual = function(it) {\n      return function(x) {\n        return x !== it;\n      };\n    };\n    lessThan = function(it) {\n      return function(x) {\n        return x < it;\n      };\n    };\n    greaterThan = function(it) {\n      return function(x) {\n        return x > it;\n      };\n    };\n    lessEqual = function(it) {\n      return function(x) {\n        return x <= it;\n      };\n    };\n    greaterEqual = function(it) {\n      return function(x) {\n        return x >= it;\n      };\n    };\n    plus = function(it) {\n      return function(x) {\n        return x + it;\n      };\n    };\n    minus = function(it) {\n      return function(x) {\n        return x - it;\n      };\n    };\n    abs = Math.abs;\n    floor = Math.floor;\n    ceil = Math.ceil;\n    precise = function(n) {\n      return function(x) {\n        return parseFloat(x.toPrecision(n));\n      };\n    };\n    accept_multi_or_array = function(f) {\n      return function() {\n        var arr;\n        arr = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return f(arr.length === 1 && arr.first instanceof Array ? arr.first : arr);\n      };\n    };\n    sum = accept_multi_or_array(function(arr) {\n      var k, len, r, x;\n      if (arr.length === 1 && arr.first instanceof Array) {\n        arr = arr.first;\n      }\n      r = 0;\n      for (k = 0, len = arr.length; k < len; k++) {\n        x = arr[k];\n        r += x;\n      }\n      return r;\n    });\n    max = accept_multi_or_array(function(arr) {\n      return best(function(a, b) {\n        return a > b;\n      })(arr);\n    });\n    min = accept_multi_or_array(function(arr) {\n      return best(function(a, b) {\n        return a < b;\n      })(arr);\n    });\n    max_index = accept_multi_or_array(function(arr) {\n      var k, ref, results;\n      return best(function(i, j) {\n        return arr[i] > arr[j];\n      })((function() {\n        results = [];\n        for (var k = 0, ref = arr.length; 0 <= ref ? k < ref : k > ref; 0 <= ref ? k++ : k--){ results.push(k); }\n        return results;\n      }).apply(this));\n    });\n    min_index = accept_multi_or_array(function(arr) {\n      var k, ref, results;\n      return best(function(i, j) {\n        return arr[i] < arr[j];\n      })((function() {\n        results = [];\n        for (var k = 0, ref = arr.length; 0 <= ref ? k < ref : k > ref; 0 <= ref ? k++ : k--){ results.push(k); }\n        return results;\n      }).apply(this));\n    });\n    return {\n      flip: flip,\n      combine: combine,\n      curry2: curry2,\n      curry3: curry3,\n      uncurry2: uncurry2,\n      uncurry3: uncurry3,\n      pack: pack,\n      unpack: unpack,\n      seek: seek,\n      pluck: pluck,\n      equal: equal,\n      notEqual: notEqual,\n      lessThan: lessThan,\n      lessEqual: lessEqual,\n      greaterThan: greaterThan,\n      greaterEqual: greaterEqual,\n      plus: plus,\n      minus: minus,\n      abs: abs,\n      floor: floor,\n      ceil: ceil,\n      precise: precise,\n      sum: sum,\n      max: max,\n      min: min,\n      max_index: max_index,\n      min_index: min_index\n    };\n  };\n\n  module.exports = this_module({\n    best: require('lazy-list').best\n  });\n\n}).call(this);\n\n//# sourceMappingURL=basics.js.map","(function() {\n  var basics, convertors, funny, lazy, url_helpers, utils;\n\n  utils = require('./utils');\n\n  basics = require('./basics');\n\n  lazy = require('lazy-list');\n\n  funny = require('./funny');\n\n  convertors = require('./convertors');\n\n  url_helpers = require('./url-helpers');\n\n  module.exports = utils.extend({})(utils, basics, lazy, funny, convertors, url_helpers);\n\n}).call(this);\n\n//# sourceMappingURL=coffee-mate.js.map","(function() {\n  var this_module;\n\n  this_module = function() {\n    var bool, chr, float, hex, int, json, obj, ord, str;\n    int = function(s, base) {\n      var r;\n      if (typeof s === 'string') {\n        r = parseInt(s, base);\n        if (!((s.slice != null) && r === parseInt(s.slice(0, -1), base))) {\n          return r;\n        } else {\n          return null;\n        }\n      } else {\n        return parseInt(0 + s);\n      }\n    };\n    float = function(s) {\n      if (/^-?[0-9]*(\\.[0-9]+)?([eE]-?[0-9]+)?$/.test(s)) {\n        return parseFloat(s);\n      } else {\n        return null;\n      }\n    };\n    str = function(x, base) {\n      return x.toString(base);\n    };\n    bool = function(x) {\n      if (x === true || x === false) {\n        return x;\n      } else {\n        return null;\n      }\n    };\n    hex = function(x) {\n      return x.toString(16);\n    };\n    ord = function(c) {\n      return c.charCodeAt();\n    };\n    chr = function(x) {\n      return String.fromCharCode(x);\n    };\n    json = function(it, indent) {\n      return JSON.stringify(it, null, indent);\n    };\n    obj = function(s) {\n      return JSON.parse(s);\n    };\n    return {\n      int: int,\n      float: float,\n      bool: bool,\n      str: str,\n      hex: hex,\n      ord: ord,\n      chr: chr,\n      json: json,\n      obj: obj\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n//# sourceMappingURL=convertors.js.map","(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function() {\n    var Y, church, fix, memoFix, memoize;\n    church = function(n) {\n      var iter;\n      iter = function(f, n, r) {\n        if (n === 0) {\n          return r;\n        } else {\n          return iter(f, n - 1, f(r));\n        }\n      };\n      return function(f) {\n        return function(x) {\n          return iter(f, n + 0, x);\n        };\n      };\n    };\n    Y = function(f) {\n      return (function(x) {\n        return x(x);\n      })((function(x) {\n        return f((function(y) {\n          return (x(x))(y);\n        }));\n      }));\n    };\n    memoize = function(f, get_key) {\n      var cache;\n      if (get_key == null) {\n        get_key = (function() {\n          var args;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return json(args);\n        });\n      }\n      cache = {};\n      return function() {\n        var args, cached, key, r;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        key = get_key.apply(null, args);\n        cached = cache[key];\n        if (cached != null) {\n          return cached;\n        } else {\n          r = f.apply(null, args);\n          cache[key] = r;\n          return r;\n        }\n      };\n    };\n    fix = Y;\n    memoFix = function(ff) {\n      var f;\n      f = memoize(ff((function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return f.apply(null, args);\n      })));\n      return f;\n    };\n    return {\n      church: church,\n      Y: Y,\n      memoize: memoize,\n      fix: fix,\n      memoFix: memoFix\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n//# sourceMappingURL=funny.js.map","(function() {\n  var k, mate, v;\n\n  mate = require('./coffee-mate');\n\n  for (k in mate) {\n    v = mate[k];\n    global[k] = v;\n  }\n\n}).call(this);\n\n//# sourceMappingURL=global.js.map","(function() {\n  var this_module;\n\n  this_module = function() {\n    var uri_decoder, uri_encoder;\n    uri_encoder = function(component_packer) {\n      if (component_packer == null) {\n        component_packer = str;\n      }\n      return function(obj) {\n        var k, v;\n        return ((function() {\n          var results;\n          results = [];\n          for (k in obj) {\n            v = obj[k];\n            results.push((encodeURIComponent(k)) + \"=\" + (encodeURIComponent(component_packer(v))));\n          }\n          return results;\n        })()).join('&');\n      };\n    };\n    uri_decoder = function(component_unpacker) {\n      if (component_unpacker == null) {\n        component_unpacker = (function(s) {\n          return s;\n        });\n      }\n      return function(str) {\n        var d, i, j, k, len, ref, ref1, ref2, s, v;\n        d = {};\n        ref1 = (ref = str.match(/[^?=&]+=[^&]*/g)) != null ? ref : [];\n        for (i = 0, len = ref1.length; i < len; i++) {\n          s = ref1[i];\n          ref2 = s.match(/([^=]+)=(.*)/), j = ref2.length - 2, k = ref2[j++], v = ref2[j++];\n          d[decodeURIComponent(k)] = component_unpacker(decodeURIComponent(v));\n        }\n        return d;\n      };\n    };\n    return {\n      uri_encoder: uri_encoder,\n      uri_decoder: uri_decoder\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n//# sourceMappingURL=url-helpers.js.map","(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function() {\n    var assert, assertEq, assertEqOn, copy, deepcopy, dict, extend, function_literal, log, overload, ref, securely, time_now, update;\n    function_literal = function(f) {\n      var expr;\n      expr = f.toString().replace(/^\\s*function\\s?\\(\\s?\\)\\s?{\\s*return\\s*([^]*?);?\\s*}$/, '$1');\n      if (expr.length <= 100) {\n        expr = expr.replace(/[\\r\\n]{1,2}\\s*/g, '');\n      }\n      return expr;\n    };\n    time_now = function() {\n      return (new Date).getTime();\n    };\n    log = (function() {\n      var dye, factory, got, histories, log_label;\n      dye = (function() {\n        var cavailable, palette;\n        cavailable = (typeof window === \"undefined\" || window === null) && (typeof process !== \"undefined\" && process !== null) && !process.env.NODE_DISABLE_COLORS;\n        palette = {\n          bold: '\\x1B[0;1m',\n          red: '\\x1B[0;31m',\n          green: '\\x1B[0;32m',\n          yellow: '\\x1B[0;33m',\n          blue: '\\x1B[0;34m',\n          bold_grey: '\\x1B[1;30m'\n        };\n        if (!cavailable) {\n          return function(color) {\n            return function(s) {\n              return s;\n            };\n          };\n        } else {\n          return function(color) {\n            return function(s) {\n              return \"\" + palette[color] + s + '\\x1B[0m';\n            };\n          };\n        }\n      })();\n      log_label = (function() {\n        var flag_palette, op_flag;\n        flag_palette = {\n          '#': 'bold_grey',\n          'I': 'green',\n          'E': 'red',\n          'W': 'yellow'\n        };\n        op_flag = function(op) {\n          if (op === 'log') {\n            return '#';\n          } else {\n            return op[0].toUpperCase();\n          }\n        };\n        return function(op) {\n          var flag;\n          flag = op_flag(op);\n          return dye(flag_palette[flag])(flag);\n        };\n      })();\n      histories = [];\n      factory = function(op) {\n        var prefix;\n        prefix = \"\" + (dye('bold_grey')('#')) + (log_label(op));\n        return function() {\n          var args, ball, eval_result, expr, f, i, len, start_time, time_used;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          ball = [];\n          for (i = 0, len = args.length; i < len; i++) {\n            f = args[i];\n            if (typeof f === 'function') {\n              expr = function_literal(f);\n              start_time = time_now();\n              eval_result = f();\n              time_used = time_now() - start_time;\n              ball.push(prefix + \" \" + (dye('green')(expr)) + \" \" + (dye('bold_grey')('==>')), eval_result);\n              if (time_used > 0) {\n                ball.push(dye('yellow')(\"[\" + time_used + \"ms]\"));\n              }\n            } else {\n              ball.push(\"\" + prefix, f);\n            }\n          }\n          console[op].apply(console, ball);\n          histories.push(ball);\n          if (histories.length >= 10) {\n            histories.shift();\n          }\n          return null;\n        };\n      };\n      got = factory('log');\n      got.histories = histories;\n      got.info = factory('info');\n      got.warn = factory('warn');\n      got.error = got.err = factory('error');\n      return got;\n    })();\n    assert = function(f, msg) {\n      var e, r, ref;\n      if (!(f instanceof Function)) {\n        ref = [msg, f], f = ref[0], msg = ref[1];\n      }\n      try {\n        r = f();\n      } catch (_error) {\n        e = _error;\n        throw Error(\"Assertion \" + (msg != null ? msg : function_literal(f)) + \" Unknown:\\n\" + e);\n      }\n      if (!r) {\n        throw Error(\"Assertion \" + (msg != null ? msg : function_literal(f)) + \" Failed!\");\n      }\n    };\n    assertEq = function(l, r) {\n      var e, lv, rv;\n      try {\n        lv = l();\n        rv = r();\n      } catch (_error) {\n        e = _error;\n        throw Error(\"Equation Between \" + (function_literal(l)) + \" And \" + (function_literal(r)) + \" Unknown:\\n\" + e);\n      }\n      if (lv !== rv) {\n        throw Error(\"Equation Failed:\\n\\t\" + (function_literal(l)) + \" IS \" + lv + \" BUT\\n\\t\" + (function_literal(r)) + \" IS \" + rv + \".\");\n      }\n    };\n    assertEqOn = function(f) {\n      return function(l, r) {\n        var e, flv, frv, lv, rv;\n        try {\n          lv = l();\n          rv = r();\n          flv = f(lv);\n          frv = f(rv);\n        } catch (_error) {\n          e = _error;\n          throw Error(\"MAPPED Equation Between \" + (function_literal(l)) + \" And \" + (function_literal(r)) + \" Unknown:\\n\" + e);\n        }\n        if (flv !== frv) {\n          throw Error(\"Equation Failed:\\n\\t\" + (function_literal(l)) + \" IS \" + lv + \" AND MAPPED TO \" + flv + \" BUT\\n\\t\" + (function_literal(r)) + \" IS \" + rv + \" AND MAPPED TO \" + frv + \".\");\n        }\n      };\n    };\n    securely = function(f) {\n      return function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        args = deepcopy(args);\n        return f.apply(null, args);\n      };\n    };\n    dict = function(pairs) {\n      var d, i, k, len, ref, v;\n      d = {};\n      for (i = 0, len = pairs.length; i < len; i++) {\n        ref = pairs[i], k = ref[0], v = ref[1];\n        d[k] = v;\n      }\n      return d;\n    };\n    ref = (function() {\n      var cp;\n      cp = function(root, dep) {\n        var k, r, v;\n        if (dep === 0 || (root == null) || typeof root !== 'object') {\n          return root;\n        }\n        if (root instanceof Array) {\n          r = (function() {\n            var i, len, results;\n            results = [];\n            for (i = 0, len = root.length; i < len; i++) {\n              v = root[i];\n              results.push(cp(v, dep - 1));\n            }\n            return results;\n          })();\n        } else {\n          r = {};\n          for (k in root) {\n            v = root[k];\n            r[k] = cp(v, dep - 1);\n          }\n        }\n        return r;\n      };\n      return {\n        copy: function(obj, depth) {\n          if (depth == null) {\n            depth = 1;\n          }\n          return cp(obj, depth);\n        },\n        deepcopy: function(obj, depth) {\n          if (depth == null) {\n            depth = Infinity;\n          }\n          return cp(obj, depth);\n        }\n      };\n    })(), copy = ref.copy, deepcopy = ref.deepcopy;\n    extend = function(base) {\n      return function() {\n        var d, defaults, i, k, len, v;\n        defaults = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        for (i = 0, len = defaults.length; i < len; i++) {\n          d = defaults[i];\n          if (d != null) {\n            for (k in d) {\n              v = d[k];\n              if (base[k] == null) {\n                base[k] = v;\n              }\n            }\n          }\n        }\n        return base;\n      };\n    };\n    update = function(base) {\n      return function() {\n        var d, i, k, len, updates, v;\n        updates = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        for (i = 0, len = updates.length; i < len; i++) {\n          d = updates[i];\n          if (d != null) {\n            for (k in d) {\n              v = d[k];\n              base[k] = v;\n            }\n          }\n        }\n        return base;\n      };\n    };\n    overload = function(_d) {\n      var d, fallback;\n      d = copy(_d);\n      fallback = d['_'];\n      if (fallback != null) {\n        return function() {\n          var args, ref1;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return ((ref1 = d[args.length]) != null ? ref1 : fallback).apply(null, args);\n        };\n      } else {\n        return function() {\n          var args, f;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          f = d[args.length];\n          if (f == null) {\n            throw Error(\"This Function Can't Accept \" + args.length + \" Args\");\n          } else {\n            return f.apply(null, args);\n          }\n        };\n      }\n    };\n    return {\n      log: log,\n      assert: assert,\n      assertEq: assertEq,\n      assertEqOn: assertEqOn,\n      dict: dict,\n      copy: copy,\n      deepcopy: deepcopy,\n      securely: securely,\n      extend: extend,\n      update: update,\n      overload: overload\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n//# sourceMappingURL=utils.js.map","require('./build/nodejs/global.js');\n","(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function(arg) {\n    var Iterator, LazyList, Symbol, all, any, best, brk, cartProd, concat, cons, drop, dropWhile, enumerate, filter, foldl, foreach, fromList, groupOn, head, iterate, last, lazy, length, list, map, maximum, maximumOn, minimum, minimumOn, naturals, nil, partition, permutations, primes, randoms, range, ref, repeat, reverse, scanl, sort, sortOn, streak, streak2, take, takeWhile, zip, zipWith;\n    Symbol = arg.Symbol;\n    LazyList = function(f) {\n      f[Symbol.iterator] = function() {\n        return f();\n      };\n      f.toString = function() {\n        return \"LazyList\";\n      };\n      return f;\n    };\n    nil = LazyList(function() {\n      return nil;\n    });\n    nil.toString = function() {\n      return 'nil';\n    };\n    Iterator = function(it) {\n      it.next = function() {\n        var r;\n        r = it();\n        return {\n          value: r,\n          done: r === nil\n        };\n      };\n      it.toString = function() {\n        return \"Iterator\";\n      };\n      return it;\n    };\n    naturals = LazyList(function() {\n      var i;\n      i = -1;\n      return Iterator(function() {\n        return ++i;\n      });\n    });\n    range = function() {\n      var args;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      if (args.length === 0) {\n        return naturals;\n      } else if (args.length === 1) {\n        return LazyList(function() {\n          var i, stop;\n          stop = args[0];\n          i = -1;\n          return Iterator(function() {\n            if (++i < stop) {\n              return i;\n            } else {\n              return nil;\n            }\n          });\n        });\n      } else if (args.length === 2) {\n        return LazyList(function() {\n          var i, start, stop;\n          start = args[0], stop = args[1];\n          if (start < stop) {\n            i = start - 1;\n            return Iterator(function() {\n              if (++i < stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          } else {\n            i = start + 1;\n            return Iterator(function() {\n              if (--i > stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          }\n        });\n      } else {\n        return LazyList(function() {\n          var i, start, step, stop;\n          start = args[0], stop = args[1], step = args[2];\n          if (stop !== start && (stop - start) * step < 0) {\n            throw 'ERR IN range(): YOU ARE CREATING AN UNLIMITTED RANGE';\n          }\n          i = start - step;\n          if (start < stop) {\n            return Iterator(function() {\n              if ((i += step) < stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          } else {\n            return Iterator(function() {\n              if ((i += step) > stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          }\n        });\n      }\n    };\n    primes = LazyList(function() {\n      return filter(function(x) {\n        return all(function(p) {\n          return x % p !== 0;\n        })(takeWhile(function(p) {\n          return p * p <= x;\n        })(range(2, Infinity)));\n      })(range(2, Infinity))();\n    });\n    lazy = function(xs) {\n      var ref;\n      if (typeof xs === 'function') {\n        if (xs[Symbol.iterator] != null) {\n          return xs;\n        } else {\n          return LazyList(xs);\n        }\n      } else if ((ref = xs.constructor) === Array || ref === String) {\n        return LazyList(function() {\n          var i;\n          i = -1;\n          return Iterator(function() {\n            if ((++i) < xs.length) {\n              return xs[i];\n            } else {\n              return nil;\n            }\n          });\n        });\n      } else if (xs[Symbol.iterator] != null) {\n        return LazyList(function() {\n          var it;\n          it = xs[Symbol.iterator]();\n          return Iterator(function() {\n            var r;\n            r = it.next();\n            if (r.done) {\n              return nil;\n            } else {\n              return r.value;\n            }\n          });\n        });\n      } else {\n        throw Error('lazy(xs): xs is neither Array nor Iterable');\n      }\n    };\n    enumerate = function(it) {\n      if ((it[Symbol.iterator] != null) || it instanceof Array) {\n        return zip(naturals, it);\n      } else {\n        return LazyList(function() {\n          var i, keys;\n          keys = Object.keys(it);\n          i = -1;\n          return Iterator(function() {\n            var k;\n            if (++i < keys.length) {\n              return [(k = keys[i]), it[k]];\n            } else {\n              return nil;\n            }\n          });\n        });\n      }\n    };\n    repeat = function(x) {\n      return LazyList(function() {\n        return Iterator(function() {\n          return x;\n        });\n      });\n    };\n    iterate = function(next, init) {\n      return LazyList(function() {\n        var st;\n        st = init;\n        return Iterator(function() {\n          var r;\n          r = st;\n          st = next(st);\n          return r;\n        });\n      });\n    };\n    randoms = (function() {\n      var hash, normal, salt;\n      salt = Math.PI / 3.0;\n      hash = function(x) {\n        x = Math.sin(x + salt) * 1e4;\n        return x - Math.floor(x);\n      };\n      normal = function(seed) {\n        return iterate(hash, hash(seed));\n      };\n      return function(opts) {\n        var k, ref, ref1, rg, s, seed;\n        if (opts == null) {\n          return normal(0);\n        } else if (typeof opts === 'number') {\n          return normal(opts);\n        } else {\n          seed = (ref = opts.seed) != null ? ref : 0;\n          rg = opts.range;\n          if (rg != null) {\n            if (typeof rg === 'number') {\n              return map(function(x) {\n                return Math.floor(x * rg);\n              })(normal(seed));\n            } else {\n              ref1 = [rg[0], rg[1] - rg[0] + 1], s = ref1[0], k = ref1[1];\n              return map(function(x) {\n                return s + Math.floor(x * k);\n              })(normal(seed));\n            }\n          } else {\n            return normal(seed);\n          }\n        }\n      };\n    })();\n    permutations = (function() {\n      var next_permutation;\n      next_permutation = function(x) {\n        var l, m, r, ref, ref1;\n        x = x.slice(0);\n        l = x.length - 1;\n        while (l >= 1 && x[l] <= x[l - 1]) {\n          --l;\n        }\n        if (l !== 0) {\n          m = x.length - 1;\n          while (m > l - 1 && x[m] <= x[l - 1]) {\n            --m;\n          }\n          ref = [x[l - 1], x[m]], x[m] = ref[0], x[l - 1] = ref[1];\n        }\n        r = x.length - 1;\n        while (l < r) {\n          ref1 = [x[r], x[l]], x[l] = ref1[0], x[r] = ref1[1];\n          ++l;\n          --r;\n        }\n        return x;\n      };\n      return function(xs) {\n        var arr;\n        arr = list(xs);\n        if (arr.length === 0) {\n          return nil;\n        } else {\n          return cons(arr.slice(0))(takeWhile(function(ls) {\n            return json(ls) !== json(arr);\n          })(drop(1)(iterate(next_permutation, arr))));\n        }\n      };\n    })();\n    take = function(n) {\n      return function(xs) {\n        return LazyList(function() {\n          var c, iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          c = -1;\n          return Iterator(function() {\n            if (++c < n) {\n              return iter();\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    };\n    takeWhile = function(ok) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var x;\n            if ((x = iter()) !== nil && ok(x)) {\n              return x;\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    };\n    drop = function(n) {\n      return function(xs) {\n        return LazyList(function() {\n          var finished, i, iter, j, ref;\n          iter = lazy(xs)[Symbol.iterator]();\n          finished = false;\n          for (i = j = 0, ref = n; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n            finished || (finished = iter() === nil);\n            if (finished) {\n              break;\n            }\n          }\n          if (finished) {\n            return function() {\n              return nil;\n            };\n          } else {\n            return iter;\n          }\n        });\n      };\n    };\n    dropWhile = function(ok) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter, x;\n          iter = lazy(xs)[Symbol.iterator]();\n          while (ok(x = iter()) && x !== nil) {\n            null;\n          }\n          return Iterator(function() {\n            var prevx, ref;\n            ref = [x, iter()], prevx = ref[0], x = ref[1];\n            return prevx;\n          });\n        });\n      };\n    };\n    cons = function(x) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = null;\n          return Iterator(function() {\n            if (iter === null) {\n              iter = lazy(xs)[Symbol.iterator]();\n              return x;\n            } else {\n              return iter();\n            }\n          });\n        });\n      };\n    };\n    map = function(f) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var x;\n            if ((x = iter()) !== nil) {\n              return f(x);\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    };\n    filter = function(ok) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var x;\n            while ((x = iter()) !== nil && !ok(x)) {\n              null;\n            }\n            return x;\n          });\n        });\n      };\n    };\n    scanl = function(f, r) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var got, x;\n            got = r;\n            r = (x = iter()) !== nil ? f(r, x) : nil;\n            return got;\n          });\n        });\n      };\n    };\n    streak = function(n) {\n      if (n < 1) {\n        return nil;\n      } else {\n        return function(xs) {\n          return drop(n - 1)(LazyList(function() {\n            var buf, iter;\n            iter = lazy(xs)[Symbol.iterator]();\n            buf = [];\n            return Iterator(function() {\n              var x;\n              if ((x = iter()) === nil) {\n                return nil;\n              }\n              buf.push(x);\n              if (buf.length > n) {\n                buf.shift(1);\n              }\n              return buf.slice(0);\n            });\n          }));\n        };\n      }\n    };\n    streak2 = function(n) {\n      return function(xs) {\n        return streak(n)(concat([xs, take(n - 1)(xs)]));\n      };\n    };\n    reverse = function(xs) {\n      var ref;\n      if ((ref = xs.constructor) === Array || ref === String) {\n        return LazyList(function() {\n          var i;\n          i = xs.length;\n          return Iterator(function() {\n            if ((--i) >= 0) {\n              return xs[i];\n            } else {\n              return nil;\n            }\n          });\n        });\n      } else {\n        return list(lazy(xs)).reverse();\n      }\n    };\n    sort = function(xs) {\n      var arr;\n      arr = list(lazy(xs));\n      return arr.sort(function(a, b) {\n        return (a > b) - (a < b);\n      });\n    };\n    sortOn = function(f) {\n      return function(xs) {\n        var arr;\n        arr = list(lazy(xs));\n        return arr.sort(function(a, b) {\n          var fa, fb;\n          return ((fa = f(a)) > (fb = f(b))) - (fa < fb);\n        });\n      };\n    };\n    groupOn = function(f) {\n      return function(xs) {\n        var k, memo, v;\n        memo = {};\n        foreach(xs, function(x) {\n          var y;\n          y = f(x);\n          if (memo[y] == null) {\n            memo[y] = [];\n          }\n          return memo[y].push(x);\n        });\n        return (function() {\n          var results;\n          results = [];\n          for (k in memo) {\n            v = memo[k];\n            results.push(v);\n          }\n          return results;\n        })();\n      };\n    };\n    partition = function(f) {\n      return function(xs) {\n        var memo;\n        memo = [[], []];\n        foreach(xs, function(x) {\n          var y;\n          y = !f(x) + 0;\n          return memo[y].push(x);\n        });\n        return memo;\n      };\n    };\n    concat = function(xss) {\n      xss = filter(function(x) {\n        var ref;\n        return ((ref = x.constructor) !== Array && ref !== String) || x.length > 0;\n      })(xss);\n      return LazyList(function() {\n        var iter, xs, xs_iter;\n        xs_iter = lazy(xss)[Symbol.iterator]();\n        xs = xs_iter();\n        iter = lazy(xs)[Symbol.iterator]();\n        return Iterator(function() {\n          var x;\n          if ((x = iter()) !== nil) {\n            return x;\n          } else if ((xs = xs_iter()) !== nil) {\n            iter = lazy(xs)[Symbol.iterator]();\n            return iter();\n          } else {\n            return nil;\n          }\n        });\n      });\n    };\n    ref = (function() {\n      var finished, zip, zipWith;\n      finished = function(arr) {\n        var j, len1, x;\n        for (j = 0, len1 = arr.length; j < len1; j++) {\n          x = arr[j];\n          if (x === nil) {\n            return true;\n          }\n        }\n        return false;\n      };\n      zip = function() {\n        var xss;\n        xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return LazyList(function() {\n          var iters, xs;\n          iters = (function() {\n            var j, len1, results;\n            results = [];\n            for (j = 0, len1 = xss.length; j < len1; j++) {\n              xs = xss[j];\n              results.push(lazy(xs)[Symbol.iterator]());\n            }\n            return results;\n          })();\n          return Iterator(function() {\n            var iter, next;\n            next = (function() {\n              var j, len1, results;\n              results = [];\n              for (j = 0, len1 = iters.length; j < len1; j++) {\n                iter = iters[j];\n                results.push(iter());\n              }\n              return results;\n            })();\n            if (finished(next)) {\n              return nil;\n            } else {\n              return next;\n            }\n          });\n        });\n      };\n      zipWith = function(f) {\n        return function() {\n          var xss;\n          xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return LazyList(function() {\n            var iters, xs;\n            iters = (function() {\n              var j, len1, results;\n              results = [];\n              for (j = 0, len1 = xss.length; j < len1; j++) {\n                xs = xss[j];\n                results.push(lazy(xs)[Symbol.iterator]());\n              }\n              return results;\n            })();\n            return Iterator(function() {\n              var iter, next;\n              next = (function() {\n                var j, len1, results;\n                results = [];\n                for (j = 0, len1 = iters.length; j < len1; j++) {\n                  iter = iters[j];\n                  results.push(iter());\n                }\n                return results;\n              })();\n              if (finished(next)) {\n                return nil;\n              } else {\n                return f.apply(null, next);\n              }\n            });\n          });\n        };\n      };\n      return {\n        zip: zip,\n        zipWith: zipWith\n      };\n    })(), zip = ref.zip, zipWith = ref.zipWith;\n    cartProd = (function() {\n      var apply_vector, inc_vector;\n      inc_vector = function(limits) {\n        var len_minus_1;\n        len_minus_1 = limits.length - 1;\n        return function(vec) {\n          var i;\n          i = len_minus_1;\n          while (!(++vec[i] < limits[i] || i <= 0)) {\n            vec[i--] = 0;\n          }\n          return vec;\n        };\n      };\n      apply_vector = function(space) {\n        var len;\n        len = space.length;\n        return function(vec) {\n          var i, j, ref1, results;\n          results = [];\n          for (i = j = 0, ref1 = len; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {\n            results.push(space[i][vec[i]]);\n          }\n          return results;\n        };\n      };\n      return function() {\n        var xss;\n        xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return LazyList(function() {\n          var get_value, i, inc, j, len, len1, limits, v, xs;\n          xss = (function() {\n            var j, len1, results;\n            results = [];\n            for (j = 0, len1 = xss.length; j < len1; j++) {\n              xs = xss[j];\n              results.push(list(xs));\n            }\n            return results;\n          })();\n          limits = (function() {\n            var j, ref1, results;\n            results = [];\n            for (i = j = 0, ref1 = xss.length; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {\n              results.push(xss[i].length);\n            }\n            return results;\n          })();\n          for (j = 0, len1 = limits.length; j < len1; j++) {\n            len = limits[j];\n            if (len === 0) {\n              return nil;\n            }\n          }\n          inc = inc_vector(limits);\n          get_value = apply_vector(xss);\n          v = (function() {\n            var o, ref1, results;\n            results = [];\n            for (i = o = 0, ref1 = xss.length; 0 <= ref1 ? o < ref1 : o > ref1; i = 0 <= ref1 ? ++o : --o) {\n              results.push(0);\n            }\n            return results;\n          })();\n          return Iterator(function() {\n            var r;\n            if (v[0] < limits[0]) {\n              r = get_value(v);\n              inc(v);\n              return r;\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    })();\n    list = function(xs) {\n      var it, n, results, results1, x;\n      if (xs instanceof Array) {\n        return xs;\n      } else if (typeof xs === 'function') {\n        it = xs[Symbol.iterator]();\n        results = [];\n        while ((x = it()) !== nil) {\n          results.push(x);\n        }\n        return results;\n      } else if (xs[Symbol.iterator] != null) {\n        it = lazy(xs)[Symbol.iterator]();\n        results1 = [];\n        while ((x = it()) !== nil) {\n          results1.push(x);\n        }\n        return results1;\n      } else if (typeof xs === 'number') {\n        n = xs;\n        return function(xs) {\n          return list(take(n)(xs));\n        };\n      } else {\n        throw Error({\n          message: 'list(xs): xs is neither Array nor Iterable',\n          info: {\n            \"xs\": xs,\n            \"xs.constructor\": xs != null ? xs.constructor : void 0\n          }\n        });\n      }\n    };\n    head = function(xs) {\n      var iter, r, ref1;\n      if ((ref1 = xs.constructor) === Array || ref1 === String) {\n        if (xs.length > 0) {\n          return xs[0];\n        } else {\n          throw \"Error: head() used on empty list.\";\n        }\n      } else {\n        iter = lazy(xs)[Symbol.iterator]();\n        if ((r = iter()) !== nil) {\n          return r;\n        } else {\n          throw \"Error: head() used on empty list.\";\n        }\n      }\n    };\n    last = function(xs) {\n      var iter, r, ref1, ref2, x;\n      if ((ref1 = xs.constructor) === Array || ref1 === String) {\n        return (ref2 = xs[xs.length - 1]) != null ? ref2 : nil;\n      } else {\n        iter = lazy(xs)[Symbol.iterator]();\n        r = nil;\n        while ((x = iter()) !== nil) {\n          r = x;\n        }\n        return r;\n      }\n    };\n    length = function(xs) {\n      var iter, r, ref1, x;\n      if ((ref1 = xs.constructor) === Array || ref1 === String) {\n        return xs.length;\n      } else {\n        iter = lazy(xs)[Symbol.iterator]();\n        r = 0;\n        while ((x = iter()) !== nil) {\n          ++r;\n        }\n        return r;\n      }\n    };\n    foldl = function(f, init) {\n      return function(xs) {\n        var iter, r, x;\n        r = init;\n        iter = lazy(xs)[Symbol.iterator]();\n        while ((x = iter()) !== nil) {\n          r = f(r, x);\n        }\n        return r;\n      };\n    };\n    best = function(better) {\n      return function(xs) {\n        var it, iter, r;\n        iter = lazy(xs)[Symbol.iterator]();\n        if ((r = iter()) === nil) {\n          return null;\n        }\n        while ((it = iter()) !== nil) {\n          r = better(it, r) ? it : r;\n        }\n        return r;\n      };\n    };\n    maximumOn = function(f) {\n      return best(function(a, b) {\n        return f(a) > f(b);\n      });\n    };\n    minimumOn = function(f) {\n      return best(function(a, b) {\n        return f(a) > f(b);\n      });\n    };\n    maximum = best(function(x, y) {\n      return x > y;\n    });\n    minimum = best(function(x, y) {\n      return x < y;\n    });\n    all = function(f) {\n      if (typeof f !== 'function') {\n        f = (function(x) {\n          return x === f;\n        });\n      }\n      return function(xs) {\n        var iter, x;\n        iter = lazy(xs)[Symbol.iterator]();\n        while ((x = iter()) !== nil) {\n          if (!f(x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n    any = function(f) {\n      var all_not;\n      all_not = all(function(x) {\n        return !f(x);\n      });\n      return function(xs) {\n        return !(all_not(xs));\n      };\n    };\n    fromList = function(pairs) {\n      var r;\n      r = {};\n      foreach(pairs, function(arg1) {\n        var k, v;\n        k = arg1[0], v = arg1[1];\n        return r[k] = v;\n      });\n      return r;\n    };\n    brk = function() {\n      return brk;\n    };\n    brk.toString = function() {\n      return 'foreach.break';\n    };\n    foreach = function(xs, callback, fruit) {\n      var iter, x;\n      iter = lazy(xs)[Symbol.iterator]();\n      while ((x = iter()) !== nil) {\n        if (callback(x, fruit) === brk) {\n          break;\n        }\n      }\n      return fruit;\n    };\n    Object.defineProperties(foreach, {\n      \"break\": {\n        writable: false,\n        configurable: false,\n        enumerable: false,\n        value: brk\n      }\n    });\n    return {\n      nil: nil,\n      LazyList: LazyList,\n      Iterator: Iterator,\n      Symbol: Symbol,\n      naturals: naturals,\n      range: range,\n      primes: primes,\n      lazy: lazy,\n      enumerate: enumerate,\n      repeat: repeat,\n      iterate: iterate,\n      randoms: randoms,\n      permutations: permutations,\n      cons: cons,\n      map: map,\n      filter: filter,\n      take: take,\n      takeWhile: takeWhile,\n      drop: drop,\n      dropWhile: dropWhile,\n      scanl: scanl,\n      streak: streak,\n      streak2: streak2,\n      reverse: reverse,\n      sort: sort,\n      sortOn: sortOn,\n      groupOn: groupOn,\n      partition: partition,\n      concat: concat,\n      zip: zip,\n      zipWith: zipWith,\n      cartProd: cartProd,\n      list: list,\n      head: head,\n      last: last,\n      length: length,\n      foldl: foldl,\n      best: best,\n      maximum: maximum,\n      minimum: minimum,\n      maximumOn: maximumOn,\n      minimumOn: minimumOn,\n      all: all,\n      any: any,\n      fromList: fromList,\n      foreach: foreach\n    };\n  };\n\n  module.exports = this_module({\n    Symbol: typeof Symbol !== \"undefined\" && Symbol !== null ? Symbol : {\n      iterator: 'iter'\n    }\n  });\n\n}).call(this);\n\n//# sourceMappingURL=lazy.js.map","{htmlInline, htmlBlock} = require './typespec'\n\nexpandBlockHead = (f) -> (spec) ->\n\tblock = htmlBlock spec\n\tif not block?\n\t\tnull\n\telse\n\t\thead: f(block.head)\n\t\tbody: block.body\n\t\ttail: block.tail\n\ngenBlockBody = (bodyClass, keyClass) -> (specdict) ->\n\tlis = map(([k, v]) ->\n\t\tblock = htmlBlock v\n\t\treturn \"\"\"\n\t\t<li>\n\t\t<div class='#{if block? then 'fold' else 'inline'}'>\n\t\t\t<span class='#{keyClass}'>#{k}</span>: #{htmlInline v}\n\t\t</div>\n\t\t#{if block? then (\n\t\t\t\"\"\"\n\t\t\t<div class='unfold'>\n\t\t\t\t<span class='#{keyClass}'>#{k}</span>: #{block.head}\n\t\t\t\t#{block.body ? ''}\n\t\t\t\t#{block.tail ? ''}\n\t\t\t</div>\n\t\t\t\"\"\"\n\t\t) else ''}\n\t\t</li>\n\t\t\"\"\"\n\t) enumerate(specdict)\n\treturn \"<ul class='#{bodyClass}'>\" + (list lis).join('\\n') + \"</ul>\"\n\nmodule.exports = {expandBlockHead, genBlockBody}\n\n","require './prim-object'\nrequire './prim-array'\nrequire './prim-constructor'\n{Bool} = require './prim-bool'\n{Any} = require './prim-any'\n{Int} = require './prim-int'\n{Nat} = require './prim-nat'\n{Enum} = require './prim-enum'\n{Value} = require './prim-value'\n{Optional} = require './prim-optional'\n{Promise} = require './prim-promise'\n{Tree} = require './prim-tree'\n{Map} = require './prim-map'\n{TreeMap} = require './prim-treemap'\n{Fn} = require './prim-fn'\n{NamedType} = require './prim-namedtype'\n{Strict} = require './prim-strict'\n{Loose} = require './prim-loose'\n{Select} = require './prim-select'\n{Choose} = require './prim-choose'\n{match, show, sample, samples, showHtml, htmlInline, htmlBlock} = require './typespec'\n{genRenderCode, showPage} = require './render'\n{typeclass, instance} = require './typeclass'\n\nmodule.exports = {\n\tNumber, String,\n\tBool, Any, Int, Nat, Enum, Value,\n\tOptional, Promise, Tree,\n\tMap, TreeMap, Fn,\n\tNamedType, Strict, Loose, Select, Choose,\n\tmatch, show, sample, samples, showHtml, genRenderCode, showPage,\n}\n\nif module.parent is null\n\trequire 'coffee-mate/global'\n\tUserName = Optional String\n\tUserInfo = {\n\t\tname: UserName\n\t\tposition: String\n\t\tage: Number\n\t}\n\tassert -> match(UserName)('luo') is true\n\tassert -> match(UserName)(1) is false\n\tlog -> show UserName\n\t#log -> show UserInfo\n\n\t#log -> list(10) samples Any\n\t#log -> json list take(20) samples Any\n\t#log -> json sample Any\n\t#log -> sample Function\n\t#log -> json list take(20) samples [Any]\n\t#log -> json list take(20) samples Optional String\n\t#log -> json list take(20) samples Map(TableName, Number)\n\t#log -> json list take(20) samples NamedType spec: Strict {x: Number, y: String}\n\t#log -> json sample Enum ['a', 'b']\n\t#log -> json list take(20) samples [{tableName: TableName, join: {op: Number}}]\n\t#log -> json sample WideTable\n\t#log -> json list(10) samples Select {a: Number, b: String}\n\n","require 'coffee-mate/global'\n{instance} = require './typeclass'\n\nAny = do ->\n\tr = `function Any(){}`\n\treturn (r.constructor = r)\n\ninstance('TypeSpec')(Any).where\n\tmatch: () -> (v) ->\n\t\tv?\n\tshow: () ->\n\t\t\"Any\"\n\tsamples: () ->\n\t\tconcat repeat ['a', 3, true, [1, 2], {x: 1}] #, NaN, '', {}, []\n\tsample: () ->\n\t\t'any'\n\nmodule.exports = {Any}\n","require 'coffee-mate/global'\n{instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n\ninstance('TypeSpec')(Array).where\n\tmatch: ([spec]) -> (v) ->\n\t\tv? and v.constructor is Array and (all(match spec) v)\n\tshow: ([spec]) ->\n\t\t\"[#{show spec}]\"\n\tsamples: ([spec]) ->\n\t\tconcat repeat reverse map((n) -> list take(n) samples spec) range(3)\n\tsample: ([spec]) ->\n\t\t[sample spec]\n\thtmlInline: ([spec]) ->\n\t\t\"<span class='type-maker'>[#{htmlInline spec}]</span>\"\n\thtmlBlock: ([spec]) ->\n\t\tif not (node = htmlBlock spec)?\n\t\t\tnull\n\t\telse\n\t\t\thead: \"<span class='type-maker'>[#{node.head}</span>\"\n\t\t\tbody: node.body\n\t\t\ttail: \"<span class='type-maker'>#{node.tail ? ''}]</span>\"\n\n","Bool = Boolean\n\nmodule.exports = {Bool}\n","require 'coffee-mate/global'\n{typeclass, instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{genBlockBody} = require './helpers'\n\nclass Choose\n\tconstructor: (specs) ->\n\t\tassert -> specs? and specs.constructor is Array\n\t\tassert -> all((x) -> x? and typeclass('TypeSpec').hasInstance(x.constructor))(specs)\n\t\treturn {\n\t\t\tconstructor: Choose\n\t\t\tspecs: specs\n\t\t}\n\ninstance('TypeSpec')(Choose).where\n\tmatch: ({specs}) -> (v) ->\n\t\tv? and any((spec) -> match(spec) v)(specs)\n\tshow: ({specs}) ->\n\t\t(list map(show) specs).join(' | ')\n\tsamples: ({specs}) ->\n\t\tconcat repeat map(sample)(specs)\n\thtmlInline: ({specs}) ->\n\t\t\"<span class='type-maker unwrapped'>#{(list map(htmlInline) specs).join(' | ')}</span>\"\n\thtmlBlock: ({specs}) ->\n\t\t#log -> (list zip(repeat('-'), specs))\n\t\thead: \"<span class='type-maker'>Choose [</span>\"\n\t\tbody: genBlockBody('choose', 'meta-field')(dict list zip(naturals, specs))\n\t\ttail: \"<span class='type-maker'>]</span>\"\n\nmodule.exports = {Choose}\n","require 'coffee-mate/global'\n{instance} = require './typeclass'\n{match, show, samples, sample} = require './typespec'\n\ninstance('TypeSpec')(Function).where\n\tmatch: (spec) -> (v) ->\n\t\tv? and v.constructor is spec\n\tshow: (spec) ->\n\t\tspec.name or 'UnnamedType'\n\tsamples: (spec) ->\n\t\tswitch spec\n\t\t\twhen Boolean\n\t\t\t\tconcat repeat [true, false]\n\t\t\twhen Number\n\t\t\t\tconcat repeat [3.14, 9, 42]\n\t\t\twhen String\n\t\t\t\tconcat repeat ['abc', 'hello']\n\t\t\telse\n\t\t\t\trepeat (new spec)\n\thtmlInline: (spec) ->\n\t\t\"<span class='type-maker'>#{show spec}</span>\"\n\n","require 'coffee-mate/global'\n{instance} = require './typeclass'\n\n#`function Enum(ls){\n#\treturn {\n#\t\tconstructor: Enum,\n#\t\tenum: ls\n#\t}\n#}`\n\nclass Enum\n\tconstructor: (ls) ->\n\t\tassert -> all((x) -> x?) ls\n\t\treturn {\n\t\t\tconstructor: Enum\n\t\t\tenum: ls\n\t\t}\n\ninstance('TypeSpec')(Enum).where\n\tmatch: ({enum: vs}) -> (v) ->\n\t\tv in vs\n\tshow: ({enum: vs}) ->\n\t\tif vs.length > 1 then \"Enum [#{json vs[0]} ...]\" else \"Enum [#{vs[0]}]\"\n\tsamples: ({enum: vs}) ->\n\t\tconcat repeat vs\n\thtmlInline: ({enum: vs}) ->\n\t\t\"<span class='type-maker unwrapped'>Enum #{json vs}</span>\"\n\nmodule.exports = {Enum}\n","require 'coffee-mate/global'\n{typeclass, instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{genBlockBody} = require './helpers'\n\nclass Fn\n\tconstructor: (ispec) ->\n\t\tassert -> typeclass('TypeSpec').hasInstance(ispec.constructor)\n\t\treturn (ospec) ->\n\t\t\tassert -> typeclass('TypeSpec').hasInstance(ospec.constructor)\n\t\t\tconstructor: Fn\n\t\t\tispec: ispec\n\t\t\tospec: ospec\n\ninstance('TypeSpec')(Fn).where\n\tmatch: ({ispec, ospec}) -> (v) ->\n\t\tv? and v.constructor is Function #TODO: how to be precise ?\n\twithSpec: ({ispec, ospec}) -> (v) ->\n\t\tif not (v? and v.constructor is Function)\n\t\t\tthrow TypeError {expected: 'Function', got: v}\n\t\telse\n\t\t\treturn (x) ->\n\t\t\t\twithSpec(ispec)(x)\n\t\t\t\ty = v(x)\n\t\t\t\twithSpec(ospec)(y)\n\t\t\t\treturn y\n\tshow: ({ispec, ospec}) ->\n\t\t\"#{show ispec} -> #{show ospec}\" #TODO: what about (a -> b) -> c ?\n\tsamples: ({ispec, ospec}) ->\n\t\trepeat {\"[input]\": (sample ispec), \"[output]\": (sample ospec)}\n\thtmlInline: ({ispec, ospec}) ->\n\t\t\"<span class='type-maker unwrapped'>#{htmlInline ispec} -> #{htmlInline ospec}</span>\"\n\thtmlBlock: ({ispec, ospec}) ->\n\t\thead: \"<span class='type-maker'>Function (</span>\"\n\t\tbody: genBlockBody('function', 'meta-field') {input: ispec, output: ospec}\n\t\ttail: \"<span class='type-maker'>)</span>\"\n\nmodule.exports = {Fn}\n","require 'coffee-mate/global'\n{instance} = require './typeclass'\n\nInt = do ->\n\tr = `function Int(){}`\n\treturn (r.constructor = r)\n\ninstance('TypeSpec')(Int).where\n\tmatch: () -> (v) ->\n\t\tv? and v.constructor is Number and not isNaN(v) and v == parseInt(v)\n\tshow: () ->\n\t\t\"Int\"\n\tsamples: () ->\n\t\tconcat repeat [42, 1, 2]\n\nmodule.exports = {Int}\n","require 'coffee-mate/global'\n{typeclass, instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{genBlockBody} = require './helpers'\n\nclass Loose\n\tconstructor: (specdict) ->\n\t\tassert -> all(([k, spec]) -> typeclass('TypeSpec').hasInstance(spec.constructor)) enumerate(specdict)\n\t\treturn {\n\t\t\tconstructor: Loose\n\t\t\tspecdict: specdict\n\t\t}\n\ninstance('TypeSpec')(Loose).where\n\tmatch: ({specdict}) -> (v) ->\n\t\tv? and v.constructor is Object and (all(([k, spec]) -> match(spec) v[k]) enumerate(specdict))\n\tshow: ({specdict}) ->\n\t\t'Loose {' + (list map(([k, spec]) -> \"#{k}: #{show spec}\") enumerate(specdict)).join(', ') + '}'\n\tsamples: ({specdict}) ->\n\t\trepeat dict list map(([k, v]) -> [k, sample v]) enumerate(specdict)\n\thtmlInline: ({specdict}) ->\n\t\t\"<span class='type-maker unwrapped'>Loose {<span class='folded-detail'>...</span>}</span>\"\n\thtmlBlock: ({specdict}) ->\n\t\thead: \"<span class='type-maker'>Loose {</span>\"\n\t\tbody: genBlockBody('loose', 'field-name') specdict\n\t\ttail: \"<span class='type-maker'>}</span>\"\n\nmodule.exports = {Loose}\n","require 'coffee-mate/global'\n{typeclass, instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{genBlockBody} = require './helpers'\n\nclass Map\n\tconstructor: (kspec) ->\n\t\tassert -> typeclass('TypeSpec').hasInstance(kspec.constructor)\n\t\treturn (vspec) ->\n\t\t\tassert -> typeclass('TypeSpec').hasInstance(vspec.constructor)\n\t\t\tconstructor: Map\n\t\t\tkspec: kspec\n\t\t\tvspec: vspec\n\ninstance('TypeSpec')(Map).where\n\tmatch: ({kspec, vspec}) -> (v) ->\n\t\tmk = match(kspec)\n\t\tmv = match(vspec)\n\t\tv? and v.constructor is Object and all(mk)(ks = Object.keys(v)) and all(mv)(map(seek v) ks)\n\tshow: ({kspec, vspec}) ->\n\t\t\"Map #{show kspec} #{show vspec}\"\n\tsamples: ({kspec, vspec}) ->\n\t\tks = list take(4) samples(kspec)\n\t\tvs = list take(4) samples(vspec)\n\t\tconcat repeat [dict([[ks[0], vs[0]], [ks[1], vs[1]]]), dict([[ks[2], vs[2]], [ks[3], vs[3]]])]\n\thtmlInline: ({kspec, vspec}) ->\n\t\t\"<span class='type-maker unwrapped'>Map #{htmlInline kspec} #{htmlInline vspec}</span>\"\n\thtmlBlock: ({kspec, vspec}) ->\n\t\thead: \"<span class='type-maker'>Map (</span>\"\n\t\tbody: genBlockBody('map', 'meta-field') {key: kspec, value: vspec}\n\t\ttail: \"<span class='type-maker'>)</span>\"\n\nmodule.exports = {Map}\n","require 'coffee-mate/global'\n{typeclass, instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{expandBlockHead} = require './helpers'\n\nclass NamedType\n\tconstructor: ({name, spec, desc, check, samples}) ->\n\t\tif not name? or not spec?\n\t\t\tthrow Error 'name & spec must be specified for a NamedType declaration'\n\t\tassert -> typeclass('TypeSpec').hasInstance(spec.constructor)\n\n\t\tif samples? and not all(match(spec))(take(100) samples)\n\t\t\tlog -> name\n\t\t\tlog -> spec\n\t\t\tlog -> samples\n\t\t\tlog -> match(spec) samples[0]\n\t\t\tthrow TypeError 'bad samples'\n\n\t\treturn {\n\t\t\tconstructor: NamedType\n\t\t\tname\n\t\t\tspec\n\t\t\tdesc\n\t\t\tcheck\n\t\t\tsamples\n\t\t}\n\ninstance('TypeSpec')(NamedType).where\n\tmatch: ({spec, check}) -> (v) ->\n\t\tmatch(spec)(v) and (if check? then check(v) else true)\n\tshow: ({name, spec}) ->\n\t\tname or (show spec)\n\tsamples: ({spec, samples: ls}) ->\n\t\tif ls? then concat repeat ls else samples spec\n\thtmlInline: ({name, spec}) ->\n\t\tif name? then \"<span class='type-name'>#{name}</span>\" else htmlInline spec\n\thtmlBlock: ({name, spec}) ->\n\t\texpandBlockHead((head) ->\n\t\t\t\"<span><span class='type-name'>#{name}</span><span class='spliter'>spec:</span>#{head}</span>\"\n\t\t)(spec) ? {\n\t\t\thead: \"<span><span class='type-name'>#{name}</span><span class='spliter'>spec:</span>#{htmlInline spec}</span>\"\n\t\t}\n\tshowHtml: (t) ->\n\t\t{name, desc, spec, check} = t\n\n\t\tnamePart = if not name? then '' else \"\"\"\n\t\t\t<div class='name'>\n\t\t\t<span class='meta-field'>name</span>: <span class='type-name'>#{name}</span>\n\t\t\t</div>\n\t\t\t\"\"\"\n\n\t\tdescriptionPart = if not desc? then '' else do ->\n\t\t\ts = desc\n\t\t\treturn \"\"\"\n\t\t\t<div class='desc'>\n\t\t\t<span class='meta-field'>desc</span>: #{\n\t\t\t\tif /\\n/.test s then \"<pre class='text'>#{s}</pre>\" else \"<span class='text'>#{s}</span>\"\n\t\t\t}\n\t\t\t</div>\n\t\t\t\"\"\"\n\n\t\tspecPart = do ->\n\t\t\tblock = htmlBlock spec\n\t\t\treturn \"\"\"\n\t\t\t<div class='spec'>\n\t\t\t<div class='#{if block? then 'fold' else 'inline'}'><span class='meta-field'>spec</span>: #{htmlInline spec}</div>\n\t\t\t#{if block? then (\n\t\t\t\t\"\"\"\n\t\t\t\t<div class='unfold'>\n\t\t\t\t\t<span class='meta-field'>spec</span>: #{block.head}\n\t\t\t\t\t#{block.body ? ''}\n\t\t\t\t\t#{block.tail ? ''}\n\t\t\t\t</div>\n\t\t\t\t\"\"\"\n\t\t\t) else ''}\n\t\t\t</div>\n\t\t\t\"\"\".replace(/(\\t|\\n)/g, '')\n\n\t\tsamplePart = do ->\n\t\t\ts = json(sample(t), 4)\n\t\t\treturn \"\"\"\n\t\t\t<div class='sample'>\n\t\t\t<span class='meta-field'>sample</span>: #{\n\t\t\t\tif /\\n/.test s then \"<pre class='code'>#{s}</pre>\" else \"<span class='code'>#{s}</span>\"\n\t\t\t}\n\t\t\t</div>\n\t\t\t\"\"\"\n\n\t\tcheckPart = if not check? then '' else do ->\n\t\t\ts = check.toString()\n\t\t\treturn \"\"\"\n\t\t\t<div class='check'>\n\t\t\t<span class='meta-field'>constraint</span>: #{\n\t\t\t\tif /\\n/.test s then \"<pre class='code'>#{s}</pre>\" else \"<span class='code'>#{s}</span>\"\n\t\t\t}\n\t\t\t</div>\n\t\t\t\"\"\"\n\n\t\treturn \"<div class='typespec'>#{ namePart + descriptionPart + specPart + samplePart + checkPart }</div>\"\n\nmodule.exports = {NamedType}\n","require 'coffee-mate/global'\n{instance} = require './typeclass'\n\nNat = do ->\n\tr = `function Nat(){}`\n\treturn (r.constructor = r)\n\ninstance('TypeSpec')(Nat).where\n\tmatch: () -> (v) ->\n\t\tv? and v.constructor is Number and not isNaN(v) and v >= 0 and v == parseInt(v)\n\tshow: () ->\n\t\t\"Nat\"\n\tsamples: () ->\n\t\tconcat repeat [42, 1, 2]\n\nmodule.exports = {Nat}\n","require 'coffee-mate/global'\n{instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{genBlockBody} = require './helpers'\n\ninstance('TypeSpec')(Object).where\n\tmatch: (specdict) -> (v) ->\n\t\tv? and v.constructor is Object and (all((k) -> specdict[k]?) Object.keys(v)) and all(([k, spec]) -> match(spec) v[k]) enumerate(specdict)\n\tshow: (specdict) ->\n\t\t'{' + (list map(([k, spec]) -> \"#{k}: #{show spec}\") enumerate(specdict)).join(', ') + '}'\n\tsamples: (specdict) ->\n\t\trepeat dict list map(([k, v]) -> [k, sample v]) enumerate(specdict)\n\thtmlInline: (specdict) ->\n\t\t\"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>\"\n\thtmlBlock: (specdict) ->\n\t\thead: \"<span class='type-maker'>{</span>\"\n\t\tbody: genBlockBody('object', 'field-name') specdict\n\t\ttail: \"<span class='type-maker'>}</span>\"\n\n","require 'coffee-mate/global'\n{typeclass, instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{expandBlockHead} = require './helpers'\n\nclass Optional\n\tconstructor: (spec) ->\n\t\tassert -> typeclass('TypeSpec').hasInstance(spec.constructor)\n\t\treturn {\n\t\t\tconstructor: Optional\n\t\t\tspec: spec\n\t\t}\n\ninstance('TypeSpec')(Optional).where\n\tmatch: ({spec}) -> (v) ->\n\t\tnot v? or match(spec) v\n\tshow: ({spec}) ->\n\t\t\"Optional #{show spec}\"\n\tsamples: ({spec}) ->\n\t\tls = list take(2) samples spec\n\t\tconcat repeat [ls[0], null, ls[1], undefined]\n\thtmlInline: ({spec}) ->\n\t\t\"<span class='type-maker unwrapped'>Optional #{htmlInline spec}</span>\"\n\thtmlBlock: ({spec}) ->\n\t\texpandBlockHead((head) ->\n\t\t\t\"<span class='type-maker'>Optional #{head}</span>\"\n\t\t) spec\n\nmodule.exports = {Optional}\n","require 'coffee-mate/global'\n{typeclass, instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{expandBlockHead} = require './helpers'\n\nclass Promise\n\tconstructor: (spec) ->\n\t\tassert -> typeclass('TypeSpec').hasInstance(spec.constructor)\n\t\treturn {\n\t\t\tconstructor: Promise\n\t\t\tspec: spec\n\t\t}\n\ninstance('TypeSpec')(Promise).where\n\tmatch: ({spec}) -> (v) ->\n\t\tv?.then?\n\twithSpec: ({spec}) -> (v) ->\n\t\tif not v?.then?\n\t\t\tthrow TypeError {expected: 'Promise', got: v}\n\t\telse\n\t\t\treturn v.then (x) ->\n\t\t\t\twithSpec(spec)(x)\n\t\t\t\treturn x\n\tshow: ({spec}) ->\n\t\t\"Promise #{show spec}\"\n\tsamples: ({spec}) ->\n\t\tsamples spec\n\thtmlInline: ({spec}) ->\n\t\t\"<span class='type-maker unwrapped'>Promise #{htmlInline spec}</span>\"\n\thtmlBlock: ({spec}) ->\n\t\texpandBlockHead((head) ->\n\t\t\t\"<span class='type-maker'>Promise #{head}</span>\"\n\t\t) spec\n\nmodule.exports = {Promise}\n","require 'coffee-mate/global'\n{typeclass, instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{genBlockBody} = require './helpers'\n\nclass Select\n\tconstructor: (specs) ->\n\t\tassert -> Object.keys(specs).length >= 1 and all(([k, spec]) -> typeclass('TypeSpec').hasInstance(spec.constructor)) enumerate(specs)\n\t\treturn {\n\t\t\tconstructor: Select\n\t\t\tspecs: specs\n\t\t}\n\ninstance('TypeSpec')(Select).where\n\tmatch: ({specs}) -> (v) ->\n\t\tv? and v.constructor is Object and (ks = Object.keys(v)).length is 1 and (spec = specs[(k = ks[0])])? and (match(spec) v[k])\n\tshow: ({specs}) ->\n\t\t'Select {' + (list map(([k, spec]) -> \"#{k}: #{show spec}\") enumerate(specs)).join(', ') + '}'\n\tsamples: ({specs}) ->\n\t\tconcat repeat map(([k, v]) -> dict [[k, sample v]]) enumerate(specs)\n\thtmlInline: ({specs: specdict}) ->\n\t\t\"<span class='type-maker unwrapped'>Select {<span class='folded-detail'>...</span>}</span>\"\n\thtmlBlock: ({specs: specdict}) ->\n\t\thead: \"<span class='type-maker'>Select {</span>\"\n\t\tbody: genBlockBody('select', 'field-name') specdict\n\t\ttail: \"<span class='type-maker'>}</span>\"\n\nmodule.exports = {Select}\n","require 'coffee-mate/global'\n{typeclass, instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{genBlockBody} = require './helpers'\n\nclass Strict\n\tconstructor: (specdict) ->\n\t\tassert -> all(([k, spec]) -> typeclass('TypeSpec').hasInstance(spec.constructor)) enumerate(specdict)\n\t\treturn {\n\t\t\tconstructor: Strict\n\t\t\tspecdict: specdict\n\t\t}\n\ninstance('TypeSpec')(Strict).where\n\tmatch: ({specdict}) -> (v) ->\n\t\tv? and v.constructor is Object and (all((k) -> specdict[k]?) Object.keys(v)) and all(([k, spec]) -> match(spec) v[k]) enumerate(specdict)\n\tshow: ({specdict}) ->\n\t\t'{' + (list map(([k, spec]) -> \"#{k}: #{show spec}\") enumerate(specdict)).join(', ') + '}'\n\tsamples: ({specdict}) ->\n\t\trepeat dict list map(([k, v]) -> [k, sample v]) enumerate(specdict)\n\thtmlInline: ({specdict}) ->\n\t\t\"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>\"\n\thtmlBlock: ({specdict}) ->\n\t\thead: \"<span class='type-maker'>{</span>\"\n\t\tbody: genBlockBody('strict', 'field-name') specdict\n\t\ttail: \"<span class='type-maker'>}</span>\"\n\nmodule.exports = {Strict}\n","require 'coffee-mate/global'\n{typeclass, instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{expandBlockHead} = require './helpers'\n\nclass Tree\n\tconstructor: (labelSpec) ->\n\t\tassert -> typeclass('TypeSpec').hasInstance(labelSpec.constructor)\n\t\treturn {\n\t\t\tconstructor: Tree\n\t\t\tlabelSpec: labelSpec\n\t\t}\n\ninstance('TypeSpec')(Tree).where\n\tmatch: (t) -> (v) ->\n\t\t{labelSpec} = t\n\t\tv? and typeof v is 'object' and v.rootLabel? and v.subForest?.constructor is Array and match(labelSpec)(v.rootLabel) and all(match(t))(v.subForest)\n\tshow: ({labelSpec}) ->\n\t\t\"Tree #{show labelSpec}\"\n\tsamples: ({labelSpec}) ->\n\t\tls = list take(2) samples labelSpec\n\t\ts0 = {rootLabel: ls[0], subForest: []}\n\t\ts1 = {rootLabel: ls[1], subForest: [s0]}\n\t\tconcat repeat [s0, s1]\n\thtmlInline: ({labelSpec}) ->\n\t\t\"<span class='type-maker unwrapped'>Tree #{htmlInline labelSpec}</span>\"\n\thtmlBlock: ({labelSpec}) ->\n\t\texpandBlockHead((head) ->\n\t\t\t\"<span class='type-maker'>Tree #{head}</span>\"\n\t\t) labelSpec\n\nmodule.exports = {Tree}\n","require 'coffee-mate/global'\n{typeclass, instance} = require './typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require './typespec'\n{genBlockBody} = require './helpers'\n\nclass TreeMap\n\tconstructor: (kspec) ->\n\t\tassert -> typeclass('TypeSpec').hasInstance(kspec.constructor)\n\t\treturn (vspec) ->\n\t\t\tassert -> typeclass('TypeSpec').hasInstance(vspec.constructor)\n\t\t\tconstructor: TreeMap\n\t\t\tkspec: kspec\n\t\t\tvspec: vspec\n\ninstance('TypeSpec')(TreeMap).where\n\tmatch: (t) -> (v) ->\n\t\t{kspec, vspec} = t\n\t\tmk = match(kspec)\n\t\tmv = match(t)\n\t\tv? and v.constructor is Object and (\n\t\t\t(\n\t\t\t\t(\n\t\t\t\t\t(tag = Object.keys(v)[0]) is 'node'\n\t\t\t\t) and (\n\t\t\t\t\tall(mk)(ks = Object.keys(v.node)) and all(mv)(map(seek v.node) ks)\n\t\t\t\t)\n\t\t\t) or (\n\t\t\t\ttag is 'leaf' and match(vspec)(v.leaf)\n\t\t\t)\n\t\t)\n\tshow: ({kspec, vspec}) ->\n\t\t\"TreeMap #{show kspec} #{show vspec}\"\n\tsamples: ({kspec, vspec}) ->\n\t\tks = list take(4) samples(kspec)\n\t\tvs = list take(3) samples(vspec)\n\t\tconcat repeat [{node: dict([[ks[0], {node: dict([[ks[2], {leaf: vs[0]}], [ks[3], {leaf: vs[1]}]])}], [ks[1], {leaf: vs[2]}]])}]\n\thtmlInline: ({kspec, vspec}) ->\n\t\t\"<span class='type-maker unwrapped'>TreeMap #{htmlInline kspec} #{htmlInline vspec}</span>\"\n\thtmlBlock: ({kspec, vspec}) ->\n\t\thead: \"<span class='type-maker'>TreeMap (</span>\"\n\t\tbody: genBlockBody('treemap', 'meta-field') {key: kspec, value: vspec}\n\t\ttail: \"<span class='type-maker'>)</span>\"\n\nmodule.exports = {TreeMap}\n","require 'coffee-mate/global'\n{instance} = require './typeclass'\n\n#`function Value(ls){\n#\treturn {\n#\t\tconstructor: Value,\n#\t\tvalue: ls\n#\t}\n#}`\n\nclass Value\n\tconstructor: (v) ->\n\t\tassert -> v?\n\t\treturn {\n\t\t\tconstructor: Value\n\t\t\tvalue: v\n\t\t}\n\ninstance('TypeSpec')(Value).where\n\tmatch: ({value}) -> (v) ->\n\t\tv is value\n\tshow: ({value}) ->\n\t\t\"Value #{json value}\"\n\tsamples: ({value}) ->\n\t\trepeat value\n\thtmlInline: ({value}) ->\n\t\t\"<span class='type-maker unwrapped'>Value #{json value}</span>\"\n\nmodule.exports = {Value}\n","{match, show, sample, samples, showHtml, htmlInline, htmlBlock} = require './typespec'\n\nstyle = \"\"\"\n\t.typespec {\n\t\tfont-family: monospace;\n\t\tfont-size: 16px;\n\t\tborder-width: 4px;\n\t\tborder-color: rgba(165, 230, 229, 0.24);\n\t\tborder-style: ridge;\n\t}\n\t.typespec>div, .typespec>pre {\n\t\tmargin: 0.6em\n\t}\n\t.typespec .unfolded>.fold, .typespec .folded>.unfold {\n\t\tdisplay: none\n\t}\n\t.typespec ul {\n\t\tlist-style-type: none;\n\t\tpadding: 0px;\n\t\tmargin: 0px 0px 0px 2em;\n\t}\n\t.typespec .meta-field {\n\t\tcolor: gray;\n\t}\n\t.typespec .field-name {\n\t\tfont-weight: bold;\n\t\tcolor: #87BFB8\n\t}\n\t.typespec .type-name {\n\t\tcolor: blue;\n\t}\n\t.typespec .spec .type-name {\n\t\tcursor: pointer\n\t}\n\t.typespec .type-maker {\n\t\tcolor: #223497\n\t}\n\t.typespec .type-maker.unwrapped>.unwrapped:before {\n\t\tcontent: '('\n\t}\n\t.typespec .type-maker.unwrapped>.unwrapped:after {\n\t\tcontent: ')'\n\t}\n\t.typespec .spliter {\n\t\tcolor: gray;\n\t\tpadding: 0 0.5em\n\t}\n\t.typespec .sample pre {\n\t\tmargin: 0;\n\t\tcolor: green;\n\t\tmax-height: 20em;\n\t\toverflow: auto;\n\t}\n\t.typespec .spec {\n\t\tcursor: default\n\t}\n\t.typespec .spec li:hover {\n\t\ttransition: 1s;\n\t\tbackground-color: rgba(140, 150, 255, 0.12)\n\t}\n\t.typespec .spec .type-name:hover, .typespec .spec .folded-detail:hover, .typespec .fold>.field-name:hover, .typespec .unfold>.field-name:hover, .typespec .fold>.meta-field:hover, .typespec .unfold>.meta-field:hover {\n\t\topacity: 0.6\n\t}\n\"\"\"\n\nbind = ($) -> (rootSelection) ->\n\t#console.info rootSelection.find('ul')\n\trootSelection.find('.unfold').each (i, elm) ->\n\t\t$(elm).closest('li,.spec').addClass('unfolded').removeClass('folded')\n\trootSelection.find('.type-name, .choose').each (i, elm) ->\n\t\t$(elm).closest('li').addClass('folded').removeClass('unfolded')\n\trootSelection.find('.type-name, .folded-detail, .fold>.field-name, .unfold>.field-name, .fold>.meta-field, .unfold>.meta-field').each (i, elm) ->\n\t\tif (e = $(elm).closest('li,.spec')).length > 0\n\t\t\t$(elm).css(cursor: 'pointer').click ->\n\t\t\t\te.toggleClass('folded').toggleClass('unfolded')\n\t#rootSelection.find('li').each (i, elm) ->\n\t#\t$(elm).children('.unfold').children('.field-name,.meta-field').click ->\n\t#\t\t$(elm).addClass('folded').removeClass('unfolded')\n\t#\t$(elm).children('.fold').children('.field-name,.meta-field').click ->\n\t#\t\t$(elm).addClass('unfolded').removeClass('folded')\n\nshowPage = (t) ->\n\t\"\"\"\n\t<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n\t<style>#{style}</style>\n\t#{showHtml t}\n\t<script src='http://libs.baidu.com/jquery/1.9.0/jquery.js'></script>\n\t<script>(#{bind.toString()})(jQuery)($('.typespec'))</script>\n\t\"\"\"\n\ninit = ($) -> (bind, specs, style) ->\n\t$('head').append(\"<style>#{style}</style>\")\n\t$('.typespec-hook').each (i, elm) ->\n\t\t$(elm).append(specs[$(elm).attr('it')])\n\tbind($('.typespec'))\n\ngenRenderCode = (entries) ->\n\tspecs = json dict list map(([k, v]) -> [k, (showHtml v)]) enumerate(entries)\n\t\"(#{init.toString()})(jQuery)((#{bind})(jQuery), #{specs}, #{json style})\"\n\nmodule.exports = {\n\tshowPage, genRenderCode\n}\n\nif module.parent is null\n\trequire 'coffee-mate/global'\n\t{\n\t\tNumber, String,\n\t\tBool, Any, Int, Nat, Enum, Value,\n\t\tOptional, Promise, Tree,\n\t\tMap, TreeMap, Fn,\n\t\tNamedType, Strict, Loose, Select, Choose,\n\t\tmatch, show, sample, samples, showHtml, genRenderCode, showPage,\n\t} = require './index'\n\n\tTableName = NamedType\n\t\tname: 'TableName'\n\t\tspec: String\n\t\tsamples: ['table1', 'table2']\n\tFieldName = NamedType\n\t\tname: 'FieldName'\n\t\tspec: String\n\t\tsamples: ['product_id', 'sale', 'amount']\n\tComparator = Enum ['=', '<', '<=', '>=', '>']\n\n\tWideTable = [{\n\t\ttableName: TableName\n\t\tjoin: {\n\t\t\tleftTableName: TableName\n\t\t\tleft: FieldName\n\t\t\top: Comparator\n\t\t\tright: FieldName\n\t\t}\n\t}]\n\n\tDimensionName = NamedType\n\t\tname: 'DimensionName'\n\t\tspec: String\n\t\tsamples: ['date', 'product_type', 'city']\n\tMeasureName = NamedType\n\t\tname: 'MeasureName'\n\t\tspec: String\n\t\tsamples: ['sale', 'profit', 'amount']\n\tMeasure = NamedType\n\t\tname: 'Measure'\n\t\tspec: Strict {\n\t\t\tname: MeasureName\n\t\t\taggregator: Enum ['sum', 'avg', 'max', 'min']\n\t\t}\n\tMemberName = NamedType\n\t\tname: 'MemberName'\n\t\tspec: String\n\t\tsamples: ['2013', '2014', '2015']\n\tValueExpr = NamedType\n\t\tname: 'ValueExpr'\n\t\tspec: String\n\t\tsamples: ['sum(sale)']\n\tConditionExpr = NamedType\n\t\tname: 'ConditionExpr'\n\t\tspec: String\n\t\tsamples: ['sum(sale) > 100']\n\n\tDimensionFilter = NamedType\n\t\tname: 'DimensionFilter'\n\t\tspec: Strict {\n\t\t\tselect: [MemberName]\n\t\t\tmatch: Select {\n\t\t\t\tcontains: String\n\t\t\t\tstartWith: String\n\t\t\t\tendWith: String\n\t\t\t}\n\t\t\tcondition: Select {\n\t\t\t\tlimit: Strict {\n\t\t\t\t\tmeasure: Measure\n\t\t\t\t\tcomparator: Comparator\n\t\t\t\t\tvalue: Number\n\t\t\t\t}\n\t\t\t\texpr: ConditionExpr\n\t\t\t}\n\t\t\ttop: Strict {\n\t\t\t\tcount: Number\n\t\t\t\tby: Select {\n\t\t\t\t\tmeasure: Measure\n\t\t\t\t\texpr: ValueExpr\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tInclusionCondition = NamedType\n\t\tname: 'InclusionCondition'\n\t\tspec: Strict {\n\t\t\tvia: [DimensionName]\n\t\t\tpositions: [[MemberName]]\n\t\t}\n\tExclusionCondition = NamedType\n\t\tname: 'ExclusionCondition'\n\t\tspec: Strict {\n\t\t\tvia: [DimensionName]\n\t\t\tpositions: [[MemberName]]\n\t\t}\n\tSortCondition = NamedType\n\t\tname: 'SortCondition'\n\t\tspec: Strict {\n\t\t\tasc: Bool\n\t\t\tby: Select {\n\t\t\t\tmeasure: Measure\n\t\t\t\texpr: ValueExpr\n\t\t\t}\n\t\t\twhere: Optional ConditionExpr\n\t\t}\n\tContext =\n\t\tfilter: Strict\n\t\t\tdimensions: Map(DimensionName)(DimensionFilter)\n\t\t\tmeasures: [Strict {\n\t\t\t\tmeasure: Measure\n\t\t\t\tlimit:\n\t\t\t\t\tminBound: Optional Number\n\t\t\t\t\tmaxBound: Optional Number\n\t\t\t}]\n\t\t\tinclusions: [InclusionCondition]\n\t\t\texclusions: [ExclusionCondition]\n\t\tsort: Map(DimensionName)(SortCondition)\n\n\t#contextSample =\n\t#\tfilter: {\n\t#\t\tdimensions: {\n\t#\t\t\t\"product_name\": {\n\t#\t\t\t\tselect: ['mp3', 'mp4']\n\t#\t\t\t\tmatch: { # {contains: ..} or {startWith: ..} or {endWith: ..}\n\t#\t\t\t\t\tcontains: 'abc'\n\t#\t\t\t\t\tstartWith: 'abc'\n\t#\t\t\t\t\tendWith: 'abc'\n\t#\t\t\t\t}\n\t#\t\t\t\tcondition: {# {limit: ...} or {expr: '...'}\n\t#\t\t\t\t\tlimit: {\n\t#\t\t\t\t\t\tmeasure: 'sale'\n\t#\t\t\t\t\t\taggregator: 'sum'\n\t#\t\t\t\t\t\tif: {\n\t#\t\t\t\t\t\t\tcomparator: '>'\n\t#\t\t\t\t\t\t\tvalue: 100\n\t#\t\t\t\t\t\t}\n\t#\t\t\t\t\t}\n\t#\t\t\t\t}\n\t#\t\t\t\ttop: {\n\t#\t\t\t\t\tcount: 10\n\t#\t\t\t\t\tby: {# {field: ...} or {formula: ...}\n\t#\t\t\t\t\t\tfield: {\n\t#\t\t\t\t\t\t\tmeasure: 'sale'\n\t#\t\t\t\t\t\t\taggregator: 'sum'\n\t#\t\t\t\t\t\t}\n\t#\t\t\t\t\t}\n\t#\t\t\t\t}\n\t#\t\t\t}\n\t#\t\t}\n\t#\t\tmeasures: [{\n\t#\t\t\tmeasure:\n\t#\t\t\t\tname: 'sale'\n\t#\t\t\t\taggregator: 'sum'#aggregation type. e.g. 'sum', 'avg', 'item'\n\t#\t\t\tlimit:\n\t#\t\t\t\tminBound: 10\n\t#\t\t\t\tmaxBound: 100\n\t#\t\t}]\n\t#\t\tinclusions: [\n\t#\t\t\t{\n\t#\t\t\t\tfield: ['product type', 'product name']\n\t#\t\t\t\tvalues: [\n\t#\t\t\t\t\t['electric appliance', 'mp3']\n\t#\t\t\t\t\t['electric appliance', 'mp4']\n\t#\t\t\t\t]\n\t#\t\t\t}\n\t#\t\t]\n\t#\t\texclusions: [\n\t#\t\t\t{\n\t#\t\t\t\tfield: ['product type', 'product name']\n\t#\t\t\t\tvalues: [\n\t#\t\t\t\t\t['electric appliance', 'mp3']\n\t#\t\t\t\t\t['electric appliance', 'mp4']\n\t#\t\t\t\t]\n\t#\t\t\t}\n\t#\t\t]\n\t#\t}\n\t#\tsort: {\n\t#\t\t\"product_name\": {\n\t#\t\t\tasc: true\n\t#\t\t\tby: {# {field: ...} or {formula: ...}\n\t#\t\t\t\tfield: {\n\t#\t\t\t\t\tmeasure: 'sale'\n\t#\t\t\t\t\taggregator: 'sum'\n\t#\t\t\t\t}\n\t#\t\t\t}\n\t#\t\t\twhere: ''\n\t#\t\t}\n\t#\t}\n\n\tlog -> json (sample WideTable), 4\n\tlog -> show Context\n\n\tFooSpec = NamedType\n\t\tname: 'FooSpec'\n\t\tspec: Fn(Number) Fn({x: Number, y: Number}) Promise {x: String, y: Choose [Nat, String, Value 'unavailable']}\n\t\tdesc: \"hello\"\n\t\tcheck: (x) -> x > 1\n\n\tfs = require 'fs'\n\tfs.writeFileSync('test.html', showPage WideTable)\n\n\tentries = {\n\t\ta: FooSpec\n\t\tb: WideTable\n\t\tc: Context\n\t\td: FieldName\n\t\te: Select {x: Number, y: String}\n\t\tf: Fn(Tree Int) (Loose {x: Number, y: Number})\n\t}\n\n\tfs.writeFileSync('test2.js', genRenderCode entries)\n\n","require 'coffee-mate/global'\n\n{typeclass, instance} = do ->\n\tinstances = {}\n\treg = {}\n\n\ttypeclass = (classname) ->\n\t\tcls = reg[classname] ?= {}\n\t\tins = instances[classname] ?= []\n\t\thasInstance: (t) -> ins.indexOf(t) >= 0\n\t\twhere: (funcs) ->\n\t\t\trst_funcs = {}\n\t\t\tforeach enumerate(funcs), ([funcname, funcdefault]) ->\n\t\t\t\tls = cls[funcname] ?= []\n\t\t\t\tf = (arg) ->\n\t\t\t\t\tfor [type, funcbody] in ls\n\t\t\t\t\t\t#log -> type\n\t\t\t\t\t\tif arg.constructor is type\n\t\t\t\t\t\t\treturn funcbody(arg)\n\t\t\t\t\tif funcdefault?\n\t\t\t\t\t\treturn funcdefault.call(rst_funcs, arg)\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow TypeError \"no instance of #{classname}(via #{funcname}(#{arg})) for #{arg.constructor.name or 'UnnamedType'}\"\n\t\t\t\trst_funcs[funcname] = f\n\t\t\treturn rst_funcs\n\n\tinstance = (classname) ->\n\t\tcls = reg[classname] ?= {}\n\t\tins = instances[classname] ?= []\n\t\t(type) ->\n\t\t\t#log -> type\n\t\t\tins.push(type) if ins.indexOf(type) < 0\n\t\t\twhere: (funcdict) ->\n\t\t\t\tforeach (enumerate funcdict), ([funcname, funcbody]) ->\n\t\t\t\t\t(cls[funcname] ?= []).push [type, funcbody]\n\n\treturn {typeclass, instance}\n\nmodule.exports = {typeclass, instance}\n\nif module.parent is null\n\t{show} = typeclass('Show').where\n\t\tshow: -> str @zero()\n\t\tzero: -> 0\n\n\tinstance('Show')(String).where\n\t\tshow: (s) -> json s\n\n\tinstance('Show')(Number).where {}\n\n\tlog -> show \"hello\"\n\tlog -> show 1\n\tlog -> typeclass('Show').hasInstance(String)\n\tlog -> typeclass('Show').hasInstance(Number)\n\tlog -> typeclass('Show').hasInstance(Object)\n\t#log -> show null\n\t#log -> show 0\n\t#log -> show {x: 1}\n","require 'coffee-mate/global'\n{typeclass} = require './typeclass'\n#{Data} = require './index'\n\nTypeSpec = typeclass('TypeSpec').where\n\tmatch: null\n\twithSpec: (t) -> (v) ->\n\t\tif not @match(t)(v)\n\t\t\tthrow TypeError {expected: @show(t), got: v}\n\t\telse\n\t\t\treturn v\n\tshow: (t) ->\n\t\tt.name or 'UnnamedType'\n\tsamples: null\n\tsample: (t) -> head @samples(t)\n\thtmlInline: (t) ->\n\t\t\"<span class='type-maker'>#{@show t}</span>\"\n\thtmlBlock: (t) -> null\n\tshowHtml: (t) ->\n\t\tspecPart = do =>\n\t\t\tblock = @htmlBlock t\n\t\t\treturn \"\"\"\n\t\t\t<div class='spec'>\n\t\t\t<div class='#{if block? then 'fold' else 'inline'}'><span class='meta-field'>spec</span>: #{@htmlInline t}</div>\n\t\t\t#{if block? then (\n\t\t\t\t\"\"\"\n\t\t\t\t<div class='unfold'>\n\t\t\t\t\t<span class='meta-field'>spec</span>: #{block.head}\n\t\t\t\t\t#{block.body ? ''}\n\t\t\t\t\t#{block.tail ? ''}\n\t\t\t\t</div>\n\t\t\t\t\"\"\"\n\t\t\t) else ''}\n\t\t\t</div>\n\t\t\t\"\"\".replace(/(\\t|\\n)/g, '')\n\n\t\tsamplePart = do =>\n\t\t\ts = json(@sample(t), 4)\n\t\t\treturn \"\"\"\n\t\t\t<div class='sample'>\n\t\t\t<span class='meta-field'>sample</span>: #{\n\t\t\t\tif /\\n/.test s then \"<pre class='code'>#{s}</pre>\" else \"<span class='code'>#{s}</span>\"\n\t\t\t}\n\t\t\t</div>\n\t\t\t\"\"\"\n\n\t\treturn \"<div class='typespec'>#{specPart + samplePart}</div>\"\n\nmodule.exports = TypeSpec\n\n"]}