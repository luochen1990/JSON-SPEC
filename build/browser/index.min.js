!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.lazy=n()}}(function(){return function n(e,t,r){function o(u,a){if(!t[u]){if(!e[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(c)return c(u,!0);var i=new Error("Cannot find module '"+u+"'");throw i.code="MODULE_NOT_FOUND",i}var l=t[u]={exports:{}};e[u][0].call(l.exports,function(n){var t=e[u][1][n];return o(t?t:n)},l,l.exports,n,e,t,r)}return t[u].exports}for(var c="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(n,e,t){},{}],2:[function(n,e,t){function r(){l=!1,a.length?i=a.concat(i):p=-1,i.length&&o()}function o(){if(!l){var n=setTimeout(r);l=!0;for(var e=i.length;e;){for(a=i,i=[];++p<e;)a[p].run();p=-1,e=i.length}a=null,l=!1,clearTimeout(n)}}function c(n,e){this.fun=n,this.array=e}function u(){}var a,s=e.exports={},i=[],l=!1,p=-1;s.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];i.push(new c(n,e)),1!==i.length||l||setTimeout(o,0)},c.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=u,s.addListener=u,s.once=u,s.off=u,s.removeListener=u,s.removeAllListeners=u,s.emit=u,s.binding=function(n){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(n){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],3:[function(n,e,t){(function(){var t,r=[].slice;t=function(n){var e,t,o,c,u,a,s,i,l,p,f,m,h,d,y,v,g,w,b,k,S,T,x,B,E,I;return o=n.best,f=n.foldl,l=function(n){return function(e){return function(t){return n(t)(e)}}},u=function(n){return function(e){return function(t){return n(e(t))}}},a=function(n){return function(e){return function(t){return n(e,t)}}},s=function(n){return function(e){return function(t){return function(r){return n(e,t,r)}}}},B=function(n){return function(e,t){return n(e)(t)}},E=function(n){return function(e,t,r){return n(e)(t)(r)}},w=function(n){return function(e){return n.apply(null,e)}},I=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],n(e)}},T=function(n){return function(e){return n[e]}},b=function(n){return function(e){return e[n]}},i=function(n){return function(e){return e===n}},g=function(n){return function(e){return e!==n}},y=function(n){return function(e){return n>e}},h=function(n){return function(e){return e>n}},d=function(n){return function(e){return n>=e}},m=function(n){return function(e){return e>=n}},k=function(n){return function(e){return e+n}},v=function(n){return function(e){return e-n}},e=Math.abs,p=Math.floor,c=Math.ceil,S=function(n){return function(e){return parseFloat(e.toPrecision(n))}},t=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],n(1===e.length&&e.first instanceof Array?e.first:e)}},x=f(function(n,e){return n+e},0),{flip:l,combine:u,curry2:a,curry3:s,uncurry2:B,uncurry3:E,pack:w,unpack:I,seek:T,pluck:b,equal:i,notEqual:g,lessThan:y,lessEqual:d,greaterThan:h,greaterEqual:m,plus:k,minus:v,abs:e,floor:p,ceil:c,precise:S,sum:x}},e.exports=t({best:n("lazy-list").best,foldl:n("lazy-list").foldl})}).call(this)},{"lazy-list":11}],4:[function(n,e,t){(function(){var t,r,o,c,u,a;a=n("./utils"),t=n("./basics"),c=n("lazy-list"),o=n("./funny"),r=n("./convertors"),u=n("./url-helpers"),e.exports=a.extend({})(a,t,c,o,r,u)}).call(this)},{"./basics":3,"./convertors":5,"./funny":6,"./url-helpers":8,"./utils":9,"lazy-list":11}],5:[function(n,e,t){(function(){var n;n=function(){var n,e,t,r,o,c,u,a,s;return o=function(n,e){var t;return"string"==typeof n?(t=parseInt(n,e),null==n.slice||t!==parseInt(n.slice(0,-1),e)?t:null):parseInt(0+n)},t=function(n){return/^-?[0-9]*(\.[0-9]+)?([eE]-?[0-9]+)?$/.test(n)?parseFloat(n):null},s=function(n,e){return n.toString(e)},n=function(n){return n===!0||n===!1?n:null},r=function(n){return n.toString(16)},a=function(n){return n.charCodeAt()},e=function(n){return String.fromCharCode(n)},c=function(n,e){return JSON.stringify(n,null,e)},u=function(n){return JSON.parse(n)},{"int":o,"float":t,bool:n,str:s,hex:r,ord:a,chr:e,json:c,obj:u}},e.exports=n()}).call(this)},{}],6:[function(n,e,t){(function(){var n,t=[].slice;n=function(){var n,e,r,o,c;return e=function(n){var e;return e=function(n,t,r){return 0===t?r:e(n,t-1,n(r))},function(t){return function(r){return e(t,n+0,r)}}},n=function(n){return function(n){return n(n)}(function(e){return n(function(n){return e(e)(n)})})},c=function(n,e){var r;return null==e&&(e=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],json(n)}),r={},function(){var o,c,u,a;return o=1<=arguments.length?t.call(arguments,0):[],u=e.apply(null,o),c=r[u],null!=c?c:(a=n.apply(null,o),r[u]=a,a)}},r=n,o=function(n){var e;return e=c(n(function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],e.apply(null,n)}))},{church:e,Y:n,memoize:c,fix:r,memoFix:o}},e.exports=n()}).call(this)},{}],7:[function(n,e,t){(function(e){(function(){var t,r,o;r=n("./coffee-mate");for(t in r)o=r[t],e[t]=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coffee-mate":4}],8:[function(n,e,t){(function(){var n;n=function(){var n,e;return e=function(n){return null==n&&(n=str),function(e){var t,r;return function(){var o;o=[];for(t in e)r=e[t],void 0!==r&&o.push(encodeURIComponent(t)+"="+encodeURIComponent(n(r)));return o}().join("&")}},n=function(n){return null==n&&(n=function(n){return n}),function(e){var t,r,o,c,u,a,s,i,l,p;for(t={},s=null!=(a=e.match(/[^?=&]+=[^&]*/g))?a:[],r=0,u=s.length;u>r;r++)l=s[r],i=l.match(/([^=]+)=(.*)/),o=i.length-2,c=i[o++],p=i[o++],t[decodeURIComponent(c)]=n(decodeURIComponent(p));return t}},{uri_encoder:e,uri_decoder:n}},e.exports=n()}).call(this)},{}],9:[function(n,e,t){(function(n){(function(){var t,r=[].slice;t=function(){var e,t,o,c,u,a,s,i,l,p,f,m,h,d;return i=function(n){var e;return e=n.toString().replace(/^\s*function\s?\(\s?\)\s?{\s*return\s*([^]*?);?\s*}$/,"$1"),e.length<=100&&(e=e.replace(/[\r\n]{1,2}\s*/g,"")),e},h=function(){return(new Date).getTime()},l=function(){var e,t,o,c,u;return e=function(){var e,t;return e=("undefined"==typeof window||null===window)&&"undefined"!=typeof n&&null!==n&&!n.env.NODE_DISABLE_COLORS,t={bold:"[0;1m",red:"[0;31m",green:"[0;32m",yellow:"[0;33m",blue:"[0;34m",bold_grey:"[1;30m"},e?function(n){return function(e){return""+t[n]+e+"[0m"}}:function(n){return function(n){return n}}}(),u=function(){var n,t;return n={"#":"bold_grey",I:"green",E:"red",W:"yellow"},t=function(n){return"log"===n?"#":n[0].toUpperCase()},function(r){var o;return o=t(r),e(n[o])(o)}}(),c=[],t=function(n){var t;return t=""+e("bold_grey")("#")+u(n),function(){var o,u,a,s,l,p,f,m,d;for(o=1<=arguments.length?r.call(arguments,0):[],u=[],p=0,f=o.length;f>p;p++)l=o[p],"function"==typeof l?(s=i(l),m=h(),a=l(),d=h()-m,u.push(t+" "+e("green")(s)+" "+e("bold_grey")("==>"),a),d>0&&u.push(e("yellow")("["+d+"ms]"))):u.push(""+t,l);return console[n].apply(console,u),c.push(u),c.length>=10&&c.shift(),null}},o=t("log"),o.histories=c,o.info=t("info"),o.warn=t("warn"),o.error=o.err=t("error"),o}(),e=function(n,e){var t,r,o;n instanceof Function||(o=[e,n],n=o[0],e=o[1]);try{r=n()}catch(c){throw t=c,Error("Assertion "+(null!=e?e:i(n))+" Unknown:\n"+t)}if(!r)throw Error("Assertion "+(null!=e?e:i(n))+" Failed!")},t=function(n,e){var t,r,o;try{r=n(),o=e()}catch(c){throw t=c,Error("Equation Between "+i(n)+" And "+i(e)+" Unknown:\n"+t)}if(r!==o)throw Error("Equation Failed:\n	"+i(n)+" IS "+r+" BUT\n	"+i(e)+" IS "+o+".")},o=function(n){return function(e,t){var r,o,c,u,a;try{u=e(),a=t(),o=n(u),c=n(a)}catch(s){throw r=s,Error("MAPPED Equation Between "+i(e)+" And "+i(t)+" Unknown:\n"+r)}if(o!==c)throw Error("Equation Failed:\n	"+i(e)+" IS "+u+" AND MAPPED TO "+o+" BUT\n	"+i(t)+" IS "+a+" AND MAPPED TO "+c+".")}},m=function(n){return function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],e=u(e),n.apply(null,e)}},a=function(n){var e,t,r,o,c,u;for(e={},t=0,o=n.length;o>t;t++)c=n[t],r=c[0],u=c[1],e[r]=u;return e},f=function(){var n;return n=function(e,t){var r,o,c;if(0===t||null==e||"object"!=typeof e)return e;if(e instanceof Array)o=function(){var r,o,u;for(u=[],r=0,o=e.length;o>r;r++)c=e[r],u.push(n(c,t-1));return u}();else{o={};for(r in e)c=e[r],o[r]=n(c,t-1)}return o},{copy:function(e,t){return null==t&&(t=1),n(e,t)},deepcopy:function(e,t){return null==t&&(t=1/0),n(e,t)}}}(),c=f.copy,u=f.deepcopy,s=function(n){return function(){var e,t,o,c,u,a;for(t=1<=arguments.length?r.call(arguments,0):[],o=0,u=t.length;u>o;o++)if(e=t[o],null!=e)for(c in e)a=e[c],null==n[c]&&(n[c]=a);return n}},d=function(n){return function(){var e,t,o,c,u,a;for(u=1<=arguments.length?r.call(arguments,0):[],t=0,c=u.length;c>t;t++)if(e=u[t],null!=e)for(o in e)a=e[o],n[o]=a;return n}},p=function(n){var e,t;return e=c(n),t=e._,null!=t?function(){var n,o;return n=1<=arguments.length?r.call(arguments,0):[],(null!=(o=e[n.length])?o:t).apply(null,n)}:function(){var n,t;if(n=1<=arguments.length?r.call(arguments,0):[],t=e[n.length],null==t)throw Error("This Function Can't Accept "+n.length+" Args");return t.apply(null,n)}},{log:l,assert:e,assertEq:t,assertEqOn:o,dict:a,copy:c,deepcopy:u,securely:m,extend:s,update:d,overload:p}},e.exports=t()}).call(this)}).call(this,n("_process"))},{_process:2}],10:[function(n,e,t){n("./build/nodejs/global.js")},{"./build/nodejs/global.js":7}],11:[function(n,e,t){(function(){var n,t=[].slice;n=function(n){var e,r,o,c,u,a,s,i,l,p,f,m,h,d,y,v,g,w,b,k,S,T,x,B,E,I,j,O,N,A,D,C,M,F,L,P,z,q,U,_,G,R,H,V,W,$,Q,J;return o=n.Symbol,r=function(n){return n[o.iterator]=function(){return n()},n.toString=function(){return"LazyList"},n},D=r(function(){return D}),D.toString=function(){return"nil"},e=function(n){return n.next=function(){var e;return e=n(),{value:e,done:e===D}},n.toString=function(){return"Iterator"},n},A=r(function(){var n;return n=-1,e(function(){return++n})}),P=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],0===n.length?A:r(1===n.length?function(){var t,r;return r=n[0],t=-1,e(function(){return++t<r?t:D})}:2===n.length?function(){var t,r,o;return r=n[0],o=n[1],o>r?(t=r-1,e(function(){return++t<o?t:D})):(t=r+1,e(function(){return--t>o?t:D}))}:function(){var t,r,o,c;if(r=n[0],c=n[1],o=n[2],c!==r&&0>(c-r)*o)throw"ERR IN range(): YOU ARE CREATING AN UNLIMITTED RANGE";return t=r-o,e(c>r?function(){return(t+=o)<c?t:D}:function(){return(t+=o)>c?t:D})})},F=r(function(){return d(function(n){return c(function(e){return n%e!==0})($(function(e){return n>=e*e})(P(2,1/0)))})(P(2,1/0))()}),T=function(n){var t;if("function"==typeof n)return null!=n[o.iterator]?n:r(n);if((t=n.constructor)===Array||t===String)return r(function(){var t;return t=-1,e(function(){return++t<n.length?n[t]:D})});if(null!=n[o.iterator])return r(function(){var t;return t=n[o.iterator](),e(function(){var n;return n=t.next(),n.done?D:n.value})});throw Error("lazy(xs): xs is neither Array nor Iterable")},h=function(n){return null!=n[o.iterator]||n instanceof Array?Q(A,n):r(function(){var t,r;return r=Object.keys(n),t=-1,e(function(){var e;return++t<r.length?[e=r[t],n[e]]:D})})},q=function(n){return r(function(){return e(function(){return n})})},k=function(n,t){return r(function(){var r;return r=t,e(function(){var e;return e=r,r=n(r),e})})},L=function(){var n,e,t;return t=Math.PI/3,n=function(n){return n=1e4*Math.sin(n+t),n-Math.floor(n)},e=function(e){return k(n,n(e))},function(n){var t,r,o,c,u,a;return null==n?e(0):"number"==typeof n?e(n):(a=null!=(r=n.seed)?r:0,c=n.range,null!=c?"number"==typeof c?E(function(n){return Math.floor(n*c)})(e(a)):(o=[c[0],c[1]-c[0]+1],u=o[0],t=o[1],E(function(n){return u+Math.floor(n*t)})(e(a))):e(a))}}(),M=function(){var n;return n=function(n){var e,t,r,o,c;for(n=n.slice(0),e=n.length-1;e>=1&&n[e]<=n[e-1];)--e;if(0!==e){for(t=n.length-1;t>e-1&&n[t]<=n[e-1];)--t;o=[n[e-1],n[t]],n[t]=o[0],n[e-1]=o[1]}for(r=n.length-1;r>e;)c=[n[r],n[e]],n[e]=c[0],n[r]=c[1],++e,--r;return n},function(e){var t;return t=B(e),0===t.length?D:p(t.slice(0))($(function(n){return json(n)!==json(t)})(f(1)(k(n,t))))}}(),W=function(n){return function(t){return r(function(){var r,c;return c=T(t)[o.iterator](),r=-1,e(function(){return++r<n?c():D})})}},$=function(n){return function(t){return r(function(){var r;return r=T(t)[o.iterator](),e(function(){var e;return(e=r())!==D&&n(e)?e:D})})}},f=function(n){return function(e){return r(function(){var t,r,c,u,a;for(c=T(e)[o.iterator](),t=!1,r=u=0,a=n;(a>=0?a>u:u>a)&&(t||(t=c()===D),!t);r=a>=0?++u:--u);return t?function(){return D}:c})}},m=function(n){return function(t){return r(function(){var r,c;for(r=T(t)[o.iterator]();n(c=r())&&c!==D;);return e(function(){var n,e;return e=[c,r()],n=e[0],c=e[1],n})})}},p=function(n){return function(t){return r(function(){var r;return r=null,e(function(){return null===r?(r=T(t)[o.iterator](),n):r()})})}},E=function(n){return function(t){return r(function(){var r;return r=T(t)[o.iterator](),e(function(){var e;return(e=r())!==D?n(e):D})})}},d=function(n){return function(t){return r(function(){var r;return r=T(t)[o.iterator](),e(function(){for(var e;(e=r())!==D&&!n(e););return e})})}},_=function(n,t){return function(c){return r(function(){var r;return r=T(c)[o.iterator](),e(function(){var e,o;return e=t,t=(o=r())!==D?n(t,o):D,e})})}},H=function(n){return 1>n?D:function(t){return f(n-1)(r(function(){var r,c;return c=T(t)[o.iterator](),r=[],e(function(){var e;return(e=c())===D?D:(r.push(e),r.length>n&&r.shift(1),r.slice(0))})}))}},V=function(n){return function(e){return H(n)(l([e,W(n-1)(e)]))}},U=function(n){var t;return(t=n.constructor)===Array||t===String?r(function(){var t;return t=n.length,e(function(){return--t>=0?n[t]:D})}):B(T(n)).reverse()},G=function(n){var e;return e=B(T(n)),e.sort(function(n,e){return(n>e)-(e>n)})},R=function(n){return function(e){var t;return t=B(T(e)),t.sort(function(e,t){var r,o;return((r=n(e))>(o=n(t)))-(o>r)})}},w=function(n){return function(e){var t,r,o;return r={},v(e,function(e){var t;return t=n(e),null==r[t]&&(r[t]=[]),r[t].push(e)}),function(){var n;n=[];for(t in r)o=r[t],n.push(o);return n}()}},C=function(n){return function(e){var t;return t=[[],[]],v(e,function(e){var r;return r=!n(e)+0,t[r].push(e)}),t}},l=function(n){return n=d(function(n){var e;return(e=n.constructor)!==Array&&e!==String||n.length>0})(n),r(function(){var t,r,c;return c=T(n)[o.iterator](),r=c(),t=T(r)[o.iterator](),e(function(){var n;return(n=t())!==D?n:(r=c())!==D?(t=T(r)[o.iterator]())():D})})},z=function(){var n,c,u;return n=function(n){var e,t,r;for(e=0,t=n.length;t>e;e++)if(r=n[e],r===D)return!0;return!1},c=function(){var c;return c=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r;return t=function(){var n,e,t;for(t=[],n=0,e=c.length;e>n;n++)r=c[n],t.push(T(r)[o.iterator]());return t}(),e(function(){var e,r;return r=function(){var n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(e());return o}(),n(r)?D:r})})},u=function(c){return function(){var u;return u=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r;return t=function(){var n,e,t;for(t=[],n=0,e=u.length;e>n;n++)r=u[n],t.push(T(r)[o.iterator]());return t}(),e(function(){var e,r;return r=function(){var n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push(e());return o}(),n(r)?D:c.apply(null,r)})})}},{zip:c,zipWith:u}}(),Q=z.zip,J=z.zipWith,i=function(){var n,o;return o=function(n){var e;return e=n.length-1,function(t){var r;for(r=e;!(++t[r]<n[r]||0>=r);)t[r--]=0;return t}},n=function(n){var e;return e=n.length,function(t){var r,o,c,u;for(u=[],r=o=0,c=e;c>=0?c>o:o>c;r=c>=0?++o:--o)u.push(n[r][t[r]]);return u}},function(){var c;return c=1<=arguments.length?t.call(arguments,0):[],r(function(){var t,r,u,a,s,i,l,p,f;for(c=function(){var n,e,t;for(t=[],n=0,e=c.length;e>n;n++)f=c[n],t.push(B(f));return t}(),l=function(){var n,e,t;for(t=[],r=n=0,e=c.length;e>=0?e>n:n>e;r=e>=0?++n:--n)t.push(c[r].length);return t}(),a=0,i=l.length;i>a;a++)if(s=l[a],0===s)return D;return u=o(l),t=n(c),p=function(){var n,e,t;for(t=[],r=n=0,e=c.length;e>=0?e>n:n>e;r=e>=0?++n:--n)t.push(0);return t}(),e(function(){var n;return p[0]<l[0]?(n=t(p),u(p),n):D})})}}(),B=function(n){var e,t,r,c,u;if(n instanceof Array)return n;if("function"==typeof n){for(e=n[o.iterator](),r=[];(u=e())!==D;)r.push(u);return r}if(null!=n[o.iterator]){for(e=T(n)[o.iterator](),c=[];(u=e())!==D;)c.push(u);return c}if("number"==typeof n)return t=n,function(n){return B(W(t)(n))};throw Error({message:"list(xs): xs is neither Array nor Iterable",info:{xs:n,"xs.constructor":null!=n?n.constructor:void 0}})},b=function(n){var e,t,r;if((r=n.constructor)===Array||r===String){if(n.length>0)return n[0];throw"Error: head() used on empty list."}if(e=T(n)[o.iterator](),(t=e())!==D)return t;throw"Error: head() used on empty list."},S=function(n){var e,t,r,c,u;if((r=n.constructor)===Array||r===String)return null!=(c=n[n.length-1])?c:D;for(e=T(n)[o.iterator](),t=D;(u=e())!==D;)t=u;return t},x=function(n){var e,t,r,c;if((r=n.constructor)===Array||r===String)return n.length;for(e=T(n)[o.iterator](),t=0;(c=e())!==D;)++t;return t},y=function(n,e){return function(t){var r,c,u;for(c=e,r=T(t)[o.iterator]();(u=r())!==D;)c=n(c,u);return c}},a=function(n){return function(e){var t,r,c;if(r=T(e)[o.iterator](),(c=r())===D)return null;for(;(t=r())!==D;)c=n(t,c)?t:c;return c}},j=function(n){return a(function(e,t){return n(e)>n(t)})},N=function(n){return a(function(e,t){return n(e)>n(t)})},I=a(function(n,e){return n>e}),O=a(function(n,e){return e>n}),c=function(n){return"function"!=typeof n&&(n=function(e){return e===n}),function(e){var t,r;for(t=T(e)[o.iterator]();(r=t())!==D;)if(!n(r))return!1;return!0}},u=function(n){var e;return e=c(function(e){return!n(e)}),function(n){return!e(n)}},g=function(n){var e;return e={},v(n,function(n){var t,r;return t=n[0],r=n[1],e[t]=r}),e},s=function(){return s},s.toString=function(){return"foreach.break"},v=function(n,e,t){var r,c;for(r=T(n)[o.iterator]();(c=r())!==D&&e(c,t)!==s;);return t},Object.defineProperties(v,{"break":{writable:!1,configurable:!1,enumerable:!1,value:s}}),{nil:D,LazyList:r,Iterator:e,Symbol:o,naturals:A,range:P,primes:F,lazy:T,enumerate:h,repeat:q,iterate:k,randoms:L,permutations:M,cons:p,map:E,filter:d,take:W,takeWhile:$,drop:f,dropWhile:m,scanl:_,streak:H,streak2:V,reverse:U,sort:G,sortOn:R,groupOn:w,partition:C,concat:l,zip:Q,zipWith:J,cartProd:i,list:B,head:b,last:S,length:x,foldl:y,best:a,maximum:I,minimum:O,maximumOn:j,minimumOn:N,all:c,any:u,fromList:g,foreach:v}},e.exports=n({Symbol:"undefined"!=typeof Symbol&&null!==Symbol?Symbol:{iterator:"iter"}})}).call(this)},{}],12:[function(n,e,t){var r,o,c,u,a,s,i,l;i=n("./typespec"),u=i.htmlInline,c=i.htmlBlock,l=n("./typeclass").typeclass,r=function(n){return function(e){var t;return t=c(e),null==t?null:{head:n(t.head),body:t.body,tail:t.tail}}},o=function(n,e){return function(t){var r;return r=map(function(n){var t,r,o,a,s;return r=n[0],s=n[1],t=c(s),"<li>\n<div class='"+(null!=t?"fold":"inline")+"'>\n	<span class='"+e+"'>"+r+"</span>: "+u(s)+"\n</div>\n"+(null!=t?"<div class='unfold'>\n	<span class='"+e+"'>"+r+"</span>: "+t.head+"\n	"+(null!=(o=t.body)?o:"")+"\n	"+(null!=(a=t.tail)?a:"")+"\n</div>":"")+"\n</li>"})(enumerate(t)),"<ul class='"+n+"'>"+list(r).join("\n")+"</ul>"}},a=function(n){return null!=n&&l("TypeSpec").hasInstance(n.constructor)},s=function(n){return null!=n&&all(function(n){var e,t;return e=n[0],t=n[1],a(t)})(enumerate(n))},e.exports={expandBlockHead:r,genBlockBody:o,isTypeSpec:a,isTypeSpecDict:s}},{"./typeclass":35,"./typespec":36}],13:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h,d,y,v,g,w,b,k,S,T,x,B,E,I,j,O,N,A,D,C,M,F;n("./prim/object"),n("./prim/array"),n("./prim/constructor"),o=n("./prim/bool").Bool,r=n("./prim/any").Any,s=n("./prim/int").Int,f=n("./prim/nat").Nat,u=n("./prim/enum").Enum,k=n("./prim/value").Value,m=n("./prim/optional").Optional,h=n("./prim/promise").Promise,v=n("./prim/tree").Tree,l=n("./prim/map").Map,g=n("./prim/treemap").TreeMap,a=n("./prim/fn").Fn,p=n("./prim/namedtype").NamedType,y=n("./prim/strict").Strict,i=n("./prim/loose").Loose,d=n("./prim/select").Select,c=n("./prim/choose").Choose,I=n("./typespec"),E=I.match,D=I.show,N=I.sample,A=I.samples,C=I.showHtml,x=I.htmlInline,T=I.htmlBlock,j=n("./render"),S=j.genRenderCode,M=j.showPage,O=n("./typeclass"),F=O.typeclass,B=O.instance,e.exports={Number:Number,String:String,Bool:o,Any:r,Int:s,Nat:f,Enum:u,Value:k,Optional:m,Promise:h,Tree:v,Map:l,TreeMap:g,Fn:a,NamedType:p,Strict:y,Loose:i,Select:d,Choose:c,match:E,show:D,sample:N,samples:A,showHtml:C,genRenderCode:S,showPage:M},null===e.parent&&(n("coffee-mate/global"),b=m(String),w={name:b,position:String,age:Number},assert(function(){return E(b)("luo")===!0}),assert(function(){return E(b)(1)===!1}),log(function(){return D(b)}))},{"./prim/any":14,"./prim/array":15,"./prim/bool":16,"./prim/choose":17,"./prim/constructor":18,"./prim/enum":19,"./prim/fn":20,"./prim/int":21,"./prim/loose":22,"./prim/map":23,"./prim/namedtype":24,"./prim/nat":25,"./prim/object":26,"./prim/optional":27,"./prim/promise":28,"./prim/select":29,"./prim/strict":30,"./prim/tree":31,"./prim/treemap":32,"./prim/value":33,"./render":34,"./typeclass":35,"./typespec":36,"coffee-mate/global":10}],14:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("../typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),o("TypeSpec")(r).where({match:function(){return function(n){return null!=n}},show:function(){return"T.Any"},samples:function(){return concat(repeat(["a",3,!0,[1,2],{x:1}]))},sample:function(){return"any"}}),e.exports={Any:r}},{"../typeclass":35,"coffee-mate/global":10}],15:[function(n,e,t){var r,o,c,u,a,s,i,l;n("coffee-mate/global"),c=n("../typeclass").instance,a=n("../typespec"),u=a.match,l=a.show,i=a.samples,s=a.sample,o=a.htmlInline,r=a.htmlBlock,c("TypeSpec")(Array).where({match:function(n){var e;return e=n[0],function(n){return null!=n&&n.constructor===Array&&all(u(e))(n)}},show:function(n){var e;return e=n[0],"["+l(e)+"]"},samples:function(n){var e;return e=n[0],concat(repeat(reverse(map(function(n){return list(take(n)(i(e)))})(range(3)))))},sample:function(n){var e;return e=n[0],[s(e)]},htmlInline:function(n){var e;return e=n[0],"<span class='type-maker'>["+o(e)+"]</span>"},htmlBlock:function(n){var e,t,o;return o=n[0],null==(e=r(o))?null:{head:"<span class='type-maker'>["+e.head+"</span>",body:e.body,tail:"<span class='type-maker'>"+(null!=(t=e.tail)?t:"")+"]</span>"}}})},{"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],16:[function(n,e,t){var r;r=Boolean,e.exports={Bool:r}},{}],17:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h;n("coffee-mate/global"),a=n("../typeclass").instance,l=n("../typespec"),i=l.match,h=l.show,m=l.samples,f=l.sample,u=l.htmlInline,c=l.htmlBlock,p=n("../helpers"),o=p.genBlockBody,s=p.isTypeSpec,r=function(){function n(e){if(null==e||e.constructor!==Array)throw Error("Bad Choose Type Definition: Array Expected, But Got "+e);if(!all(s)(e))throw Error("Bad Choose Type Definition: Array of TypeSpec Expected, But Got "+e);return{constructor:n,specs:e}}return n}(),a("TypeSpec")(r).where({match:function(n){var e;return e=n.specs,function(n){return null!=n&&any(function(e){return i(e)(n)})(e)}},show:function(n){var e;return e=n.specs,"Choose(["+list(map(h)(e)).join(", ")+"])"},samples:function(n){var e;return e=n.specs,concat(repeat(map(f)(e)))},htmlInline:function(n){var e;return e=n.specs,"<span class='type-maker unwrapped'>"+list(map(u)(e)).join(" | ")+"</span>"},htmlBlock:function(n){var e;return e=n.specs,{head:"<span class='type-maker'>Choose [</span>",body:o("choose","meta-field")(dict(list(zip(naturals,e)))),tail:"<span class='type-maker'>]</span>"}}}),e.exports={Choose:r}},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],18:[function(n,e,t){var r,o,c,u,a,s;n("coffee-mate/global"),r=n("../typeclass").instance,c=n("../typespec"),o=c.match,s=c.show,a=c.samples,u=c.sample,r("TypeSpec")(Function).where({match:function(n){return function(e){return null!=e&&e.constructor===n}},show:function(n){return n.name||"UnnamedType"},samples:function(n){switch(n){case Boolean:return concat(repeat([!0,!1]));case Number:return concat(repeat([3.14,9,42]));case String:return concat(repeat(["abc","hello"]));default:return repeat(new n)}},htmlInline:function(n){return"<span class='type-maker'>"+s(n)+"</span>"}})},{"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],19:[function(n,e,t){var r,o,c=[].indexOf||function(n){for(var e=0,t=this.length;t>e;e++)if(e in this&&this[e]===n)return e;return-1};n("coffee-mate/global"),o=n("../typeclass").instance,r=function(){function n(e){if(!all(function(n){return null!=n})(e))throw Error("Bad Enum Type Definition: Array Of Non-null Values Expected, Bot Got "+e);return{constructor:n,"enum":e}}return n}(),o("TypeSpec")(r).where({match:function(n){var e;return e=n["enum"],function(n){return c.call(e,n)>=0}},show:function(n){var e;return e=n["enum"],"T.Enum("+json(e)+")"},samples:function(n){var e;return e=n["enum"],concat(repeat(e))},htmlInline:function(n){var e;return e=n["enum"],"<span class='type-maker unwrapped'>Enum "+json(e)+"</span>"}}),e.exports={Enum:r}},{"../typeclass":35,"coffee-mate/global":10}],20:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h;n("coffee-mate/global"),i=n("../typeclass"),h=i.typeclass,a=i.instance,l=n("../typespec"),s=l.match,m=l.show,f=l.samples,p=l.sample,u=l.htmlInline,c=l.htmlBlock,o=n("../helpers").genBlockBody,r=function(){function n(e){if(null==e||!h("TypeSpec").hasInstance(e.constructor))throw Error("Bad Fn Definition: TypeSpec as ispec Expected, But Got "+e);return function(t){if(null==t||!h("TypeSpec").hasInstance(t.constructor))throw Error("Bad Fn Definition: TypeSpec as ospec Expected, But Got "+t);return{constructor:n,ispec:e,ospec:t}}}return n}(),a("TypeSpec")(r).where({match:function(n){var e,t;return e=n.ispec,t=n.ospec,function(n){return null!=n&&n.constructor===Function}},withSpec:function(n){var e,t;return e=n.ispec,t=n.ospec,function(n){if(null==n||n.constructor!==Function)throw TypeError({expected:"Function",got:n});return function(r){var o;return withSpec(e)(r),o=n(r),withSpec(t)(o),o}}},show:function(n){var e,t;return e=n.ispec,t=n.ospec,"T.Fn("+m(e)+")("+m(t)+")"},samples:function(n){var e,t;return e=n.ispec,t=n.ospec,repeat({"[input]":p(e),"[output]":p(t)})},htmlInline:function(n){var e,t;return e=n.ispec,t=n.ospec,"<span class='type-maker unwrapped'>"+u(e)+" -> "+u(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.ispec,t=n.ospec,{head:"<span class='type-maker'>Function (</span>",body:o("function","meta-field")({input:e,output:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={Fn:r}},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],21:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("../typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),o("TypeSpec")(r).where({match:function(){return function(n){return null!=n&&n.constructor===Number&&!isNaN(n)&&n===parseInt(n)}},show:function(){return"T.Int"},samples:function(){return concat(repeat([42,1,2]))}}),e.exports={Int:r}},{"../typeclass":35,"coffee-mate/global":10}],22:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),l=n("../typeclass"),y=l.typeclass,a=l.instance,p=n("../typespec"),i=p.match,d=p.show,h=p.samples,m=p.sample,u=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),o=f.genBlockBody,s=f.isTypeSpecDict,r=function(){function n(e){if(!s(e))throw Error("Bad Loose Type Definition: Dict Of TypeSpec Expected, But Got "+e);return{constructor:n,specdict:e}}return n}(),a("TypeSpec")(r).where({match:function(n){var e;return e=n.specdict,function(n){return null!=n&&n.constructor===Object&&all(function(e){var t,r;return t=e[0],r=e[1],i(r)(n[t])})(enumerate(e))}},show:function(n){var e;return e=n.specdict,"T.Loose({"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+d(t)})(enumerate(e))).join(", ")+"})"},samples:function(n){var e;return e=n.specdict,repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,m(t)]})(enumerate(e)))))},htmlInline:function(n){var e;return e=n.specdict,"<span class='type-maker unwrapped'>Loose {<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specdict,{head:"<span class='type-maker'>Loose {</span>",body:o("loose","field-name")(e),tail:"<span class='type-maker'>}</span>"}}}),e.exports={Loose:r}},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],23:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h;n("coffee-mate/global"),i=n("../typeclass"),h=i.typeclass,a=i.instance,l=n("../typespec"),s=l.match,m=l.show,f=l.samples,p=l.sample,u=l.htmlInline,c=l.htmlBlock,o=n("../helpers").genBlockBody,r=function(){function n(e){if(null==e||!h("TypeSpec").hasInstance(e.constructor))throw Error("Bad Fn Definition: TypeSpec as kspec Expected, But Got "+e);return function(t){if(null==t||!h("TypeSpec").hasInstance(t.constructor))throw Error("Bad Fn Definition: TypeSpec as vspec Expected, But Got "+t);return{constructor:n,kspec:e,vspec:t}}}return n}(),a("TypeSpec")(r).where({match:function(n){var e,t;return e=n.kspec,t=n.vspec,function(n){var r,o,c;return o=s(e),c=s(t),null!=n&&n.constructor===Object&&all(o)(r=Object.keys(n))&&all(c)(map(seek(n))(r))}},show:function(n){var e,t;return e=n.kspec,t=n.vspec,"T.Map("+m(e)+")("+m(t)+")"},samples:function(n){var e,t,r,o;return t=n.kspec,o=n.vspec,e=list(take(4)(f(t))),r=list(take(4)(f(o))),concat(repeat([dict([[e[0],r[0]],[e[1],r[1]]]),dict([[e[2],r[2]],[e[3],r[3]]])]))},htmlInline:function(n){var e,t;return e=n.kspec,t=n.vspec,"<span class='type-maker unwrapped'>Map "+u(e)+" "+u(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.kspec,t=n.vspec,{head:"<span class='type-maker'>Map (</span>",body:o("map","meta-field")({key:e,value:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={Map:r}},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],24:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h;n("coffee-mate/global"),i=n("../typeclass"),h=i.typeclass,a=i.instance,l=n("../typespec"),s=l.match,m=l.show,f=l.samples,p=l.sample,u=l.htmlInline,c=l.htmlBlock,o=n("../helpers").expandBlockHead,r=function(){function n(e){var t,r,o,c,u;if(o=e.name,u=e.spec,r=e.desc,t=e.check,c=e.samples,null==o||null==u)throw Error("Bad NamedType Definition: name & spec Must Be Specified");if(null==u||!h("TypeSpec").hasInstance(u.constructor))throw Error("Bad NamedType Definition: TypeSpec as spec Expected, But Got "+u+"\n	name: "+o);if(null!=c&&!all(s(u))(take(100)(c)))throw Error("Bad NamedType Definition: samples Should Match spec\n	name: "+o+"\n	spec: "+u);return{constructor:n,name:o,spec:u,desc:r,check:t,samples:c}}return n}(),a("TypeSpec")(r).where({match:function(n){var e,t;return t=n.spec,e=n.check,function(n){return s(t)(n)&&(null!=e?e(n):!0)}},show:function(n){var e,t;return e=n.name,t=n.spec,e||m(t)},samples:function(n){var e,t;return t=n.spec,e=n.samples,null!=e?concat(repeat(e)):f(t)},htmlInline:function(n){var e,t;return e=n.name,t=n.spec,null!=e?"<span class='type-name'>"+e+"</span>":u(t)},htmlBlock:function(n){var e,t,r;return e=n.name,r=n.spec,null!=(t=o(function(n){return"<span><span class='type-name'>"+e+"</span><span class='spliter'>spec:</span>"+n+"</span>"})(r))?t:{head:"<span><span class='type-name'>"+e+"</span><span class='spliter'>spec:</span>"+u(r)+"</span>"}},showHtml:function(n){var e,t,r,o,a,s,i,l,f;return a=n.name,r=n.desc,l=n.spec,e=n.check,s=null==a?"":"<div class='name'>\n<span class='meta-field'>name</span>: <span class='type-name'>"+a+"</span>\n</div>",
o=null==r?"":function(){var n;return n=r,"<div class='desc'>\n<span class='meta-field'>desc</span>: "+(/\n/.test(n)?"<pre class='text'>"+n+"</pre>":"<span class='text'>"+n+"</span>")+"\n</div>"}(),f=function(){var n,e,t;return n=c(l),("<div class='spec'>\n<div class='"+(null!=n?"fold":"inline")+"'><span class='meta-field'>spec</span>: "+u(l)+"</div>\n"+(null!=n?"<div class='unfold'>\n	<span class='meta-field'>spec</span>: "+n.head+"\n	"+(null!=(e=n.body)?e:"")+"\n	"+(null!=(t=n.tail)?t:"")+"\n</div>":"")+"\n</div>").replace(/(\t|\n)/g,"")}(),i=function(){var e;return e=json(p(n),4),"<div class='sample'>\n<span class='meta-field'>sample</span>: "+(/\n/.test(e)?"<pre class='code'>"+e+"</pre>":"<span class='code'>"+e+"</span>")+"\n</div>"}(),t=null==e?"":function(){var n;return n=e.toString(),"<div class='check'>\n<span class='meta-field'>constraint</span>: "+(/\n/.test(n)?"<pre class='code'>"+n+"</pre>":"<span class='code'>"+n+"</span>")+"\n</div>"}(),"<div class='typespec'>"+(s+o+f+i+t)+"</div>"}}),e.exports={NamedType:r}},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],25:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("../typeclass").instance,r=function(){var n;return n=function(){},n.constructor=n}(),o("TypeSpec")(r).where({match:function(){return function(n){return null!=n&&n.constructor===Number&&!isNaN(n)&&n>=0&&n===parseInt(n)}},show:function(){return"T.Nat"},samples:function(){return concat(repeat([42,1,2]))}}),e.exports={Nat:r}},{"../typeclass":35,"coffee-mate/global":10}],26:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h;n("coffee-mate/global"),u=n("../typeclass").instance,i=n("../typespec"),s=i.match,m=i.show,f=i.samples,p=i.sample,c=i.htmlInline,o=i.htmlBlock,l=n("../helpers"),r=l.genBlockBody,a=l.isTypeSpecDict,h=function(n){return function(e){if(!a(e))throw Error("Bad Object Type Definition: Dict Of TypeSpec Expected, But Got "+e);return n(e)}},u("TypeSpec")(Object).where({match:h(function(n){return function(e){return null!=e&&e.constructor===Object&&all(function(e){return null!=n[e]})(Object.keys(e))&&all(function(n){var t,r;return t=n[0],r=n[1],s(r)(e[t])})(enumerate(n))}}),show:h(function(n){return"{"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+m(t)})(enumerate(n))).join(", ")+"}"}),samples:h(function(n){return repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,p(t)]})(enumerate(n)))))}),htmlInline:h(function(n){return"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>"}),htmlBlock:h(function(n){return{head:"<span class='type-maker'>{</span>",body:r("object","field-name")(n),tail:"<span class='type-maker'>}</span>"}})})},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],27:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),l=n("../typeclass"),y=l.typeclass,a=l.instance,p=n("../typespec"),i=p.match,d=p.show,h=p.samples,m=p.sample,u=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),o=f.expandBlockHead,s=f.isTypeSpec,r=function(){function n(e){if(!s(e))throw Error("Bad Optional Type Definition: TypeSpec as spec Expected");return{constructor:n,spec:e}}return n}(),a("TypeSpec")(r).where({match:function(n){var e;return e=n.spec,function(n){return null==n||i(e)(n)}},show:function(n){var e;return e=n.spec,"T.Optional("+d(e)+")"},samples:function(n){var e,t;return t=n.spec,e=list(take(2)(h(t))),concat(repeat([e[0],null,e[1],void 0]))},htmlInline:function(n){var e;return e=n.spec,"<span class='type-maker unwrapped'>Optional "+u(e)+"</span>"},htmlBlock:function(n){var e;return e=n.spec,o(function(n){return"<span class='type-maker'>Optional "+n+"</span>"})(e)}}),e.exports={Optional:r}},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],28:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),l=n("../typeclass"),y=l.typeclass,a=l.instance,p=n("../typespec"),i=p.match,d=p.show,h=p.samples,m=p.sample,u=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),o=f.expandBlockHead,s=f.isTypeSpec,r=function(){function n(e){if(!s(e))throw Error("Bad Optional Type Definition: TypeSpec as spec Expected");return{constructor:n,spec:e}}return n}(),a("TypeSpec")(r).where({match:function(n){var e;return e=n.spec,function(n){return null!=(null!=n?n.then:void 0)}},withSpec:function(n){var e;return e=n.spec,function(n){if(null==(null!=n?n.then:void 0))throw TypeError({expected:"Promise",got:n});return n.then(function(n){return withSpec(e)(n),n})}},show:function(n){var e;return e=n.spec,"T.Promise("+d(e)+")"},samples:function(n){var e;return e=n.spec,h(e)},htmlInline:function(n){var e;return e=n.spec,"<span class='type-maker unwrapped'>Promise "+u(e)+"</span>"},htmlBlock:function(n){var e;return e=n.spec,o(function(n){return"<span class='type-maker'>Promise "+n+"</span>"})(e)}}),e.exports={Promise:r}},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],29:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),l=n("../typeclass"),y=l.typeclass,a=l.instance,p=n("../typespec"),i=p.match,d=p.show,h=p.samples,m=p.sample,u=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),o=f.genBlockBody,s=f.isTypeSpecDict,r=function(){function n(e){if(!s(e))throw Error("Bad Select Type Definition: TypeSpec as spec Expected");if(!(Object.keys(e).length>=1))throw Error("Bad Select Type Definition: At Least One Selection Should Be Provided");return{constructor:n,specs:e}}return n}(),a("TypeSpec")(r).where({match:function(n){var e;return e=n.specs,function(n){var t,r,o;return null!=n&&n.constructor===Object&&1===(r=Object.keys(n)).length&&null!=(o=e[t=r[0]])&&i(o)(n[t])}},show:function(n){var e;return e=n.specs,"T.Select({"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+d(t)})(enumerate(e))).join(", ")+"})"},samples:function(n){var e;return e=n.specs,concat(repeat(map(function(n){var e,t;return e=n[0],t=n[1],dict([[e,m(t)]])})(enumerate(e))))},htmlInline:function(n){var e;return e=n.specs,"<span class='type-maker unwrapped'>Select {<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specs,{head:"<span class='type-maker'>Select {</span>",body:o("select","field-name")(e),tail:"<span class='type-maker'>}</span>"}}}),e.exports={Select:r}},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],30:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h;n("coffee-mate/global"),a=n("../typeclass").instance,l=n("../typespec"),i=l.match,h=l.show,m=l.samples,f=l.sample,u=l.htmlInline,c=l.htmlBlock,p=n("../helpers"),o=p.genBlockBody,s=p.isTypeSpecDict,r=function(){function n(e){if(!s(e))throw Error("Bad Strict Type Definition: Dict Of TypeSpec Expected, But Got "+e);return{constructor:n,specdict:e}}return n}(),a("TypeSpec")(r).where({match:function(n){var e;return e=n.specdict,function(n){return null!=n&&n.constructor===Object&&all(function(n){return null!=e[n]})(Object.keys(n))&&all(function(e){var t,r;return t=e[0],r=e[1],i(r)(n[t])})(enumerate(e))}},show:function(n){var e;return e=n.specdict,"{"+list(map(function(n){var e,t;return e=n[0],t=n[1],e+": "+h(t)})(enumerate(e))).join(", ")+"})"},samples:function(n){var e;return e=n.specdict,repeat(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,f(t)]})(enumerate(e)))))},htmlInline:function(n){var e;return e=n.specdict,"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>"},htmlBlock:function(n){var e;return e=n.specdict,{head:"<span class='type-maker'>{</span>",body:o("strict","field-name")(e),tail:"<span class='type-maker'>}</span>"}}}),e.exports={Strict:r}},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],31:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),l=n("../typeclass"),y=l.typeclass,a=l.instance,p=n("../typespec"),i=p.match,d=p.show,h=p.samples,m=p.sample,u=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),o=f.expandBlockHead,s=f.isTypeSpec,r=function(){function n(e){if(!s(e))throw Error("Bad Tree Type Definition: TypeSpec as labelSpec Expected");return{constructor:n,labelSpec:e}}return n}(),a("TypeSpec")(r).where({match:function(n){return function(e){var t,r;return t=n.labelSpec,null!=e&&"object"==typeof e&&null!=e.rootLabel&&(null!=(r=e.subForest)?r.constructor:void 0)===Array&&i(t)(e.rootLabel)&&all(i(n))(e.subForest)}},show:function(n){var e;return e=n.labelSpec,"T.Tree("+d(e)+")"},samples:function(n){var e,t,r,o;return e=n.labelSpec,t=list(take(2)(h(e))),r={rootLabel:t[0],subForest:[]},o={rootLabel:t[1],subForest:[r]},concat(repeat([r,o]))},htmlInline:function(n){var e;return e=n.labelSpec,"<span class='type-maker unwrapped'>Tree "+u(e)+"</span>"},htmlBlock:function(n){var e;return e=n.labelSpec,o(function(n){return"<span class='type-maker'>Tree "+n+"</span>"})(e)}}),e.exports={Tree:r}},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],32:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h,d,y;n("coffee-mate/global"),l=n("../typeclass"),y=l.typeclass,a=l.instance,p=n("../typespec"),i=p.match,d=p.show,h=p.samples,m=p.sample,u=p.htmlInline,c=p.htmlBlock,f=n("../helpers"),o=f.genBlockBody,s=f.isTypeSpec,r=function(){function n(e){if(!s(e))throw Error("Bad TreeMap Type Definition: TypeSpec as kspec Expected");return function(t){if(!s(t))throw Error("Bad TreeMap Type Definition: TypeSpec as vspec Expected");return{constructor:n,kspec:e,vspec:t}}}return n}(),a("TypeSpec")(r).where({match:function(n){return function(e){var t,r,o,c,u,a;return r=n.kspec,a=n.vspec,o=i(r),c=i(n),null!=e&&e.constructor===Object&&("node"===(u=Object.keys(e)[0])&&all(o)(t=Object.keys(e.node))&&all(c)(map(seek(e.node))(t))||"leaf"===u&&i(a)(e.leaf))}},show:function(n){var e,t;return e=n.kspec,t=n.vspec,"T.TreeMap("+d(e)+")("+d(t)+")"},samples:function(n){var e,t,r,o;return t=n.kspec,o=n.vspec,e=list(take(4)(h(t))),r=list(take(3)(h(o))),concat(repeat([{node:dict([[e[0],{node:dict([[e[2],{leaf:r[0]}],[e[3],{leaf:r[1]}]])}],[e[1],{leaf:r[2]}]])}]))},htmlInline:function(n){var e,t;return e=n.kspec,t=n.vspec,"<span class='type-maker unwrapped'>TreeMap "+u(e)+" "+u(t)+"</span>"},htmlBlock:function(n){var e,t;return e=n.kspec,t=n.vspec,{head:"<span class='type-maker'>TreeMap (</span>",body:o("treemap","meta-field")({key:e,value:t}),tail:"<span class='type-maker'>)</span>"}}}),e.exports={TreeMap:r}},{"../helpers":12,"../typeclass":35,"../typespec":36,"coffee-mate/global":10}],33:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("../typeclass").instance,r=function(){function n(e){if(null==e)throw Error("Bad Value Type Definition: Non-null Value Expected, But Got "+e);return{constructor:n,value:e}}return n}(),o("TypeSpec")(r).where({match:function(n){var e;return e=n.value,function(n){return n===e}},show:function(n){var e;return e=n.value,"T.Value("+json(e)+")"},samples:function(n){var e;return e=n.value,repeat(e)},htmlInline:function(n){var e;return e=n.value,"<span class='type-maker unwrapped'>Value "+json(e)+"</span>"}}),e.exports={Value:r}},{"../typeclass":35,"coffee-mate/global":10}],34:[function(n,e,t){var r,o,c,u,a,s,i,l,p,f,m,h,d,y,v,g,w,b,k,S,T,x,B,E,I,j,O,N,A,D,C,M,F,L,P,z,q,U,_,G,R,H,V,W,$,Q,J,Y,K,X,Z;W=n("./typespec"),V=W.match,Y=W.show,Q=W.sample,J=W.samples,K=W.showHtml,R=W.htmlInline,G=W.htmlBlock,Z=".typespec {\n	font-family: monospace;\n	font-size: 16px;\n	border-width: 4px;\n	border-color: rgba(165, 230, 229, 0.24);\n	border-style: ridge;\n}\n.typespec>div, .typespec>pre {\n	margin: 0.6em\n}\n.typespec .unfolded>.fold, .typespec .folded>.unfold {\n	display: none\n}\n.typespec ul {\n	list-style-type: none;\n	padding: 0px;\n	margin: 0px 0px 0px 2em;\n}\n.typespec .meta-field {\n	color: gray;\n}\n.typespec .field-name {\n	font-weight: bold;\n	color: #87BFB8\n}\n.typespec .type-name {\n	color: blue;\n}\n.typespec .spec .type-name {\n	cursor: pointer\n}\n.typespec .type-maker {\n	color: #223497\n}\n.typespec .type-maker.unwrapped>.unwrapped:before {\n	content: '('\n}\n.typespec .type-maker.unwrapped>.unwrapped:after {\n	content: ')'\n}\n.typespec .spliter {\n	color: gray;\n	padding: 0 0.5em\n}\n.typespec .sample pre {\n	margin: 0;\n	color: green;\n	max-height: 20em;\n	overflow: auto;\n}\n.typespec .spec {\n	cursor: default\n}\n.typespec .spec li:hover {\n	transition: 1s;\n	background-color: rgba(140, 150, 255, 0.12)\n}\n.typespec .spec .type-name:hover, .typespec .spec .folded-detail:hover, .typespec .fold>.field-name:hover, .typespec .unfold>.field-name:hover, .typespec .fold>.meta-field:hover, .typespec .unfold>.meta-field:hover {\n	opacity: 0.6\n}",z=function(n){return function(e){return e.find(".unfold").each(function(e,t){return n(t).closest("li,.spec").addClass("unfolded").removeClass("folded")}),e.find(".type-name, .choose").each(function(e,t){return n(t).closest("li").addClass("folded").removeClass("unfolded")}),e.find(".type-name, .folded-detail, .fold>.field-name, .unfold>.field-name, .fold>.meta-field, .unfold>.meta-field").each(function(e,t){var r;return(r=n(t).closest("li,.spec")).length>0?n(t).css({cursor:"pointer"}).click(function(){return r.toggleClass("folded").toggleClass("unfolded")}):void 0})}},X=function(n){return"<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n<style>"+Z+"</style>\n"+K(n)+"\n<script src='http://libs.baidu.com/jquery/1.9.0/jquery.js'></script>\n<script>("+z.toString()+")(jQuery)($('.typespec'))</script>"},H=function(n){return function(e,t,r){return n("head").append("<style>"+r+"</style>"),n(".typespec-hook").each(function(e,r){return n(r).append(t[n(r).attr("it")])}),e(n(".typespec"))}},_=function(n){var e;return e=json(dict(list(map(function(n){var e,t;return e=n[0],t=n[1],[e,K(t)]})(enumerate(n))))),"("+H.toString()+")(jQuery)(("+z+")(jQuery), "+e+", "+json(Z)+")"},e.exports={showPage:X,genRenderCode:_},null===e.parent&&(n("coffee-mate/global"),$=n("./index"),B=$.Number,A=$.String,o=$.Bool,r=$.Any,v=$.Int,x=$.Nat,p=$.Enum,F=$.Value,E=$.Optional,I=$.Promise,C=$.Tree,w=$.Map,M=$.TreeMap,h=$.Fn,T=$.NamedType,N=$.Strict,g=$.Loose,j=$.Select,c=$.Choose,V=$.match,Y=$.show,Q=$.sample,J=$.samples,K=$.showHtml,_=$.genRenderCode,X=$.showPage,D=T({name:"TableName",spec:A,samples:["table1","table2"]}),m=T({name:"FieldName",spec:A,samples:["product_id","sale","amount"]}),u=p(["=","<","<=",">=",">"]),P=[{tableName:D,join:{leftTableName:D,left:m,op:u,right:m}}],l=T({name:"DimensionName",spec:A,samples:["date","product_type","city"]}),k=T({name:"MeasureName",spec:A,samples:["sale","profit","amount"]}),b=T({name:"Measure",spec:N({name:k,aggregator:p(["sum","avg","max","min"])})}),S=T({name:"MemberName",spec:A,samples:["2013","2014","2015"]}),L=T({name:"ValueExpr",spec:A,samples:["sum(sale)"]}),a=T({name:"ConditionExpr",spec:A,samples:["sum(sale) > 100"]}),i=T({name:"DimensionFilter",spec:N({select:[S],match:j({contains:A,startWith:A,endWith:A}),condition:j({limit:N({measure:b,comparator:u,value:B}),expr:a}),top:N({count:B,by:j({measure:b,expr:L})})})}),y=T({name:"InclusionCondition",spec:N({via:[l],positions:[[S]]})}),f=T({name:"ExclusionCondition",spec:N({via:[l],positions:[[S]]})}),O=T({name:"SortCondition",spec:N({asc:o,by:j({measure:b,expr:L}),where:E(a)})}),s={filter:N({dimensions:w(l)(i),measures:[N({measure:b,limit:{minBound:E(B),maxBound:E(B)}})],inclusions:[y],exclusions:[f]}),sort:w(l)(O)},log(function(){return json(Q(P),4)}),log(function(){return Y(s)}),d=T({name:"FooSpec",spec:h(B)(h({x:B,y:B})(I({x:A,y:c([x,A,F("unavailable")])}))),desc:"hello",check:function(n){return n>1}}),U=n("fs"),U.writeFileSync("test.html",X(P)),q={a:d,b:P,c:s,d:m,e:j({x:B,y:A}),f:h(C(v))(g({x:B,y:B}))},U.writeFileSync("test2.js",_(q)))},{"./index":13,"./typespec":36,"coffee-mate/global":10,fs:1}],35:[function(n,e,t){var r,o,c,u;n("coffee-mate/global"),o=function(){var n,e,t,r;return e={},t={},r=function(n){var r,o;return r=null!=t[n]?t[n]:t[n]={},o=null!=e[n]?e[n]:e[n]=[],{hasInstance:function(n){return o.indexOf(n)>=0},where:function(e){var t;return t={},foreach(enumerate(e),function(e){var o,c,u,a;return u=e[0],c=e[1],a=null!=r[u]?r[u]:r[u]=[],o=function(e){var r,o,s,i,l;for(o=0,s=a.length;s>o;o++)if(i=a[o],l=i[0],r=i[1],e.constructor===l)return r(e);if(null!=c)return c.call(t,e);throw TypeError("no instance of "+n+"(via "+u+"("+e+")) for "+(e.constructor.name||"UnnamedType"))},t[u]=o}),t}}},n=function(n){var r,o;return r=null!=t[n]?t[n]:t[n]={},o=null!=e[n]?e[n]:e[n]=[],function(n){return o.indexOf(n)<0&&o.push(n),{where:function(e){return foreach(enumerate(e),function(e){var t,o;return o=e[0],t=e[1],(null!=r[o]?r[o]:r[o]=[]).push([n,t])})}}}},{typeclass:r,instance:n}}(),u=o.typeclass,r=o.instance,e.exports={typeclass:u,instance:r},null===e.parent&&(c=u("Show").where({show:function(){return str(this.zero())},zero:function(){return 0}}).show,r("Show")(String).where({show:function(n){return json(n)}}),r("Show")(Number).where({}),log(function(){return c("hello")}),log(function(){return c(1)}),log(function(){return u("Show").hasInstance(String)}),log(function(){return u("Show").hasInstance(Number)}),log(function(){return u("Show").hasInstance(Object)}))},{"coffee-mate/global":10}],36:[function(n,e,t){var r,o;n("coffee-mate/global"),o=n("./typeclass").typeclass,r=o("TypeSpec").where({match:null,withSpec:function(n){return function(e){if(this.match(n)(e))return e;throw TypeError({expected:this.show(n),got:e})}},show:function(n){return n.name||"UnnamedType"},samples:null,sample:function(n){return head(this.samples(n))},htmlInline:function(n){return"<span class='type-maker'>"+this.show(n)+"</span>"},htmlBlock:function(n){return null},showHtml:function(n){var e,t;return t=function(e){return function(){var t,r,o;return t=e.htmlBlock(n),("<div class='spec'>\n<div class='"+(null!=t?"fold":"inline")+"'><span class='meta-field'>spec</span>: "+e.htmlInline(n)+"</div>\n"+(null!=t?"<div class='unfold'>\n	<span class='meta-field'>spec</span>: "+t.head+"\n	"+(null!=(r=t.body)?r:"")+"\n	"+(null!=(o=t.tail)?o:"")+"\n</div>":"")+"\n</div>").replace(/(\t|\n)/g,"")}}(this)(),e=function(e){return function(){var t;return t=json(e.sample(n),4),"<div class='sample'>\n<span class='meta-field'>sample</span>: "+(/\n/.test(t)?"<pre class='code'>"+t+"</pre>":"<span class='code'>"+t+"</span>")+"\n</div>"}}(this)(),"<div class='typespec'>"+(t+e)+"</div>"}}),e.exports=r},{"./typeclass":35,"coffee-mate/global":10}]},{},[13])(13)});
//# sourceMappingURL=index.min.js.map