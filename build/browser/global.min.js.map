{"version":3,"sources":["/source/node_modules/browserify/node_modules/browser-pack/_prelude.js","global.js","/source/node_modules/browserify/node_modules/process/browser.js","/source/node_modules/coffee-mate/build/nodejs/basics.js","/source/node_modules/coffee-mate/build/nodejs/coffee-mate.js","/source/node_modules/coffee-mate/build/nodejs/convertors.js","/source/node_modules/coffee-mate/build/nodejs/funny.js","/source/node_modules/coffee-mate/build/nodejs/global.js","/source/node_modules/coffee-mate/build/nodejs/url-helpers.js","/source/node_modules/coffee-mate/build/nodejs/utils.js","/source/node_modules/coffee-mate/global.js","/source/node_modules/coffee-mate/node_modules/lazy-list/build/nodejs/lazy.js","/source/src/global.coffee","/source/src/helpers.coffee","/source/src/index.coffee","/source/src/prim/Any.coffee","/source/src/prim/any.coffee","/source/src/prim/array.coffee","/source/src/prim/bool.coffee","/source/src/prim/choose.coffee","/source/src/prim/constructor.coffee","/source/src/prim/enum.coffee","/source/src/prim/fn.coffee","/source/src/prim/int.coffee","/source/src/prim/loose.coffee","/source/src/prim/map.coffee","/source/src/prim/namedtype.coffee","/source/src/prim/nat.coffee","/source/src/prim/object.coffee","/source/src/prim/oneof.coffee","/source/src/prim/optional.coffee","/source/src/prim/promise.coffee","/source/src/prim/select.coffee","/source/src/prim/strict.coffee","/source/src/prim/tree.coffee","/source/src/prim/treemap.coffee","/source/src/prim/value.coffee","/source/src/render.coffee","/source/src/typeclass.coffee","/source/src/typespec.coffee"],"names":["f","exports","module","define","amd","g","window","global","self","this","__lazy","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,2,"cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","setTimeout","len","run","clearTimeout","Item","fun","array","noop","process","nextTick","args","Array","arguments","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask",3,"this_module","slice","arg","abs","accept_multi_or_array","best","ceil","combine","curry2","curry3","equal","flip","floor","foldl","greaterEqual","greaterThan","lessEqual","lessThan","minus","notEqual","pack","pluck","plus","precise","seek","sum","uncurry2","uncurry3","unpack","x","y","b","c","arr","attr","d","it","Math","parseFloat","toPrecision","first","lazy-list",4,"basics","convertors","funny","lazy","url_helpers","utils","extend","./basics","./convertors","./funny","./url-helpers","./utils",5,"bool","chr","float","hex","int","json","obj","ord","str","base","parseInt","test","toString","charCodeAt","String","fromCharCode","indent","JSON","stringify","parse",6,"Y","church","fix","memoFix","memoize","iter","get_key","cache","cached","key","ff",7,"k","mate","v","./coffee-mate",8,"uri_decoder","uri_encoder","component_packer","results","encodeURIComponent","join","component_unpacker","j","ref","ref1","ref2","match","decodeURIComponent",9,"assert","assertEq","assertEqOn","copy","deepcopy","dict","function_literal","log","overload","securely","time_now","update","expr","replace","Date","getTime","dye","factory","got","histories","log_label","cavailable","palette","NODE_DISABLE_COLORS","bold","red","green","yellow","blue","bold_grey","color","flag_palette","op_flag","#","I","E","W","op","toUpperCase","flag","prefix","ball","eval_result","start_time","time_used","console","shift","info","warn","error","err","msg","Function","_error","lv","rv","flv","frv","pairs","cp","root","dep","depth","Infinity","defaults","updates","_d","fallback","_process",10,"./build/nodejs/global.js",11,"Iterator","LazyList","Symbol","all","any","brk","cartProd","cons","drop","dropWhile","enumerate","filter","foreach","fromList","groupOn","head","iterate","last","list","map","maximum","maximumOn","minimum","minimumOn","naturals","nil","partition","permutations","primes","randoms","range","repeat","reverse","scanl","sort","sortOn","streak","streak2","take","takeWhile","zip","zipWith","iterator","next","value","done","stop","start","step","p","xs","constructor","keys","Object","init","st","hash","normal","salt","PI","sin","seed","opts","rg","next_permutation","m","ls","ok","finished","prevx","buf","fa","fb","memo","xss","xs_iter","len1","iters","apply_vector","inc_vector","limits","len_minus_1","vec","space","get_value","inc","results1","message","xs.constructor","better","all_not","arg1","callback","fruit","defineProperties","break","writable","configurable","enumerable",12,"index","./index",13,"expandBlockHead","genBlockBody","htmlBlock","htmlInline","isTypeSpec","isTypeSpecDict","typeclass","spec","block","body","tail","bodyClass","keyClass","specdict","lis","hasInstance","./typeclass","./typespec",14,"Any","Bool","Choose","Comparator","Enum","FieldName","Fn","Int","Loose","Map","NamedType","Nat","OneOf","Optional","Promise","Select","Strict","TableName","Tree","TreeMap","UserInfo","UserName","Value","WideTable","genRenderCode","instance","sample","samples","show","showHtml","showPage","unmatchMessages","Number","parent","position","age","tableName","leftTableName","left","right","./prim/any","./prim/array","./prim/bool","./prim/choose","./prim/constructor","./prim/enum","./prim/fn","./prim/int","./prim/loose","./prim/map","./prim/namedtype","./prim/nat","./prim/object","./prim/oneof","./prim/optional","./prim/promise","./prim/select","./prim/strict","./prim/tree","./prim/treemap","./prim/value","./render","coffee-mate/global",15,"where","constraints","label","../typeclass",16,17,"sub","node","../typespec",18,"Boolean",19,"specs","../helpers",20,"shape",21,"indexOf","item","enum","vs",22,"ispec","ospec","withSpec","TypeError","expected","[input]","[output]","input","output",23,"isNaN",24,25,"kspec","vspec","ks","mk","mv",26,"check","desc","checkPart","descriptionPart","namePart","samplePart","specPart","ref3",27,28,"specdictChecked",29,"shaped","matchedShapes","_","sh","matchedCount",30,31,"then",32,33,34,"labelSpec","rootLabel","subForest","s0","s1",35,"tag","leaf",36,37,"ConditionExpr","Context","DimensionFilter","DimensionName","ExclusionCondition","FooSpec","InclusionCondition","Measure","MeasureName","MemberName","SortCondition","ValueExpr","bind","entries","fs","style","$","rootSelection","find","each","elm","closest","addClass","removeClass","css","cursor","click","toggleClass","append","aggregator","select","contains","startWith","endWith","condition","limit","measure","comparator","top","count","by","via","positions","asc","dimensions","measures","minBound","maxBound","inclusions","exclusions","writeFileSync",38,"instances","reg","classname","cls","ins","funcs","rst_funcs","funcdefault","funcname","funcbody","type","funcdict","zero",39,"TypeSpec","_this","rec","rst","./prim/Any"],"mappings":"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","file":"global.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.__lazy = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\n},{}],2:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            currentQueue[queueIndex].run();\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],3:[function(require,module,exports){\n(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function(arg) {\n    var abs, accept_multi_or_array, best, ceil, combine, curry2, curry3, equal, flip, floor, foldl, greaterEqual, greaterThan, lessEqual, lessThan, minus, notEqual, pack, pluck, plus, precise, seek, sum, uncurry2, uncurry3, unpack;\n    best = arg.best, foldl = arg.foldl;\n    flip = function(f) {\n      return function(x) {\n        return function(y) {\n          return f(y)(x);\n        };\n      };\n    };\n    combine = function(f) {\n      return function(g) {\n        return function(x) {\n          return f(g(x));\n        };\n      };\n    };\n    curry2 = function(f) {\n      return function(a) {\n        return function(b) {\n          return f(a, b);\n        };\n      };\n    };\n    curry3 = function(f) {\n      return function(a) {\n        return function(b) {\n          return function(c) {\n            return f(a, b, c);\n          };\n        };\n      };\n    };\n    uncurry2 = function(f) {\n      return function(a, b) {\n        return f(a)(b);\n      };\n    };\n    uncurry3 = function(f) {\n      return function(a, b, c) {\n        return f(a)(b)(c);\n      };\n    };\n    pack = function(f) {\n      return function(arr) {\n        return f.apply(null, arr);\n      };\n    };\n    unpack = function(f) {\n      return function() {\n        var arr;\n        arr = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return f(arr);\n      };\n    };\n    seek = function(arr) {\n      return function(i) {\n        return arr[i];\n      };\n    };\n    pluck = function(attr) {\n      return function(d) {\n        return d[attr];\n      };\n    };\n    equal = function(it) {\n      return function(x) {\n        return x === it;\n      };\n    };\n    notEqual = function(it) {\n      return function(x) {\n        return x !== it;\n      };\n    };\n    lessThan = function(it) {\n      return function(x) {\n        return x < it;\n      };\n    };\n    greaterThan = function(it) {\n      return function(x) {\n        return x > it;\n      };\n    };\n    lessEqual = function(it) {\n      return function(x) {\n        return x <= it;\n      };\n    };\n    greaterEqual = function(it) {\n      return function(x) {\n        return x >= it;\n      };\n    };\n    plus = function(it) {\n      return function(x) {\n        return x + it;\n      };\n    };\n    minus = function(it) {\n      return function(x) {\n        return x - it;\n      };\n    };\n    abs = Math.abs;\n    floor = Math.floor;\n    ceil = Math.ceil;\n    precise = function(n) {\n      return function(x) {\n        return parseFloat(x.toPrecision(n));\n      };\n    };\n    accept_multi_or_array = function(f) {\n      return function() {\n        var arr;\n        arr = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return f(arr.length === 1 && arr.first instanceof Array ? arr.first : arr);\n      };\n    };\n    sum = foldl((function(a, b) {\n      return a + b;\n    }), 0);\n    return {\n      flip: flip,\n      combine: combine,\n      curry2: curry2,\n      curry3: curry3,\n      uncurry2: uncurry2,\n      uncurry3: uncurry3,\n      pack: pack,\n      unpack: unpack,\n      seek: seek,\n      pluck: pluck,\n      equal: equal,\n      notEqual: notEqual,\n      lessThan: lessThan,\n      lessEqual: lessEqual,\n      greaterThan: greaterThan,\n      greaterEqual: greaterEqual,\n      plus: plus,\n      minus: minus,\n      abs: abs,\n      floor: floor,\n      ceil: ceil,\n      precise: precise,\n      sum: sum\n    };\n  };\n\n  module.exports = this_module({\n    best: require('lazy-list').best,\n    foldl: require('lazy-list').foldl\n  });\n\n}).call(this);\n\n\n},{\"lazy-list\":11}],4:[function(require,module,exports){\n(function() {\n  var basics, convertors, funny, lazy, url_helpers, utils;\n\n  utils = require('./utils');\n\n  basics = require('./basics');\n\n  lazy = require('lazy-list');\n\n  funny = require('./funny');\n\n  convertors = require('./convertors');\n\n  url_helpers = require('./url-helpers');\n\n  module.exports = utils.extend({})(utils, basics, lazy, funny, convertors, url_helpers);\n\n}).call(this);\n\n\n},{\"./basics\":3,\"./convertors\":5,\"./funny\":6,\"./url-helpers\":8,\"./utils\":9,\"lazy-list\":11}],5:[function(require,module,exports){\n(function() {\n  var this_module;\n\n  this_module = function() {\n    var bool, chr, float, hex, int, json, obj, ord, str;\n    int = function(s, base) {\n      var r;\n      if (typeof s === 'string') {\n        r = parseInt(s, base);\n        if (!((s.slice != null) && r === parseInt(s.slice(0, -1), base))) {\n          return r;\n        } else {\n          return null;\n        }\n      } else {\n        return parseInt(0 + s);\n      }\n    };\n    float = function(s) {\n      if (/^-?[0-9]*(\\.[0-9]+)?([eE]-?[0-9]+)?$/.test(s)) {\n        return parseFloat(s);\n      } else {\n        return null;\n      }\n    };\n    str = function(x, base) {\n      return x.toString(base);\n    };\n    bool = function(x) {\n      if (x === true || x === false) {\n        return x;\n      } else {\n        return null;\n      }\n    };\n    hex = function(x) {\n      return x.toString(16);\n    };\n    ord = function(c) {\n      return c.charCodeAt();\n    };\n    chr = function(x) {\n      return String.fromCharCode(x);\n    };\n    json = function(it, indent) {\n      return JSON.stringify(it, null, indent);\n    };\n    obj = function(s) {\n      return JSON.parse(s);\n    };\n    return {\n      int: int,\n      float: float,\n      bool: bool,\n      str: str,\n      hex: hex,\n      ord: ord,\n      chr: chr,\n      json: json,\n      obj: obj\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n\n},{}],6:[function(require,module,exports){\n(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function() {\n    var Y, church, fix, memoFix, memoize;\n    church = function(n) {\n      var iter;\n      iter = function(f, n, r) {\n        if (n === 0) {\n          return r;\n        } else {\n          return iter(f, n - 1, f(r));\n        }\n      };\n      return function(f) {\n        return function(x) {\n          return iter(f, n + 0, x);\n        };\n      };\n    };\n    Y = function(f) {\n      return (function(x) {\n        return x(x);\n      })((function(x) {\n        return f((function(y) {\n          return (x(x))(y);\n        }));\n      }));\n    };\n    memoize = function(f, get_key) {\n      var cache;\n      if (get_key == null) {\n        get_key = (function() {\n          var args;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return json(args);\n        });\n      }\n      cache = {};\n      return function() {\n        var args, cached, key, r;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        key = get_key.apply(null, args);\n        cached = cache[key];\n        if (cached != null) {\n          return cached;\n        } else {\n          r = f.apply(null, args);\n          cache[key] = r;\n          return r;\n        }\n      };\n    };\n    fix = Y;\n    memoFix = function(ff) {\n      var f;\n      f = memoize(ff((function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return f.apply(null, args);\n      })));\n      return f;\n    };\n    return {\n      church: church,\n      Y: Y,\n      memoize: memoize,\n      fix: fix,\n      memoFix: memoFix\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n\n},{}],7:[function(require,module,exports){\n(function (global){\n(function() {\n  var k, mate, v;\n\n  mate = require('./coffee-mate');\n\n  for (k in mate) {\n    v = mate[k];\n    global[k] = v;\n  }\n\n}).call(this);\n\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./coffee-mate\":4}],8:[function(require,module,exports){\n(function() {\n  var this_module;\n\n  this_module = function() {\n    var uri_decoder, uri_encoder;\n    uri_encoder = function(component_packer) {\n      if (component_packer == null) {\n        component_packer = str;\n      }\n      return function(obj) {\n        var k, v;\n        return ((function() {\n          var results;\n          results = [];\n          for (k in obj) {\n            v = obj[k];\n            if (v !== void 0) {\n              results.push((encodeURIComponent(k)) + \"=\" + (encodeURIComponent(component_packer(v))));\n            }\n          }\n          return results;\n        })()).join('&');\n      };\n    };\n    uri_decoder = function(component_unpacker) {\n      if (component_unpacker == null) {\n        component_unpacker = (function(s) {\n          return s;\n        });\n      }\n      return function(str) {\n        var d, i, j, k, len, ref, ref1, ref2, s, v;\n        d = {};\n        ref1 = (ref = str.match(/[^?=&]+=[^&]*/g)) != null ? ref : [];\n        for (i = 0, len = ref1.length; i < len; i++) {\n          s = ref1[i];\n          ref2 = s.match(/([^=]+)=(.*)/), j = ref2.length - 2, k = ref2[j++], v = ref2[j++];\n          d[decodeURIComponent(k)] = component_unpacker(decodeURIComponent(v));\n        }\n        return d;\n      };\n    };\n    return {\n      uri_encoder: uri_encoder,\n      uri_decoder: uri_decoder\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n\n},{}],9:[function(require,module,exports){\n(function (process){\n(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function() {\n    var assert, assertEq, assertEqOn, copy, deepcopy, dict, extend, function_literal, log, overload, ref, securely, time_now, update;\n    function_literal = function(f) {\n      var expr;\n      expr = f.toString().replace(/^\\s*function\\s?\\(\\s?\\)\\s?{\\s*return\\s*([^]*?);?\\s*}$/, '$1');\n      if (expr.length <= 100) {\n        expr = expr.replace(/[\\r\\n]{1,2}\\s*/g, '');\n      }\n      return expr;\n    };\n    time_now = function() {\n      return (new Date).getTime();\n    };\n    log = (function() {\n      var dye, factory, got, histories, log_label;\n      dye = (function() {\n        var cavailable, palette;\n        cavailable = (typeof window === \"undefined\" || window === null) && (typeof process !== \"undefined\" && process !== null) && !process.env.NODE_DISABLE_COLORS;\n        palette = {\n          bold: '\\x1B[0;1m',\n          red: '\\x1B[0;31m',\n          green: '\\x1B[0;32m',\n          yellow: '\\x1B[0;33m',\n          blue: '\\x1B[0;34m',\n          bold_grey: '\\x1B[1;30m'\n        };\n        if (!cavailable) {\n          return function(color) {\n            return function(s) {\n              return s;\n            };\n          };\n        } else {\n          return function(color) {\n            return function(s) {\n              return \"\" + palette[color] + s + '\\x1B[0m';\n            };\n          };\n        }\n      })();\n      log_label = (function() {\n        var flag_palette, op_flag;\n        flag_palette = {\n          '#': 'bold_grey',\n          'I': 'green',\n          'E': 'red',\n          'W': 'yellow'\n        };\n        op_flag = function(op) {\n          if (op === 'log') {\n            return '#';\n          } else {\n            return op[0].toUpperCase();\n          }\n        };\n        return function(op) {\n          var flag;\n          flag = op_flag(op);\n          return dye(flag_palette[flag])(flag);\n        };\n      })();\n      histories = [];\n      factory = function(op) {\n        var prefix;\n        prefix = \"\" + (dye('bold_grey')('#')) + (log_label(op));\n        return function() {\n          var args, ball, eval_result, expr, f, i, len, start_time, time_used;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          ball = [];\n          for (i = 0, len = args.length; i < len; i++) {\n            f = args[i];\n            if (typeof f === 'function') {\n              expr = function_literal(f);\n              start_time = time_now();\n              eval_result = f();\n              time_used = time_now() - start_time;\n              ball.push(prefix + \" \" + (dye('green')(expr)) + \" \" + (dye('bold_grey')('==>')), eval_result);\n              if (time_used > 0) {\n                ball.push(dye('yellow')(\"[\" + time_used + \"ms]\"));\n              }\n            } else {\n              ball.push(\"\" + prefix, f);\n            }\n          }\n          console[op].apply(console, ball);\n          histories.push(ball);\n          if (histories.length >= 10) {\n            histories.shift();\n          }\n          return null;\n        };\n      };\n      got = factory('log');\n      got.histories = histories;\n      got.info = factory('info');\n      got.warn = factory('warn');\n      got.error = got.err = factory('error');\n      return got;\n    })();\n    assert = function(f, msg) {\n      var e, r, ref;\n      if (!(f instanceof Function)) {\n        ref = [msg, f], f = ref[0], msg = ref[1];\n      }\n      try {\n        r = f();\n      } catch (_error) {\n        e = _error;\n        throw Error(\"Assertion \" + (msg != null ? msg : function_literal(f)) + \" Unknown:\\n\" + e);\n      }\n      if (!r) {\n        throw Error(\"Assertion \" + (msg != null ? msg : function_literal(f)) + \" Failed!\");\n      }\n    };\n    assertEq = function(l, r) {\n      var e, lv, rv;\n      try {\n        lv = l();\n        rv = r();\n      } catch (_error) {\n        e = _error;\n        throw Error(\"Equation Between \" + (function_literal(l)) + \" And \" + (function_literal(r)) + \" Unknown:\\n\" + e);\n      }\n      if (lv !== rv) {\n        throw Error(\"Equation Failed:\\n\\t\" + (function_literal(l)) + \" IS \" + lv + \" BUT\\n\\t\" + (function_literal(r)) + \" IS \" + rv + \".\");\n      }\n    };\n    assertEqOn = function(f) {\n      return function(l, r) {\n        var e, flv, frv, lv, rv;\n        try {\n          lv = l();\n          rv = r();\n          flv = f(lv);\n          frv = f(rv);\n        } catch (_error) {\n          e = _error;\n          throw Error(\"MAPPED Equation Between \" + (function_literal(l)) + \" And \" + (function_literal(r)) + \" Unknown:\\n\" + e);\n        }\n        if (flv !== frv) {\n          throw Error(\"Equation Failed:\\n\\t\" + (function_literal(l)) + \" IS \" + lv + \" AND MAPPED TO \" + flv + \" BUT\\n\\t\" + (function_literal(r)) + \" IS \" + rv + \" AND MAPPED TO \" + frv + \".\");\n        }\n      };\n    };\n    securely = function(f) {\n      return function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        args = deepcopy(args);\n        return f.apply(null, args);\n      };\n    };\n    dict = function(pairs) {\n      var d, i, k, len, ref, v;\n      d = {};\n      for (i = 0, len = pairs.length; i < len; i++) {\n        ref = pairs[i], k = ref[0], v = ref[1];\n        d[k] = v;\n      }\n      return d;\n    };\n    ref = (function() {\n      var cp;\n      cp = function(root, dep) {\n        var k, r, v;\n        if (dep === 0 || (root == null) || typeof root !== 'object') {\n          return root;\n        }\n        if (root instanceof Array) {\n          r = (function() {\n            var i, len, results;\n            results = [];\n            for (i = 0, len = root.length; i < len; i++) {\n              v = root[i];\n              results.push(cp(v, dep - 1));\n            }\n            return results;\n          })();\n        } else {\n          r = {};\n          for (k in root) {\n            v = root[k];\n            r[k] = cp(v, dep - 1);\n          }\n        }\n        return r;\n      };\n      return {\n        copy: function(obj, depth) {\n          if (depth == null) {\n            depth = 1;\n          }\n          return cp(obj, depth);\n        },\n        deepcopy: function(obj, depth) {\n          if (depth == null) {\n            depth = Infinity;\n          }\n          return cp(obj, depth);\n        }\n      };\n    })(), copy = ref.copy, deepcopy = ref.deepcopy;\n    extend = function(base) {\n      return function() {\n        var d, defaults, i, k, len, v;\n        defaults = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        for (i = 0, len = defaults.length; i < len; i++) {\n          d = defaults[i];\n          if (d != null) {\n            for (k in d) {\n              v = d[k];\n              if (base[k] == null) {\n                base[k] = v;\n              }\n            }\n          }\n        }\n        return base;\n      };\n    };\n    update = function(base) {\n      return function() {\n        var d, i, k, len, updates, v;\n        updates = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        for (i = 0, len = updates.length; i < len; i++) {\n          d = updates[i];\n          if (d != null) {\n            for (k in d) {\n              v = d[k];\n              base[k] = v;\n            }\n          }\n        }\n        return base;\n      };\n    };\n    overload = function(_d) {\n      var d, fallback;\n      d = copy(_d);\n      fallback = d['_'];\n      if (fallback != null) {\n        return function() {\n          var args, ref1;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return ((ref1 = d[args.length]) != null ? ref1 : fallback).apply(null, args);\n        };\n      } else {\n        return function() {\n          var args, f;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          f = d[args.length];\n          if (f == null) {\n            throw Error(\"This Function Can't Accept \" + args.length + \" Args\");\n          } else {\n            return f.apply(null, args);\n          }\n        };\n      }\n    };\n    return {\n      log: log,\n      assert: assert,\n      assertEq: assertEq,\n      assertEqOn: assertEqOn,\n      dict: dict,\n      copy: copy,\n      deepcopy: deepcopy,\n      securely: securely,\n      extend: extend,\n      update: update,\n      overload: overload\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n\n}).call(this,require('_process'))\n\n},{\"_process\":2}],10:[function(require,module,exports){\nrequire('./build/nodejs/global.js');\n\n},{\"./build/nodejs/global.js\":7}],11:[function(require,module,exports){\n(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function(arg) {\n    var Iterator, LazyList, Symbol, all, any, best, brk, cartProd, concat, cons, drop, dropWhile, enumerate, filter, foldl, foreach, fromList, groupOn, head, iterate, last, lazy, length, list, map, maximum, maximumOn, minimum, minimumOn, naturals, nil, partition, permutations, primes, randoms, range, ref, repeat, reverse, scanl, sort, sortOn, streak, streak2, take, takeWhile, zip, zipWith;\n    Symbol = arg.Symbol;\n    LazyList = function(f) {\n      f[Symbol.iterator] = function() {\n        return f();\n      };\n      f.toString = function() {\n        return \"LazyList\";\n      };\n      return f;\n    };\n    nil = LazyList(function() {\n      return nil;\n    });\n    nil.toString = function() {\n      return 'nil';\n    };\n    Iterator = function(it) {\n      it.next = function() {\n        var r;\n        r = it();\n        return {\n          value: r,\n          done: r === nil\n        };\n      };\n      it.toString = function() {\n        return \"Iterator\";\n      };\n      return it;\n    };\n    naturals = LazyList(function() {\n      var i;\n      i = -1;\n      return Iterator(function() {\n        return ++i;\n      });\n    });\n    range = function() {\n      var args;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      if (args.length === 0) {\n        return naturals;\n      } else if (args.length === 1) {\n        return LazyList(function() {\n          var i, stop;\n          stop = args[0];\n          i = -1;\n          return Iterator(function() {\n            if (++i < stop) {\n              return i;\n            } else {\n              return nil;\n            }\n          });\n        });\n      } else if (args.length === 2) {\n        return LazyList(function() {\n          var i, start, stop;\n          start = args[0], stop = args[1];\n          if (start < stop) {\n            i = start - 1;\n            return Iterator(function() {\n              if (++i < stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          } else {\n            i = start + 1;\n            return Iterator(function() {\n              if (--i > stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          }\n        });\n      } else {\n        return LazyList(function() {\n          var i, start, step, stop;\n          start = args[0], stop = args[1], step = args[2];\n          if (stop !== start && (stop - start) * step < 0) {\n            throw 'ERR IN range(): YOU ARE CREATING AN UNLIMITTED RANGE';\n          }\n          i = start - step;\n          if (start < stop) {\n            return Iterator(function() {\n              if ((i += step) < stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          } else {\n            return Iterator(function() {\n              if ((i += step) > stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          }\n        });\n      }\n    };\n    primes = LazyList(function() {\n      return filter(function(x) {\n        return all(function(p) {\n          return x % p !== 0;\n        })(takeWhile(function(p) {\n          return p * p <= x;\n        })(range(2, Infinity)));\n      })(range(2, Infinity))();\n    });\n    lazy = function(xs) {\n      var ref;\n      if (typeof xs === 'function') {\n        if (xs[Symbol.iterator] != null) {\n          return xs;\n        } else {\n          return LazyList(xs);\n        }\n      } else if ((ref = xs.constructor) === Array || ref === String) {\n        return LazyList(function() {\n          var i;\n          i = -1;\n          return Iterator(function() {\n            if ((++i) < xs.length) {\n              return xs[i];\n            } else {\n              return nil;\n            }\n          });\n        });\n      } else if (xs[Symbol.iterator] != null) {\n        return LazyList(function() {\n          var it;\n          it = xs[Symbol.iterator]();\n          return Iterator(function() {\n            var r;\n            r = it.next();\n            if (r.done) {\n              return nil;\n            } else {\n              return r.value;\n            }\n          });\n        });\n      } else {\n        throw Error('lazy(xs): xs is neither Array nor Iterable');\n      }\n    };\n    enumerate = function(it) {\n      if ((it[Symbol.iterator] != null) || it instanceof Array) {\n        return zip(naturals, it);\n      } else {\n        return LazyList(function() {\n          var i, keys;\n          keys = Object.keys(it);\n          i = -1;\n          return Iterator(function() {\n            var k;\n            if (++i < keys.length) {\n              return [(k = keys[i]), it[k]];\n            } else {\n              return nil;\n            }\n          });\n        });\n      }\n    };\n    repeat = function(x) {\n      return LazyList(function() {\n        return Iterator(function() {\n          return x;\n        });\n      });\n    };\n    iterate = function(next, init) {\n      return LazyList(function() {\n        var st;\n        st = init;\n        return Iterator(function() {\n          var r;\n          r = st;\n          st = next(st);\n          return r;\n        });\n      });\n    };\n    randoms = (function() {\n      var hash, normal, salt;\n      salt = Math.PI / 3.0;\n      hash = function(x) {\n        x = Math.sin(x + salt) * 1e4;\n        return x - Math.floor(x);\n      };\n      normal = function(seed) {\n        return iterate(hash, hash(seed));\n      };\n      return function(opts) {\n        var k, ref, ref1, rg, s, seed;\n        if (opts == null) {\n          return normal(0);\n        } else if (typeof opts === 'number') {\n          return normal(opts);\n        } else {\n          seed = (ref = opts.seed) != null ? ref : 0;\n          rg = opts.range;\n          if (rg != null) {\n            if (typeof rg === 'number') {\n              return map(function(x) {\n                return Math.floor(x * rg);\n              })(normal(seed));\n            } else {\n              ref1 = [rg[0], rg[1] - rg[0] + 1], s = ref1[0], k = ref1[1];\n              return map(function(x) {\n                return s + Math.floor(x * k);\n              })(normal(seed));\n            }\n          } else {\n            return normal(seed);\n          }\n        }\n      };\n    })();\n    permutations = (function() {\n      var next_permutation;\n      next_permutation = function(x) {\n        var l, m, r, ref, ref1;\n        x = x.slice(0);\n        l = x.length - 1;\n        while (l >= 1 && x[l] <= x[l - 1]) {\n          --l;\n        }\n        if (l !== 0) {\n          m = x.length - 1;\n          while (m > l - 1 && x[m] <= x[l - 1]) {\n            --m;\n          }\n          ref = [x[l - 1], x[m]], x[m] = ref[0], x[l - 1] = ref[1];\n        }\n        r = x.length - 1;\n        while (l < r) {\n          ref1 = [x[r], x[l]], x[l] = ref1[0], x[r] = ref1[1];\n          ++l;\n          --r;\n        }\n        return x;\n      };\n      return function(xs) {\n        var arr;\n        arr = list(xs);\n        if (arr.length === 0) {\n          return nil;\n        } else {\n          return cons(arr.slice(0))(takeWhile(function(ls) {\n            return json(ls) !== json(arr);\n          })(drop(1)(iterate(next_permutation, arr))));\n        }\n      };\n    })();\n    take = function(n) {\n      return function(xs) {\n        return LazyList(function() {\n          var c, iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          c = -1;\n          return Iterator(function() {\n            if (++c < n) {\n              return iter();\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    };\n    takeWhile = function(ok) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var x;\n            if ((x = iter()) !== nil && ok(x)) {\n              return x;\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    };\n    drop = function(n) {\n      return function(xs) {\n        return LazyList(function() {\n          var finished, i, iter, j, ref;\n          iter = lazy(xs)[Symbol.iterator]();\n          finished = false;\n          for (i = j = 0, ref = n; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n            finished || (finished = iter() === nil);\n            if (finished) {\n              break;\n            }\n          }\n          if (finished) {\n            return function() {\n              return nil;\n            };\n          } else {\n            return iter;\n          }\n        });\n      };\n    };\n    dropWhile = function(ok) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter, x;\n          iter = lazy(xs)[Symbol.iterator]();\n          while (ok(x = iter()) && x !== nil) {\n            null;\n          }\n          return Iterator(function() {\n            var prevx, ref;\n            ref = [x, iter()], prevx = ref[0], x = ref[1];\n            return prevx;\n          });\n        });\n      };\n    };\n    cons = function(x) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = null;\n          return Iterator(function() {\n            if (iter === null) {\n              iter = lazy(xs)[Symbol.iterator]();\n              return x;\n            } else {\n              return iter();\n            }\n          });\n        });\n      };\n    };\n    map = function(f) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var x;\n            if ((x = iter()) !== nil) {\n              return f(x);\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    };\n    filter = function(ok) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var x;\n            while ((x = iter()) !== nil && !ok(x)) {\n              null;\n            }\n            return x;\n          });\n        });\n      };\n    };\n    scanl = function(f, r) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var got, x;\n            got = r;\n            r = (x = iter()) !== nil ? f(r, x) : nil;\n            return got;\n          });\n        });\n      };\n    };\n    streak = function(n) {\n      if (n < 1) {\n        return nil;\n      } else {\n        return function(xs) {\n          return drop(n - 1)(LazyList(function() {\n            var buf, iter;\n            iter = lazy(xs)[Symbol.iterator]();\n            buf = [];\n            return Iterator(function() {\n              var x;\n              if ((x = iter()) === nil) {\n                return nil;\n              }\n              buf.push(x);\n              if (buf.length > n) {\n                buf.shift(1);\n              }\n              return buf.slice(0);\n            });\n          }));\n        };\n      }\n    };\n    streak2 = function(n) {\n      return function(xs) {\n        return streak(n)(concat([xs, take(n - 1)(xs)]));\n      };\n    };\n    reverse = function(xs) {\n      var ref;\n      if ((ref = xs.constructor) === Array || ref === String) {\n        return LazyList(function() {\n          var i;\n          i = xs.length;\n          return Iterator(function() {\n            if ((--i) >= 0) {\n              return xs[i];\n            } else {\n              return nil;\n            }\n          });\n        });\n      } else {\n        return list(lazy(xs)).reverse();\n      }\n    };\n    sort = function(xs) {\n      var arr;\n      arr = list(lazy(xs));\n      return arr.sort(function(a, b) {\n        return (a > b) - (a < b);\n      });\n    };\n    sortOn = function(f) {\n      return function(xs) {\n        var arr;\n        arr = list(lazy(xs));\n        return arr.sort(function(a, b) {\n          var fa, fb;\n          return ((fa = f(a)) > (fb = f(b))) - (fa < fb);\n        });\n      };\n    };\n    groupOn = function(f) {\n      return function(xs) {\n        var k, memo, v;\n        memo = {};\n        foreach(xs, function(x) {\n          var y;\n          y = f(x);\n          if (memo[y] == null) {\n            memo[y] = [];\n          }\n          return memo[y].push(x);\n        });\n        return (function() {\n          var results;\n          results = [];\n          for (k in memo) {\n            v = memo[k];\n            results.push(v);\n          }\n          return results;\n        })();\n      };\n    };\n    partition = function(f) {\n      return function(xs) {\n        var memo;\n        memo = [[], []];\n        foreach(xs, function(x) {\n          var y;\n          y = !f(x) + 0;\n          return memo[y].push(x);\n        });\n        return memo;\n      };\n    };\n    concat = function(xss) {\n      xss = filter(function(x) {\n        var ref;\n        return ((ref = x.constructor) !== Array && ref !== String) || x.length > 0;\n      })(xss);\n      return LazyList(function() {\n        var iter, xs, xs_iter;\n        xs_iter = lazy(xss)[Symbol.iterator]();\n        xs = xs_iter();\n        iter = lazy(xs)[Symbol.iterator]();\n        return Iterator(function() {\n          var x;\n          if ((x = iter()) !== nil) {\n            return x;\n          } else if ((xs = xs_iter()) !== nil) {\n            iter = lazy(xs)[Symbol.iterator]();\n            return iter();\n          } else {\n            return nil;\n          }\n        });\n      });\n    };\n    ref = (function() {\n      var finished, zip, zipWith;\n      finished = function(arr) {\n        var j, len1, x;\n        for (j = 0, len1 = arr.length; j < len1; j++) {\n          x = arr[j];\n          if (x === nil) {\n            return true;\n          }\n        }\n        return false;\n      };\n      zip = function() {\n        var xss;\n        xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return LazyList(function() {\n          var iters, xs;\n          iters = (function() {\n            var j, len1, results;\n            results = [];\n            for (j = 0, len1 = xss.length; j < len1; j++) {\n              xs = xss[j];\n              results.push(lazy(xs)[Symbol.iterator]());\n            }\n            return results;\n          })();\n          return Iterator(function() {\n            var iter, next;\n            next = (function() {\n              var j, len1, results;\n              results = [];\n              for (j = 0, len1 = iters.length; j < len1; j++) {\n                iter = iters[j];\n                results.push(iter());\n              }\n              return results;\n            })();\n            if (finished(next)) {\n              return nil;\n            } else {\n              return next;\n            }\n          });\n        });\n      };\n      zipWith = function(f) {\n        return function() {\n          var xss;\n          xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return LazyList(function() {\n            var iters, xs;\n            iters = (function() {\n              var j, len1, results;\n              results = [];\n              for (j = 0, len1 = xss.length; j < len1; j++) {\n                xs = xss[j];\n                results.push(lazy(xs)[Symbol.iterator]());\n              }\n              return results;\n            })();\n            return Iterator(function() {\n              var iter, next;\n              next = (function() {\n                var j, len1, results;\n                results = [];\n                for (j = 0, len1 = iters.length; j < len1; j++) {\n                  iter = iters[j];\n                  results.push(iter());\n                }\n                return results;\n              })();\n              if (finished(next)) {\n                return nil;\n              } else {\n                return f.apply(null, next);\n              }\n            });\n          });\n        };\n      };\n      return {\n        zip: zip,\n        zipWith: zipWith\n      };\n    })(), zip = ref.zip, zipWith = ref.zipWith;\n    cartProd = (function() {\n      var apply_vector, inc_vector;\n      inc_vector = function(limits) {\n        var len_minus_1;\n        len_minus_1 = limits.length - 1;\n        return function(vec) {\n          var i;\n          i = len_minus_1;\n          while (!(++vec[i] < limits[i] || i <= 0)) {\n            vec[i--] = 0;\n          }\n          return vec;\n        };\n      };\n      apply_vector = function(space) {\n        var len;\n        len = space.length;\n        return function(vec) {\n          var i, j, ref1, results;\n          results = [];\n          for (i = j = 0, ref1 = len; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {\n            results.push(space[i][vec[i]]);\n          }\n          return results;\n        };\n      };\n      return function() {\n        var xss;\n        xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return LazyList(function() {\n          var get_value, i, inc, j, len, len1, limits, v, xs;\n          xss = (function() {\n            var j, len1, results;\n            results = [];\n            for (j = 0, len1 = xss.length; j < len1; j++) {\n              xs = xss[j];\n              results.push(list(xs));\n            }\n            return results;\n          })();\n          limits = (function() {\n            var j, ref1, results;\n            results = [];\n            for (i = j = 0, ref1 = xss.length; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {\n              results.push(xss[i].length);\n            }\n            return results;\n          })();\n          for (j = 0, len1 = limits.length; j < len1; j++) {\n            len = limits[j];\n            if (len === 0) {\n              return nil;\n            }\n          }\n          inc = inc_vector(limits);\n          get_value = apply_vector(xss);\n          v = (function() {\n            var o, ref1, results;\n            results = [];\n            for (i = o = 0, ref1 = xss.length; 0 <= ref1 ? o < ref1 : o > ref1; i = 0 <= ref1 ? ++o : --o) {\n              results.push(0);\n            }\n            return results;\n          })();\n          return Iterator(function() {\n            var r;\n            if (v[0] < limits[0]) {\n              r = get_value(v);\n              inc(v);\n              return r;\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    })();\n    list = function(xs) {\n      var it, n, results, results1, x;\n      if (xs instanceof Array) {\n        return xs;\n      } else if (typeof xs === 'function') {\n        it = xs[Symbol.iterator]();\n        results = [];\n        while ((x = it()) !== nil) {\n          results.push(x);\n        }\n        return results;\n      } else if (xs[Symbol.iterator] != null) {\n        it = lazy(xs)[Symbol.iterator]();\n        results1 = [];\n        while ((x = it()) !== nil) {\n          results1.push(x);\n        }\n        return results1;\n      } else if (typeof xs === 'number') {\n        n = xs;\n        return function(xs) {\n          return list(take(n)(xs));\n        };\n      } else {\n        throw Error({\n          message: 'list(xs): xs is neither Array nor Iterable',\n          info: {\n            \"xs\": xs,\n            \"xs.constructor\": xs != null ? xs.constructor : void 0\n          }\n        });\n      }\n    };\n    head = function(xs) {\n      var iter, r, ref1;\n      if ((ref1 = xs.constructor) === Array || ref1 === String) {\n        if (xs.length > 0) {\n          return xs[0];\n        } else {\n          throw \"Error: head() used on empty list.\";\n        }\n      } else {\n        iter = lazy(xs)[Symbol.iterator]();\n        if ((r = iter()) !== nil) {\n          return r;\n        } else {\n          throw \"Error: head() used on empty list.\";\n        }\n      }\n    };\n    last = function(xs) {\n      var iter, r, ref1, ref2, x;\n      if ((ref1 = xs.constructor) === Array || ref1 === String) {\n        return (ref2 = xs[xs.length - 1]) != null ? ref2 : nil;\n      } else {\n        iter = lazy(xs)[Symbol.iterator]();\n        r = nil;\n        while ((x = iter()) !== nil) {\n          r = x;\n        }\n        return r;\n      }\n    };\n    length = function(xs) {\n      var iter, r, ref1, x;\n      if ((ref1 = xs.constructor) === Array || ref1 === String) {\n        return xs.length;\n      } else {\n        iter = lazy(xs)[Symbol.iterator]();\n        r = 0;\n        while ((x = iter()) !== nil) {\n          ++r;\n        }\n        return r;\n      }\n    };\n    foldl = function(f, init) {\n      return function(xs) {\n        var iter, r, x;\n        r = init;\n        iter = lazy(xs)[Symbol.iterator]();\n        while ((x = iter()) !== nil) {\n          r = f(r, x);\n        }\n        return r;\n      };\n    };\n    best = function(better) {\n      return function(xs) {\n        var it, iter, r;\n        iter = lazy(xs)[Symbol.iterator]();\n        if ((r = iter()) === nil) {\n          return null;\n        }\n        while ((it = iter()) !== nil) {\n          r = better(it, r) ? it : r;\n        }\n        return r;\n      };\n    };\n    maximumOn = function(f) {\n      return best(function(a, b) {\n        return f(a) > f(b);\n      });\n    };\n    minimumOn = function(f) {\n      return best(function(a, b) {\n        return f(a) > f(b);\n      });\n    };\n    maximum = best(function(x, y) {\n      return x > y;\n    });\n    minimum = best(function(x, y) {\n      return x < y;\n    });\n    all = function(f) {\n      if (typeof f !== 'function') {\n        f = (function(x) {\n          return x === f;\n        });\n      }\n      return function(xs) {\n        var iter, x;\n        iter = lazy(xs)[Symbol.iterator]();\n        while ((x = iter()) !== nil) {\n          if (!f(x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n    any = function(f) {\n      var all_not;\n      all_not = all(function(x) {\n        return !f(x);\n      });\n      return function(xs) {\n        return !(all_not(xs));\n      };\n    };\n    fromList = function(pairs) {\n      var r;\n      r = {};\n      foreach(pairs, function(arg1) {\n        var k, v;\n        k = arg1[0], v = arg1[1];\n        return r[k] = v;\n      });\n      return r;\n    };\n    brk = function() {\n      return brk;\n    };\n    brk.toString = function() {\n      return 'foreach.break';\n    };\n    foreach = function(xs, callback, fruit) {\n      var iter, x;\n      iter = lazy(xs)[Symbol.iterator]();\n      while ((x = iter()) !== nil) {\n        if (callback(x, fruit) === brk) {\n          break;\n        }\n      }\n      return fruit;\n    };\n    Object.defineProperties(foreach, {\n      \"break\": {\n        writable: false,\n        configurable: false,\n        enumerable: false,\n        value: brk\n      }\n    });\n    return {\n      nil: nil,\n      LazyList: LazyList,\n      Iterator: Iterator,\n      Symbol: Symbol,\n      naturals: naturals,\n      range: range,\n      primes: primes,\n      lazy: lazy,\n      enumerate: enumerate,\n      repeat: repeat,\n      iterate: iterate,\n      randoms: randoms,\n      permutations: permutations,\n      cons: cons,\n      map: map,\n      filter: filter,\n      take: take,\n      takeWhile: takeWhile,\n      drop: drop,\n      dropWhile: dropWhile,\n      scanl: scanl,\n      streak: streak,\n      streak2: streak2,\n      reverse: reverse,\n      sort: sort,\n      sortOn: sortOn,\n      groupOn: groupOn,\n      partition: partition,\n      concat: concat,\n      zip: zip,\n      zipWith: zipWith,\n      cartProd: cartProd,\n      list: list,\n      head: head,\n      last: last,\n      length: length,\n      foldl: foldl,\n      best: best,\n      maximum: maximum,\n      minimum: minimum,\n      maximumOn: maximumOn,\n      minimumOn: minimumOn,\n      all: all,\n      any: any,\n      fromList: fromList,\n      foreach: foreach\n    };\n  };\n\n  module.exports = this_module({\n    Symbol: typeof Symbol !== \"undefined\" && Symbol !== null ? Symbol : {\n      iterator: 'iter'\n    }\n  });\n\n}).call(this);\n\n\n},{}],12:[function(require,module,exports){\n(function (global){\nvar index, k, v;\n\nindex = require('./index');\n\nfor (k in index) {\n  v = index[k];\n  global[k] = v;\n}\n\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./index\":14}],13:[function(require,module,exports){\nvar expandBlockHead, genBlockBody, htmlBlock, htmlInline, isTypeSpec, isTypeSpecDict, ref, typeclass;\n\nref = require('./typespec'), htmlInline = ref.htmlInline, htmlBlock = ref.htmlBlock;\n\ntypeclass = require('./typeclass').typeclass;\n\nexpandBlockHead = function(f) {\n  return function(spec) {\n    var block;\n    block = htmlBlock(spec);\n    if (block == null) {\n      return null;\n    } else {\n      return {\n        head: f(block.head),\n        body: block.body,\n        tail: block.tail\n      };\n    }\n  };\n};\n\ngenBlockBody = function(bodyClass, keyClass) {\n  return function(specdict) {\n    var lis;\n    lis = map(function(arg) {\n      var block, k, ref1, ref2, v;\n      k = arg[0], v = arg[1];\n      block = htmlBlock(v);\n      return \"<li>\\n<div class='\" + (block != null ? 'fold' : 'inline') + \"'>\\n\t<span class='\" + keyClass + \"'>\" + k + \"</span>: \" + (htmlInline(v)) + \"\\n</div>\\n\" + (block != null ? \"<div class='unfold'>\\n\t<span class='\" + keyClass + \"'>\" + k + \"</span>: \" + block.head + \"\\n\t\" + ((ref1 = block.body) != null ? ref1 : '') + \"\\n\t\" + ((ref2 = block.tail) != null ? ref2 : '') + \"\\n</div>\" : '') + \"\\n</li>\";\n    })(enumerate(specdict));\n    return (\"<ul class='\" + bodyClass + \"'>\") + (list(lis)).join('\\n') + \"</ul>\";\n  };\n};\n\nisTypeSpec = function(spec) {\n  return (spec != null) && typeclass('TypeSpec').hasInstance(spec.constructor);\n};\n\nisTypeSpecDict = function(specdict) {\n  return (specdict != null) && all(function(arg) {\n    var k, v;\n    k = arg[0], v = arg[1];\n    return isTypeSpec(v);\n  })(enumerate(specdict));\n};\n\nmodule.exports = {\n  expandBlockHead: expandBlockHead,\n  genBlockBody: genBlockBody,\n  isTypeSpec: isTypeSpec,\n  isTypeSpecDict: isTypeSpecDict\n};\n\n\n},{\"./typeclass\":38,\"./typespec\":39}],14:[function(require,module,exports){\nvar Any, Bool, Choose, Comparator, Enum, FieldName, Fn, Int, Loose, Map, NamedType, Nat, OneOf, Optional, Promise, Select, Strict, TableName, Tree, TreeMap, UserInfo, UserName, Value, WideTable, genRenderCode, htmlBlock, htmlInline, instance, match, ref, ref1, ref2, sample, samples, show, showHtml, showPage, typeclass, unmatchMessages;\n\nrequire('./prim/object');\n\nrequire('./prim/array');\n\nrequire('./prim/constructor');\n\nBool = require('./prim/bool').Bool;\n\nAny = require('./prim/any').Any;\n\nInt = require('./prim/int').Int;\n\nNat = require('./prim/nat').Nat;\n\nEnum = require('./prim/enum').Enum;\n\nValue = require('./prim/value').Value;\n\nOptional = require('./prim/optional').Optional;\n\nPromise = require('./prim/promise').Promise;\n\nTree = require('./prim/tree').Tree;\n\nMap = require('./prim/map').Map;\n\nTreeMap = require('./prim/treemap').TreeMap;\n\nFn = require('./prim/fn').Fn;\n\nNamedType = require('./prim/namedtype').NamedType;\n\nStrict = require('./prim/strict').Strict;\n\nLoose = require('./prim/loose').Loose;\n\nSelect = require('./prim/select').Select;\n\nChoose = require('./prim/choose').Choose;\n\nOneOf = require('./prim/oneof').OneOf;\n\nref = require('./typespec'), match = ref.match, unmatchMessages = ref.unmatchMessages, show = ref.show, sample = ref.sample, samples = ref.samples, showHtml = ref.showHtml, htmlInline = ref.htmlInline, htmlBlock = ref.htmlBlock;\n\nref1 = require('./render'), genRenderCode = ref1.genRenderCode, showPage = ref1.showPage;\n\nref2 = require('./typeclass'), typeclass = ref2.typeclass, instance = ref2.instance;\n\nmodule.exports = {\n  Number: Number,\n  String: String,\n  Bool: Bool,\n  Any: Any,\n  Int: Int,\n  Nat: Nat,\n  Enum: Enum,\n  Value: Value,\n  Optional: Optional,\n  Promise: Promise,\n  Tree: Tree,\n  Map: Map,\n  TreeMap: TreeMap,\n  Fn: Fn,\n  NamedType: NamedType,\n  Strict: Strict,\n  Loose: Loose,\n  Select: Select,\n  Choose: Choose,\n  OneOf: OneOf,\n  match: match,\n  unmatchMessages: unmatchMessages,\n  show: show,\n  sample: sample,\n  samples: samples,\n  showHtml: showHtml,\n  genRenderCode: genRenderCode,\n  showPage: showPage\n};\n\nif (module.parent === null) {\n  require('coffee-mate/global');\n  UserName = Optional(String);\n  UserInfo = {\n    name: UserName,\n    position: String,\n    age: Number\n  };\n  assert(function() {\n    return match(UserName)('luo') === true;\n  });\n  assert(function() {\n    return match(UserName)(1) === false;\n  });\n  log(function() {\n    return show(UserName);\n  });\n  TableName = NamedType({\n    name: 'TableName',\n    spec: String,\n    samples: ['table1', 'table2']\n  });\n  FieldName = NamedType({\n    name: 'FieldName',\n    spec: String,\n    samples: ['product_id', 'sale', 'amount']\n  });\n  Comparator = Enum(['=', '<', '<=', '>=', '>']);\n  WideTable = [\n    {\n      tableName: TableName,\n      join: {\n        leftTableName: TableName,\n        left: FieldName,\n        op: Comparator,\n        right: FieldName\n      }\n    }\n  ];\n  log(function() {\n    return unmatchMessages(WideTable)([\n      {\n        tableName: 'a',\n        join: {}\n      }\n    ]);\n  });\n}\n\n\n},{\"./prim/any\":16,\"./prim/array\":17,\"./prim/bool\":18,\"./prim/choose\":19,\"./prim/constructor\":20,\"./prim/enum\":21,\"./prim/fn\":22,\"./prim/int\":23,\"./prim/loose\":24,\"./prim/map\":25,\"./prim/namedtype\":26,\"./prim/nat\":27,\"./prim/object\":28,\"./prim/oneof\":29,\"./prim/optional\":30,\"./prim/promise\":31,\"./prim/select\":32,\"./prim/strict\":33,\"./prim/tree\":34,\"./prim/treemap\":35,\"./prim/value\":36,\"./render\":37,\"./typeclass\":38,\"./typespec\":39,\"coffee-mate/global\":10}],15:[function(require,module,exports){\nvar Any, instance;\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nAny = (function() {\n  var r;\n  r = function Any(){};\n  return (r.constructor = r);\n})();\n\ninstance('TypeSpec')(Any).where({\n  match: function() {\n    return function(v) {\n      return v != null;\n    };\n  },\n  constraints: function() {\n    return function(v) {\n      return [\n        {\n          label: function() {\n            return \"Any Non-Null Value Expected, But Got \" + v;\n          },\n          flag: function() {\n            return v != null;\n          }\n        }\n      ];\n    };\n  },\n  show: function() {\n    return \"Any\";\n  },\n  samples: function() {\n    return concat(repeat([\n      'a', 3, true, [1, 2], {\n        x: 1\n      }\n    ]));\n  },\n  sample: function() {\n    return 'any';\n  }\n});\n\nmodule.exports = {\n  Any: Any\n};\n\n\n},{\"../typeclass\":38,\"coffee-mate/global\":10}],16:[function(require,module,exports){\nvar Any, instance;\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nAny = (function() {\n  var r;\n  r = function Any(){};\n  return (r.constructor = r);\n})();\n\ninstance('TypeSpec')(Any).where({\n  match: function() {\n    return function(v) {\n      return v != null;\n    };\n  },\n  constraints: function() {\n    return function(v) {\n      return [\n        {\n          label: function() {\n            return \"Any Non-Null Value Expected, But Got \" + v;\n          },\n          flag: function() {\n            return v != null;\n          }\n        }\n      ];\n    };\n  },\n  show: function() {\n    return \"Any\";\n  },\n  samples: function() {\n    return concat(repeat([\n      'a', 3, true, [1, 2], {\n        x: 1\n      }\n    ]));\n  },\n  sample: function() {\n    return 'any';\n  }\n});\n\nmodule.exports = {\n  Any: Any\n};\n\n\n},{\"../typeclass\":38,\"coffee-mate/global\":10}],17:[function(require,module,exports){\nvar constraints, htmlBlock, htmlInline, instance, match, ref, sample, samples, show;\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nref = require('../typespec'), match = ref.match, constraints = ref.constraints, show = ref.show, samples = ref.samples, sample = ref.sample, htmlInline = ref.htmlInline, htmlBlock = ref.htmlBlock;\n\ninstance('TypeSpec')(Array).where({\n  match: function(arg) {\n    var spec;\n    spec = arg[0];\n    return function(v) {\n      return (v != null) && v instanceof Array && (all(match(spec))(v));\n    };\n  },\n  constraints: function(arg) {\n    var spec;\n    spec = arg[0];\n    return function(v) {\n      return cons({\n        label: function() {\n          return \"Array Expected, But Got \" + v;\n        },\n        flag: function() {\n          return (v != null) && v instanceof Array;\n        }\n      })(map(function(arg1) {\n        var i, x;\n        i = arg1[0], x = arg1[1];\n        return {\n          label: function() {\n            return \"Element \" + i + \" Expected to be \" + (show(spec));\n          },\n          sub: function() {\n            return constraints(spec)(x);\n          }\n        };\n      })(enumerate(v != null ? v : [])));\n    };\n  },\n  show: function(arg) {\n    var spec;\n    spec = arg[0];\n    return \"[\" + (show(spec)) + \"]\";\n  },\n  samples: function(arg) {\n    var spec;\n    spec = arg[0];\n    return concat(repeat(reverse(map(function(n) {\n      return list(take(n)(samples(spec)));\n    })(range(3)))));\n  },\n  sample: function(arg) {\n    var spec;\n    spec = arg[0];\n    return [sample(spec)];\n  },\n  htmlInline: function(arg) {\n    var spec;\n    spec = arg[0];\n    return \"<span class='type-maker'>[\" + (htmlInline(spec)) + \"]</span>\";\n  },\n  htmlBlock: function(arg) {\n    var node, ref1, spec;\n    spec = arg[0];\n    if ((node = htmlBlock(spec)) == null) {\n      return null;\n    } else {\n      return {\n        head: \"<span class='type-maker'>[\" + node.head + \"</span>\",\n        body: node.body,\n        tail: \"<span class='type-maker'>\" + ((ref1 = node.tail) != null ? ref1 : '') + \"]</span>\"\n      };\n    }\n  }\n});\n\n\n},{\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],18:[function(require,module,exports){\nvar Bool;\n\nBool = Boolean;\n\nmodule.exports = {\n  Bool: Bool\n};\n\n\n},{}],19:[function(require,module,exports){\nvar Choose, constraints, genBlockBody, htmlBlock, htmlInline, instance, isTypeSpec, match, ref, ref1, sample, samples, show;\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nref = require('../typespec'), match = ref.match, constraints = ref.constraints, show = ref.show, samples = ref.samples, sample = ref.sample, htmlInline = ref.htmlInline, htmlBlock = ref.htmlBlock;\n\nref1 = require('../helpers'), genBlockBody = ref1.genBlockBody, isTypeSpec = ref1.isTypeSpec;\n\nChoose = (function() {\n  function Choose(specs) {\n    if (!((specs != null) && specs.constructor === Array)) {\n      throw Error(\"Bad Choose Type Definition: Array Expected, But Got \" + specs);\n    }\n    if (!all(isTypeSpec)(specs)) {\n      throw Error(\"Bad Choose Type Definition: Array of TypeSpec Expected, But Got \" + specs);\n    }\n    return {\n      constructor: Choose,\n      specs: specs\n    };\n  }\n\n  return Choose;\n\n})();\n\ninstance('TypeSpec')(Choose).where({\n  match: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return function(v) {\n      return (v != null) && any(function(spec) {\n        return match(spec)(v);\n      })(specs);\n    };\n  },\n  constraints: function(t) {\n    var specs;\n    specs = t.specs;\n    return function(v) {\n      return [\n        {\n          label: function() {\n            return \"Non-Null Value Expected, But Got \" + v;\n          },\n          flag: function() {\n            return v != null;\n          }\n        }, {\n          label: function() {\n            return (show(t)) + \" Expected, But Got \" + (json(v));\n          },\n          flag: function() {\n            return any(function(spec) {\n              return match(spec)(v);\n            })(specs);\n          }\n        }\n      ];\n    };\n  },\n  show: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return \"Choose([\" + ((list(map(show)(specs))).join(', ')) + \"])\";\n  },\n  samples: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return concat(repeat(map(sample)(specs)));\n  },\n  htmlInline: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return \"<span class='type-maker unwrapped'>\" + ((list(map(htmlInline)(specs))).join(' | ')) + \"</span>\";\n  },\n  htmlBlock: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return {\n      head: \"<span class='type-maker'>Choose [</span>\",\n      body: genBlockBody('choose', 'meta-field')(dict(list(zip(naturals, specs)))),\n      tail: \"<span class='type-maker'>]</span>\"\n    };\n  }\n});\n\nmodule.exports = {\n  Choose: Choose\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],20:[function(require,module,exports){\nvar instance, match, ref, sample, samples, show;\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nref = require('../typespec'), match = ref.match, show = ref.show, samples = ref.samples, sample = ref.sample;\n\ninstance('TypeSpec')(Function).where({\n  shape: function(spec) {\n    return spec;\n  },\n  match: function(spec) {\n    return function(v) {\n      return (v != null) && v.constructor === spec;\n    };\n  },\n  constraints: function(spec) {\n    return function(v) {\n      return [\n        {\n          label: function() {\n            return \"Non-Null Value Expected, But Got \" + v;\n          },\n          flag: function() {\n            return v != null;\n          }\n        }, {\n          label: function() {\n            var ref1, ref2;\n            return \"Value with Constructor \" + ((ref1 = spec.name) != null ? ref1 : spec) + \" Expected, But Got \" + (json(v)) + \" with Constructor \" + ((ref2 = v.constructor.name) != null ? ref2 : v.constructor);\n          },\n          flag: function() {\n            return v.constructor === spec;\n          }\n        }\n      ];\n    };\n  },\n  show: function(spec) {\n    return spec.name || 'UnnamedType';\n  },\n  samples: function(spec) {\n    switch (spec) {\n      case Boolean:\n        return concat(repeat([true, false]));\n      case Number:\n        return concat(repeat([3.14, 9, 42]));\n      case String:\n        return concat(repeat(['abc', 'hello']));\n      default:\n        return repeat(new spec);\n    }\n  },\n  htmlInline: function(spec) {\n    return \"<span class='type-maker'>\" + (show(spec)) + \"</span>\";\n  }\n});\n\n\n},{\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],21:[function(require,module,exports){\nvar Enum, instance, show,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nshow = require('../typespec').show;\n\nEnum = (function() {\n  function Enum(ls) {\n    if (!(all(function(x) {\n      return x != null;\n    })(ls))) {\n      throw Error(\"Bad Enum Type Definition: Array Of Non-Null Values Expected, Bot Got \" + ls);\n    }\n    return {\n      constructor: Enum,\n      \"enum\": ls\n    };\n  }\n\n  return Enum;\n\n})();\n\ninstance('TypeSpec')(Enum).where({\n  match: function(arg) {\n    var vs;\n    vs = arg[\"enum\"];\n    return function(v) {\n      return indexOf.call(vs, v) >= 0;\n    };\n  },\n  constraints: function(t) {\n    var vs;\n    vs = t[\"enum\"];\n    return function(v) {\n      return [\n        {\n          label: function() {\n            return (show(t)) + \" Expected, But Got \" + (json(v));\n          },\n          flag: function() {\n            return indexOf.call(vs, v) >= 0;\n          }\n        }\n      ];\n    };\n  },\n  show: function(arg) {\n    var vs;\n    vs = arg[\"enum\"];\n    return \"Enum(\" + (json(vs)) + \")\";\n  },\n  samples: function(arg) {\n    var vs;\n    vs = arg[\"enum\"];\n    return concat(repeat(vs));\n  },\n  htmlInline: function(arg) {\n    var vs;\n    vs = arg[\"enum\"];\n    return \"<span class='type-maker unwrapped'>Enum \" + (json(vs)) + \"</span>\";\n  }\n});\n\nmodule.exports = {\n  Enum: Enum\n};\n\n\n},{\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],22:[function(require,module,exports){\nvar Fn, genBlockBody, htmlBlock, htmlInline, instance, match, ref, ref1, sample, samples, show, typeclass;\n\nrequire('coffee-mate/global');\n\nref = require('../typeclass'), typeclass = ref.typeclass, instance = ref.instance;\n\nref1 = require('../typespec'), match = ref1.match, show = ref1.show, samples = ref1.samples, sample = ref1.sample, htmlInline = ref1.htmlInline, htmlBlock = ref1.htmlBlock;\n\ngenBlockBody = require('../helpers').genBlockBody;\n\nFn = (function() {\n  function Fn(ispec) {\n    if (!((ispec != null) && typeclass('TypeSpec').hasInstance(ispec.constructor))) {\n      throw Error(\"Bad Fn Definition: TypeSpec as ispec Expected, But Got \" + ispec);\n    }\n    return function(ospec) {\n      if (!((ospec != null) && typeclass('TypeSpec').hasInstance(ospec.constructor))) {\n        throw Error(\"Bad Fn Definition: TypeSpec as ospec Expected, But Got \" + ospec);\n      }\n      return {\n        constructor: Fn,\n        ispec: ispec,\n        ospec: ospec\n      };\n    };\n  }\n\n  return Fn;\n\n})();\n\ninstance('TypeSpec')(Fn).where({\n  match: function(arg) {\n    var ispec, ospec;\n    ispec = arg.ispec, ospec = arg.ospec;\n    return function(v) {\n      return (v != null) && v.constructor === Function;\n    };\n  },\n  withSpec: function(arg) {\n    var ispec, ospec;\n    ispec = arg.ispec, ospec = arg.ospec;\n    return function(v) {\n      if (!((v != null) && v.constructor === Function)) {\n        throw TypeError({\n          expected: 'Function',\n          got: v\n        });\n      } else {\n        return function(x) {\n          var y;\n          withSpec(ispec)(x);\n          y = v(x);\n          withSpec(ospec)(y);\n          return y;\n        };\n      }\n    };\n  },\n  show: function(arg) {\n    var ispec, ospec;\n    ispec = arg.ispec, ospec = arg.ospec;\n    return \"Fn(\" + (show(ispec)) + \")(\" + (show(ospec)) + \")\";\n  },\n  samples: function(arg) {\n    var ispec, ospec;\n    ispec = arg.ispec, ospec = arg.ospec;\n    return repeat({\n      \"[input]\": sample(ispec),\n      \"[output]\": sample(ospec)\n    });\n  },\n  htmlInline: function(arg) {\n    var ispec, ospec;\n    ispec = arg.ispec, ospec = arg.ospec;\n    return \"<span class='type-maker unwrapped'>\" + (htmlInline(ispec)) + \" -> \" + (htmlInline(ospec)) + \"</span>\";\n  },\n  htmlBlock: function(arg) {\n    var ispec, ospec;\n    ispec = arg.ispec, ospec = arg.ospec;\n    return {\n      head: \"<span class='type-maker'>Function (</span>\",\n      body: genBlockBody('function', 'meta-field')({\n        input: ispec,\n        output: ospec\n      }),\n      tail: \"<span class='type-maker'>)</span>\"\n    };\n  }\n});\n\nmodule.exports = {\n  Fn: Fn\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],23:[function(require,module,exports){\nvar Int, instance;\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nInt = (function() {\n  var r;\n  r = function Int(){};\n  return (r.constructor = r);\n})();\n\ninstance('TypeSpec')(Int).where({\n  match: function() {\n    return function(v) {\n      return (v != null) && v.constructor === Number && !isNaN(v) && v === parseInt(v);\n    };\n  },\n  constraints: function() {\n    return function(v) {\n      return [\n        {\n          label: function() {\n            return \"Int Excepted, But Got \" + (json(v));\n          },\n          flag: function() {\n            return (v != null) && v.constructor === Number && !isNaN(v) && v === parseInt(v);\n          }\n        }\n      ];\n    };\n  },\n  show: function() {\n    return \"Int\";\n  },\n  samples: function() {\n    return concat(repeat([42, 1, 2]));\n  }\n});\n\nmodule.exports = {\n  Int: Int\n};\n\n\n},{\"../typeclass\":38,\"coffee-mate/global\":10}],24:[function(require,module,exports){\nvar Loose, constraints, genBlockBody, htmlBlock, htmlInline, instance, isTypeSpecDict, match, ref, ref1, ref2, sample, samples, shape, show, typeclass;\n\nrequire('coffee-mate/global');\n\nref = require('../typeclass'), typeclass = ref.typeclass, instance = ref.instance;\n\nref1 = require('../typespec'), shape = ref1.shape, match = ref1.match, constraints = ref1.constraints, show = ref1.show, samples = ref1.samples, sample = ref1.sample, htmlInline = ref1.htmlInline, htmlBlock = ref1.htmlBlock;\n\nref2 = require('../helpers'), genBlockBody = ref2.genBlockBody, isTypeSpecDict = ref2.isTypeSpecDict;\n\nLoose = (function() {\n  function Loose(specdict) {\n    if (!isTypeSpecDict(specdict)) {\n      throw Error(\"Bad Loose Type Definition: Dict Of TypeSpec Expected, But Got \" + specdict);\n    }\n    return {\n      constructor: Loose,\n      specdict: specdict\n    };\n  }\n\n  return Loose;\n\n})();\n\ninstance('TypeSpec')(Loose).where({\n  shape: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return Loose(fromList(map(function(arg1) {\n      var k, spec;\n      k = arg1[0], spec = arg1[1];\n      return [k, shape(spec)];\n    })(enumerate(specdict))));\n  },\n  match: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return function(v) {\n      return (v != null) && v.constructor === Object && (all(function(arg1) {\n        var k, spec;\n        k = arg1[0], spec = arg1[1];\n        return match(spec)(v[k]);\n      })(enumerate(specdict)));\n    };\n  },\n  constraints: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return function(v) {\n      return cons({\n        label: function() {\n          return \"Object Expected, But Got \" + v;\n        },\n        flag: function() {\n          return v != null;\n        }\n      })(map(function(arg1) {\n        var k, spec;\n        k = arg1[0], spec = arg1[1];\n        return {\n          label: function() {\n            return \"Field \" + k + \" Expected to be \" + (show(spec));\n          },\n          sub: function() {\n            return constraints(spec)(v[k]);\n          }\n        };\n      })(enumerate(specdict)));\n    };\n  },\n  show: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return \"Loose({\" + ((list(map(function(arg1) {\n      var k, spec;\n      k = arg1[0], spec = arg1[1];\n      return k + \": \" + (show(spec));\n    })(enumerate(specdict)))).join(', ')) + \"})\";\n  },\n  samples: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return repeat(dict(list(map(function(arg1) {\n      var k, v;\n      k = arg1[0], v = arg1[1];\n      return [k, sample(v)];\n    })(enumerate(specdict)))));\n  },\n  htmlInline: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return \"<span class='type-maker unwrapped'>Loose {<span class='folded-detail'>...</span>}</span>\";\n  },\n  htmlBlock: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return {\n      head: \"<span class='type-maker'>Loose {</span>\",\n      body: genBlockBody('loose', 'field-name')(specdict),\n      tail: \"<span class='type-maker'>}</span>\"\n    };\n  }\n});\n\nmodule.exports = {\n  Loose: Loose\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],25:[function(require,module,exports){\nvar Map, constraints, genBlockBody, htmlBlock, htmlInline, instance, match, ref, ref1, sample, samples, show, typeclass;\n\nrequire('coffee-mate/global');\n\nref = require('../typeclass'), typeclass = ref.typeclass, instance = ref.instance;\n\nref1 = require('../typespec'), match = ref1.match, constraints = ref1.constraints, show = ref1.show, samples = ref1.samples, sample = ref1.sample, htmlInline = ref1.htmlInline, htmlBlock = ref1.htmlBlock;\n\ngenBlockBody = require('../helpers').genBlockBody;\n\nMap = (function() {\n  function Map(kspec) {\n    if (!((kspec != null) && typeclass('TypeSpec').hasInstance(kspec.constructor))) {\n      throw Error(\"Bad Fn Definition: TypeSpec as kspec Expected, But Got \" + kspec);\n    }\n    return function(vspec) {\n      if (!((vspec != null) && typeclass('TypeSpec').hasInstance(vspec.constructor))) {\n        throw Error(\"Bad Fn Definition: TypeSpec as vspec Expected, But Got \" + vspec);\n      }\n      return {\n        constructor: Map,\n        kspec: kspec,\n        vspec: vspec\n      };\n    };\n  }\n\n  return Map;\n\n})();\n\ninstance('TypeSpec')(Map).where({\n  match: function(arg) {\n    var kspec, vspec;\n    kspec = arg.kspec, vspec = arg.vspec;\n    return function(v) {\n      var ks, mk, mv;\n      mk = match(kspec);\n      mv = match(vspec);\n      return (v != null) && v.constructor === Object && all(mk)(ks = Object.keys(v)) && all(mv)(map(seek(v))(ks));\n    };\n  },\n  constraints: function(arg) {\n    var kspec, vspec;\n    kspec = arg.kspec, vspec = arg.vspec;\n    return function(v) {\n      return cons({\n        label: function() {\n          return \"Object Expected, But Got \" + v;\n        },\n        flag: function() {\n          return (v != null) && v.constructor === Object;\n        }\n      })(concat([\n        map(function(k) {\n          return {\n            label: function() {\n              return \"Key Expected to be \" + (show(kspec));\n            },\n            sub: function() {\n              return constraints(kspec)(k);\n            }\n          };\n        })(Object.keys(v != null ? v : [])), map(function(k) {\n          return {\n            label: function() {\n              return \"Value Expected to be \" + (show(vspec));\n            },\n            sub: function() {\n              return constraints(vspec)(v[k]);\n            }\n          };\n        })(Object.keys(v != null ? v : []))\n      ]));\n    };\n  },\n  show: function(arg) {\n    var kspec, vspec;\n    kspec = arg.kspec, vspec = arg.vspec;\n    return \"Map(\" + (show(kspec)) + \")(\" + (show(vspec)) + \")\";\n  },\n  samples: function(arg) {\n    var ks, kspec, vs, vspec;\n    kspec = arg.kspec, vspec = arg.vspec;\n    ks = list(take(4)(samples(kspec)));\n    vs = list(take(4)(samples(vspec)));\n    return concat(repeat([dict([[ks[0], vs[0]], [ks[1], vs[1]]]), dict([[ks[2], vs[2]], [ks[3], vs[3]]])]));\n  },\n  htmlInline: function(arg) {\n    var kspec, vspec;\n    kspec = arg.kspec, vspec = arg.vspec;\n    return \"<span class='type-maker unwrapped'>Map \" + (htmlInline(kspec)) + \" \" + (htmlInline(vspec)) + \"</span>\";\n  },\n  htmlBlock: function(arg) {\n    var kspec, vspec;\n    kspec = arg.kspec, vspec = arg.vspec;\n    return {\n      head: \"<span class='type-maker'>Map (</span>\",\n      body: genBlockBody('map', 'meta-field')({\n        key: kspec,\n        value: vspec\n      }),\n      tail: \"<span class='type-maker'>)</span>\"\n    };\n  }\n});\n\nmodule.exports = {\n  Map: Map\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],26:[function(require,module,exports){\nvar NamedType, constraints, expandBlockHead, htmlBlock, htmlInline, instance, match, ref, ref1, sample, samples, show, typeclass;\n\nrequire('coffee-mate/global');\n\nref = require('../typeclass'), typeclass = ref.typeclass, instance = ref.instance;\n\nref1 = require('../typespec'), match = ref1.match, constraints = ref1.constraints, show = ref1.show, samples = ref1.samples, sample = ref1.sample, htmlInline = ref1.htmlInline, htmlBlock = ref1.htmlBlock;\n\nexpandBlockHead = require('../helpers').expandBlockHead;\n\nNamedType = (function() {\n  function NamedType(arg) {\n    var check, desc, name, samples, spec;\n    name = arg.name, spec = arg.spec, desc = arg.desc, check = arg.check, samples = arg.samples;\n    if (!((name != null) && (spec != null))) {\n      throw Error(\"Bad NamedType Definition: name & spec Must Be Specified\");\n    }\n    if (!((spec != null) && typeclass('TypeSpec').hasInstance(spec.constructor))) {\n      throw Error(\"Bad NamedType Definition: TypeSpec as spec Expected, But Got \" + spec + \"\\n\\tname: \" + name);\n    }\n    if (!((samples == null) || all(match(spec))(take(100)(samples)))) {\n      throw Error(\"Bad NamedType Definition: samples Should Match spec\\n\\tname: \" + name + \"\\n\\tspec: \" + spec);\n    }\n    return {\n      constructor: NamedType,\n      name: name,\n      spec: spec,\n      desc: desc,\n      check: check,\n      samples: samples\n    };\n  }\n\n  return NamedType;\n\n})();\n\ninstance('TypeSpec')(NamedType).where({\n  match: function(arg) {\n    var check, spec;\n    spec = arg.spec, check = arg.check;\n    return function(v) {\n      return match(spec)(v) && (check != null ? check(v) : true);\n    };\n  },\n  constraints: function(arg) {\n    var check, name, spec;\n    spec = arg.spec, check = arg.check, name = arg.name;\n    return function(v) {\n      return [\n        {\n          label: function() {\n            return name + \" Expected\";\n          },\n          sub: function() {\n            return constraints(spec)(v);\n          }\n        }, {\n          label: function() {\n            return name + \" Expected to Satisfy \" + check + \", But Got \" + (json(v));\n          },\n          flag: function() {\n            if (check != null) {\n              return check(v);\n            } else {\n              return true;\n            }\n          }\n        }\n      ];\n    };\n  },\n  show: function(arg) {\n    var name, spec;\n    name = arg.name, spec = arg.spec;\n    return name || (show(spec));\n  },\n  samples: function(arg) {\n    var ls, spec;\n    spec = arg.spec, ls = arg.samples;\n    if (ls != null) {\n      return concat(repeat(ls));\n    } else {\n      return samples(spec);\n    }\n  },\n  htmlInline: function(arg) {\n    var name, spec;\n    name = arg.name, spec = arg.spec;\n    if (name != null) {\n      return \"<span class='type-name'>\" + name + \"</span>\";\n    } else {\n      return htmlInline(spec);\n    }\n  },\n  htmlBlock: function(arg) {\n    var name, ref2, spec;\n    name = arg.name, spec = arg.spec;\n    return (ref2 = expandBlockHead(function(head) {\n      return \"<span><span class='type-name'>\" + name + \"</span><span class='spliter'>spec:</span>\" + head + \"</span>\";\n    })(spec)) != null ? ref2 : {\n      head: \"<span><span class='type-name'>\" + name + \"</span><span class='spliter'>spec:</span>\" + (htmlInline(spec)) + \"</span>\"\n    };\n  },\n  showHtml: function(t) {\n    var check, checkPart, desc, descriptionPart, name, namePart, samplePart, spec, specPart;\n    name = t.name, desc = t.desc, spec = t.spec, check = t.check;\n    namePart = name == null ? '' : \"<div class='name'>\\n<span class='meta-field'>name</span>: <span class='type-name'>\" + name + \"</span>\\n</div>\";\n    descriptionPart = desc == null ? '' : (function() {\n      var s;\n      s = desc;\n      return \"<div class='desc'>\\n<span class='meta-field'>desc</span>: \" + (/\\n/.test(s) ? \"<pre class='text'>\" + s + \"</pre>\" : \"<span class='text'>\" + s + \"</span>\") + \"\\n</div>\";\n    })();\n    specPart = (function() {\n      var block, ref2, ref3;\n      block = htmlBlock(spec);\n      return (\"<div class='spec'>\\n<div class='\" + (block != null ? 'fold' : 'inline') + \"'><span class='meta-field'>spec</span>: \" + (htmlInline(spec)) + \"</div>\\n\" + (block != null ? \"<div class='unfold'>\\n\t<span class='meta-field'>spec</span>: \" + block.head + \"\\n\t\" + ((ref2 = block.body) != null ? ref2 : '') + \"\\n\t\" + ((ref3 = block.tail) != null ? ref3 : '') + \"\\n</div>\" : '') + \"\\n</div>\").replace(/(\\t|\\n)/g, '');\n    })();\n    samplePart = (function() {\n      var s;\n      s = json(sample(t), 4);\n      return \"<div class='sample'>\\n<span class='meta-field'>sample</span>: \" + (/\\n/.test(s) ? \"<pre class='code'>\" + s + \"</pre>\" : \"<span class='code'>\" + s + \"</span>\") + \"\\n</div>\";\n    })();\n    checkPart = check == null ? '' : (function() {\n      var s;\n      s = check.toString();\n      return \"<div class='check'>\\n<span class='meta-field'>constraint</span>: \" + (/\\n/.test(s) ? \"<pre class='code'>\" + s + \"</pre>\" : \"<span class='code'>\" + s + \"</span>\") + \"\\n</div>\";\n    })();\n    return \"<div class='typespec'>\" + (namePart + descriptionPart + specPart + samplePart + checkPart) + \"</div>\";\n  }\n});\n\nmodule.exports = {\n  NamedType: NamedType\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],27:[function(require,module,exports){\nvar Nat, instance;\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nNat = (function() {\n  var r;\n  r = function Nat(){};\n  return (r.constructor = r);\n})();\n\ninstance('TypeSpec')(Nat).where({\n  match: function() {\n    return function(v) {\n      return (v != null) && v.constructor === Number && !isNaN(v) && v >= 0 && v === parseInt(v);\n    };\n  },\n  constraints: function() {\n    return function(v) {\n      return [\n        {\n          label: function() {\n            return \"Nat Excepted, But Got \" + (json(v));\n          },\n          flag: function() {\n            return (v != null) && v.constructor === Number && !isNaN(v) && v >= 0 && v === parseInt(v);\n          }\n        }\n      ];\n    };\n  },\n  show: function() {\n    return \"Nat\";\n  },\n  samples: function() {\n    return concat(repeat([42, 1, 2]));\n  }\n});\n\nmodule.exports = {\n  Nat: Nat\n};\n\n\n},{\"../typeclass\":38,\"coffee-mate/global\":10}],28:[function(require,module,exports){\nvar constraints, genBlockBody, htmlBlock, htmlInline, instance, isTypeSpecDict, match, ref, ref1, sample, samples, shape, show, specdictChecked;\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nref = require('../typespec'), shape = ref.shape, match = ref.match, constraints = ref.constraints, show = ref.show, samples = ref.samples, sample = ref.sample, htmlInline = ref.htmlInline, htmlBlock = ref.htmlBlock;\n\nref1 = require('../helpers'), genBlockBody = ref1.genBlockBody, isTypeSpecDict = ref1.isTypeSpecDict;\n\nspecdictChecked = function(f) {\n  return function(specdict) {\n    if (!isTypeSpecDict(specdict)) {\n      throw Error(\"Bad Object Type Definition: Dict Of TypeSpec Expected, But Got \" + specdict);\n    }\n    return f(specdict);\n  };\n};\n\ninstance('TypeSpec')(Object).where({\n  shape: function(specdict) {\n    return fromList(map(function(arg) {\n      var k, spec;\n      k = arg[0], spec = arg[1];\n      return [k, shape(spec)];\n    })(enumerate(specdict)));\n  },\n  match: specdictChecked(function(specdict) {\n    return function(v) {\n      return (v != null) && (all(function(k) {\n        return specdict[k] != null;\n      })(Object.keys(v))) && all(function(arg) {\n        var k, spec;\n        k = arg[0], spec = arg[1];\n        return match(spec)(v[k]);\n      })(enumerate(specdict));\n    };\n  }),\n  constraints: function(specdict) {\n    return function(v) {\n      return cons({\n        label: function() {\n          return \"Object Expected, But Got \" + v;\n        },\n        flag: function() {\n          return v != null;\n        }\n      })(cons({\n        label: function() {\n          return \"Redundant Keys: \" + (list(filter(function(k) {\n            return specdict[k] == null;\n          })(Object.keys(v))));\n        },\n        flag: function() {\n          return all(function(k) {\n            return specdict[k] != null;\n          })(Object.keys(v));\n        }\n      })(map(function(arg) {\n        var k, spec;\n        k = arg[0], spec = arg[1];\n        return {\n          label: function() {\n            return \"Field \" + k + \" Expected to be \" + (show(spec));\n          },\n          sub: function() {\n            return constraints(spec)(v[k]);\n          }\n        };\n      })(enumerate(specdict))));\n    };\n  },\n  show: specdictChecked(function(specdict) {\n    return \"{\" + ((list(map(function(arg) {\n      var k, spec;\n      k = arg[0], spec = arg[1];\n      return k + \": \" + (show(spec));\n    })(enumerate(specdict)))).join(', ')) + \"}\";\n  }),\n  samples: specdictChecked(function(specdict) {\n    return repeat(dict(list(map(function(arg) {\n      var k, v;\n      k = arg[0], v = arg[1];\n      return [k, sample(v)];\n    })(enumerate(specdict)))));\n  }),\n  htmlInline: specdictChecked(function(specdict) {\n    return \"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>\";\n  }),\n  htmlBlock: specdictChecked(function(specdict) {\n    return {\n      head: \"<span class='type-maker'>{</span>\",\n      body: genBlockBody('object', 'field-name')(specdict),\n      tail: \"<span class='type-maker'>}</span>\"\n    };\n  })\n});\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],29:[function(require,module,exports){\nvar OneOf, constraints, genBlockBody, htmlBlock, htmlInline, instance, isTypeSpec, match, ref, ref1, sample, samples, shape, show;\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nref = require('../typespec'), shape = ref.shape, match = ref.match, constraints = ref.constraints, show = ref.show, samples = ref.samples, sample = ref.sample, htmlInline = ref.htmlInline, htmlBlock = ref.htmlBlock;\n\nref1 = require('../helpers'), genBlockBody = ref1.genBlockBody, isTypeSpec = ref1.isTypeSpec;\n\nOneOf = (function() {\n  function OneOf(specs) {\n    if (!((specs != null) && specs.constructor === Array)) {\n      throw Error(\"Bad OneOf Type Definition: Array Expected, But Got \" + specs);\n    }\n    if (!all(isTypeSpec)(specs)) {\n      throw Error(\"Bad OneOf Type Definition: Array of TypeSpec Expected, But Got \" + specs);\n    }\n    log(function() {\n      return specs.map(show);\n    });\n    return {\n      constructor: OneOf,\n      specs: specs\n    };\n  }\n\n  return OneOf;\n\n})();\n\ninstance('TypeSpec')(OneOf).where({\n  match: function(arg) {\n    var shaped, specs;\n    specs = arg.specs;\n    shaped = zip(map(shape)(specs), specs);\n    return function(v) {\n      var matchedShapes;\n      matchedShapes = filter(function(arg1) {\n        var _, sh;\n        sh = arg1[0], _ = arg1[1];\n        return match(sh)(v);\n      })(shaped);\n      return length(take(2)(matchedShapes)) === 1 && match(head(matchedShapes)[1])(v);\n    };\n  },\n  constraints: function(arg) {\n    var shaped, specs;\n    specs = arg.specs;\n    shaped = zip(map(shape)(specs), specs);\n    return function(v) {\n      var matchedCount, matchedShapes;\n      matchedShapes = filter(function(arg1) {\n        var _, sh;\n        sh = arg1[0], _ = arg1[1];\n        return match(sh)(v);\n      })(shaped);\n      matchedCount = length(take(2)(matchedShapes));\n      return [\n        {\n          label: function() {\n            return \"Shape \" + (list(map(show)(map(pluck(0))(shaped))).join(' | ')) + \" Expected, But Got \" + v;\n          },\n          flag: function() {\n            return matchedCount > 0;\n          }\n        }, {\n          label: function() {\n            return \"Ambiguous Shape \" + (list(map(show)(map(pluck(0))(matchedShapes))).join(' | ')) + \" Matched, Got \" + (json(v));\n          },\n          flag: function() {\n            return matchedCount < 2;\n          }\n        }, {\n          label: function() {\n            return (show(head(matchedShapes)[1])) + \" Expected, But Got \" + (json(v));\n          },\n          flag: function() {\n            return match(head(matchedShapes)[1])(v);\n          }\n        }\n      ];\n    };\n  },\n  show: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return \"(\" + ((list(map(show)(specs))).join(' | ')) + \")\";\n  },\n  samples: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return concat(repeat(map(sample)(specs)));\n  },\n  htmlInline: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return \"<span class='type-maker unwrapped'>\" + ((list(map(htmlInline)(specs))).join(' | ')) + \"</span>\";\n  },\n  htmlBlock: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return {\n      head: \"<span class='type-maker'>OneOf [</span>\",\n      body: genBlockBody('OneOf', 'meta-field')(dict(list(zip(naturals, specs)))),\n      tail: \"<span class='type-maker'>]</span>\"\n    };\n  }\n});\n\nmodule.exports = {\n  OneOf: OneOf\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],30:[function(require,module,exports){\nvar Optional, constraints, expandBlockHead, htmlBlock, htmlInline, instance, isTypeSpec, match, ref, ref1, ref2, sample, samples, show, typeclass;\n\nrequire('coffee-mate/global');\n\nref = require('../typeclass'), typeclass = ref.typeclass, instance = ref.instance;\n\nref1 = require('../typespec'), match = ref1.match, constraints = ref1.constraints, show = ref1.show, samples = ref1.samples, sample = ref1.sample, htmlInline = ref1.htmlInline, htmlBlock = ref1.htmlBlock;\n\nref2 = require('../helpers'), expandBlockHead = ref2.expandBlockHead, isTypeSpec = ref2.isTypeSpec;\n\nOptional = (function() {\n  function Optional(spec) {\n    if (!isTypeSpec(spec)) {\n      throw Error(\"Bad Optional Type Definition: TypeSpec as spec Expected\");\n    }\n    return {\n      constructor: Optional,\n      spec: spec\n    };\n  }\n\n  return Optional;\n\n})();\n\ninstance('TypeSpec')(Optional).where({\n  shape: function(arg) {\n    var spec;\n    spec = arg.spec;\n    return Optional(shape(spec));\n  },\n  match: function(arg) {\n    var spec;\n    spec = arg.spec;\n    return function(v) {\n      return (v == null) || match(spec)(v);\n    };\n  },\n  constraints: function(t) {\n    return function(v) {\n      if (v == null) {\n        return [];\n      } else {\n        return [\n          {\n            label: function() {\n              return (show(t)) + \" Expected\";\n            },\n            sub: function() {\n              return constraints(t.spec)(v);\n            }\n          }\n        ];\n      }\n    };\n  },\n  show: function(arg) {\n    var spec;\n    spec = arg.spec;\n    return \"Optional(\" + (show(spec)) + \")\";\n  },\n  samples: function(arg) {\n    var ls, spec;\n    spec = arg.spec;\n    ls = list(take(2)(samples(spec)));\n    return concat(repeat([ls[0], null, ls[1], void 0]));\n  },\n  htmlInline: function(arg) {\n    var spec;\n    spec = arg.spec;\n    return \"<span class='type-maker unwrapped'>Optional \" + (htmlInline(spec)) + \"</span>\";\n  },\n  htmlBlock: function(arg) {\n    var spec;\n    spec = arg.spec;\n    return expandBlockHead(function(head) {\n      return \"<span class='type-maker'>Optional \" + head + \"</span>\";\n    })(spec);\n  }\n});\n\nmodule.exports = {\n  Optional: Optional\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],31:[function(require,module,exports){\nvar Promise, expandBlockHead, htmlBlock, htmlInline, instance, isTypeSpec, match, ref, ref1, ref2, sample, samples, show, typeclass;\n\nrequire('coffee-mate/global');\n\nref = require('../typeclass'), typeclass = ref.typeclass, instance = ref.instance;\n\nref1 = require('../typespec'), match = ref1.match, show = ref1.show, samples = ref1.samples, sample = ref1.sample, htmlInline = ref1.htmlInline, htmlBlock = ref1.htmlBlock;\n\nref2 = require('../helpers'), expandBlockHead = ref2.expandBlockHead, isTypeSpec = ref2.isTypeSpec;\n\nPromise = (function() {\n  function Promise(spec) {\n    if (!isTypeSpec(spec)) {\n      throw Error(\"Bad Optional Type Definition: TypeSpec as spec Expected\");\n    }\n    return {\n      constructor: Promise,\n      spec: spec\n    };\n  }\n\n  return Promise;\n\n})();\n\ninstance('TypeSpec')(Promise).where({\n  match: function(arg) {\n    var spec;\n    spec = arg.spec;\n    return function(v) {\n      return (v != null ? v.then : void 0) != null;\n    };\n  },\n  constraints: function(t) {\n    return function(v) {\n      return [\n        {\n          label: function() {\n            return (show(t)) + \" Expected, But Got \" + v;\n          },\n          flag: function() {\n            return (v != null ? v.then : void 0) != null;\n          }\n        }\n      ];\n    };\n  },\n  withSpec: function(arg) {\n    var spec;\n    spec = arg.spec;\n    return function(v) {\n      if ((v != null ? v.then : void 0) == null) {\n        throw TypeError({\n          expected: 'Promise',\n          got: v\n        });\n      } else {\n        return v.then(function(x) {\n          withSpec(spec)(x);\n          return x;\n        });\n      }\n    };\n  },\n  show: function(arg) {\n    var spec;\n    spec = arg.spec;\n    return \"Promise(\" + (show(spec)) + \")\";\n  },\n  samples: function(arg) {\n    var spec;\n    spec = arg.spec;\n    return samples(spec);\n  },\n  htmlInline: function(arg) {\n    var spec;\n    spec = arg.spec;\n    return \"<span class='type-maker unwrapped'>Promise \" + (htmlInline(spec)) + \"</span>\";\n  },\n  htmlBlock: function(arg) {\n    var spec;\n    spec = arg.spec;\n    return expandBlockHead(function(head) {\n      return \"<span class='type-maker'>Promise \" + head + \"</span>\";\n    })(spec);\n  }\n});\n\nmodule.exports = {\n  Promise: Promise\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],32:[function(require,module,exports){\nvar Select, constraints, genBlockBody, htmlBlock, htmlInline, instance, isTypeSpecDict, match, ref, ref1, ref2, sample, samples, show, typeclass;\n\nrequire('coffee-mate/global');\n\nref = require('../typeclass'), typeclass = ref.typeclass, instance = ref.instance;\n\nref1 = require('../typespec'), match = ref1.match, constraints = ref1.constraints, show = ref1.show, samples = ref1.samples, sample = ref1.sample, htmlInline = ref1.htmlInline, htmlBlock = ref1.htmlBlock;\n\nref2 = require('../helpers'), genBlockBody = ref2.genBlockBody, isTypeSpecDict = ref2.isTypeSpecDict;\n\nSelect = (function() {\n  function Select(specs) {\n    if (!isTypeSpecDict(specs)) {\n      throw Error(\"Bad Select Type Definition: TypeSpec as spec Expected\");\n    }\n    if (!(Object.keys(specs).length >= 1)) {\n      throw Error(\"Bad Select Type Definition: At Least One Selection Should Be Provided\");\n    }\n    return {\n      constructor: Select,\n      specs: specs\n    };\n  }\n\n  return Select;\n\n})();\n\ninstance('TypeSpec')(Select).where({\n  match: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return function(v) {\n      var k, ks, spec;\n      return (v != null) && (ks = Object.keys(v)).length === 1 && ((spec = specs[(k = ks[0])]) != null) && (match(spec)(v[k]));\n    };\n  },\n  constraints: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return function(v) {\n      return [\n        {\n          label: function() {\n            return \"Object Expected, But Got \" + v;\n          },\n          flag: function() {\n            return v != null;\n          }\n        }, {\n          label: function() {\n            return \"Selection Between \" + (Object.keys(specs).join(',')) + \" Expected, But Got \" + (Object.keys(v).join(',')) + \" Via \" + (json(v));\n          },\n          flag: function() {\n            var k, ks, spec;\n            return (ks = Object.keys(v)).length === 1 && ((spec = specs[(k = ks[0])]) != null);\n          }\n        }, {\n          label: function() {\n            var k;\n            return \"Selection Field \" + (k = Object.keys(v)[0]) + \" Expected to be \" + (show(specs[k]));\n          },\n          sub: function() {\n            var k;\n            return constraints(specs[k = Object.keys(v)[0]])(v[k]);\n          }\n        }\n      ];\n    };\n  },\n  show: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return \"Select({\" + ((list(map(function(arg1) {\n      var k, spec;\n      k = arg1[0], spec = arg1[1];\n      return k + \": \" + (show(spec));\n    })(enumerate(specs)))).join(', ')) + \"})\";\n  },\n  samples: function(arg) {\n    var specs;\n    specs = arg.specs;\n    return concat(repeat(map(function(arg1) {\n      var k, v;\n      k = arg1[0], v = arg1[1];\n      return dict([[k, sample(v)]]);\n    })(enumerate(specs))));\n  },\n  htmlInline: function(arg) {\n    var specdict;\n    specdict = arg.specs;\n    return \"<span class='type-maker unwrapped'>Select {<span class='folded-detail'>...</span>}</span>\";\n  },\n  htmlBlock: function(arg) {\n    var specdict;\n    specdict = arg.specs;\n    return {\n      head: \"<span class='type-maker'>Select {</span>\",\n      body: genBlockBody('select', 'field-name')(specdict),\n      tail: \"<span class='type-maker'>}</span>\"\n    };\n  }\n});\n\nmodule.exports = {\n  Select: Select\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],33:[function(require,module,exports){\nvar Strict, constraints, genBlockBody, htmlBlock, htmlInline, instance, isTypeSpecDict, match, ref, ref1, sample, samples, shape, show;\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nref = require('../typespec'), shape = ref.shape, match = ref.match, constraints = ref.constraints, show = ref.show, samples = ref.samples, sample = ref.sample, htmlInline = ref.htmlInline, htmlBlock = ref.htmlBlock;\n\nref1 = require('../helpers'), genBlockBody = ref1.genBlockBody, isTypeSpecDict = ref1.isTypeSpecDict;\n\nStrict = (function() {\n  function Strict(specdict) {\n    if (!isTypeSpecDict(specdict)) {\n      throw Error(\"Bad Strict Type Definition: Dict Of TypeSpec Expected, But Got \" + specdict);\n    }\n    return {\n      constructor: Strict,\n      specdict: specdict\n    };\n  }\n\n  return Strict;\n\n})();\n\ninstance('TypeSpec')(Strict).where({\n  shape: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return Strict(fromList(map(function(arg1) {\n      var k, spec;\n      k = arg1[0], spec = arg1[1];\n      return [k, shape(spec)];\n    })(enumerate(specdict))));\n  },\n  match: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return function(v) {\n      return (v != null) && v.constructor === Object && (all(function(k) {\n        return specdict[k] != null;\n      })(Object.keys(v))) && all(function(arg1) {\n        var k, spec;\n        k = arg1[0], spec = arg1[1];\n        return match(spec)(v[k]);\n      })(enumerate(specdict));\n    };\n  },\n  constraints: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return function(v) {\n      return cons({\n        label: function() {\n          return \"Object Expected, But Got \" + v;\n        },\n        flag: function() {\n          return v != null;\n        }\n      })(cons({\n        label: function() {\n          return \"Redundant Keys: \" + (list(filter(function(k) {\n            return specdict[k] == null;\n          })(Object.keys(v))));\n        },\n        flag: function() {\n          return all(function(k) {\n            return specdict[k] != null;\n          })(Object.keys(v));\n        }\n      })(map(function(arg1) {\n        var k, spec;\n        k = arg1[0], spec = arg1[1];\n        return {\n          label: function() {\n            return \"Field \" + k + \" Expected to be \" + (show(spec));\n          },\n          sub: function() {\n            return constraints(spec)(v[k]);\n          }\n        };\n      })(enumerate(specdict))));\n    };\n  },\n  show: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return \"{\" + ((list(map(function(arg1) {\n      var k, spec;\n      k = arg1[0], spec = arg1[1];\n      return k + \": \" + (show(spec));\n    })(enumerate(specdict)))).join(', ')) + \"})\";\n  },\n  samples: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return repeat(dict(list(map(function(arg1) {\n      var k, v;\n      k = arg1[0], v = arg1[1];\n      return [k, sample(v)];\n    })(enumerate(specdict)))));\n  },\n  htmlInline: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return \"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>\";\n  },\n  htmlBlock: function(arg) {\n    var specdict;\n    specdict = arg.specdict;\n    return {\n      head: \"<span class='type-maker'>{</span>\",\n      body: genBlockBody('strict', 'field-name')(specdict),\n      tail: \"<span class='type-maker'>}</span>\"\n    };\n  }\n});\n\nmodule.exports = {\n  Strict: Strict\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],34:[function(require,module,exports){\nvar Tree, constraints, expandBlockHead, htmlBlock, htmlInline, instance, isTypeSpec, match, ref, ref1, ref2, sample, samples, show, typeclass;\n\nrequire('coffee-mate/global');\n\nref = require('../typeclass'), typeclass = ref.typeclass, instance = ref.instance;\n\nref1 = require('../typespec'), match = ref1.match, constraints = ref1.constraints, show = ref1.show, samples = ref1.samples, sample = ref1.sample, htmlInline = ref1.htmlInline, htmlBlock = ref1.htmlBlock;\n\nref2 = require('../helpers'), expandBlockHead = ref2.expandBlockHead, isTypeSpec = ref2.isTypeSpec;\n\nTree = (function() {\n  function Tree(labelSpec) {\n    if (!isTypeSpec(labelSpec)) {\n      throw Error(\"Bad Tree Type Definition: TypeSpec as labelSpec Expected\");\n    }\n    return {\n      constructor: Tree,\n      labelSpec: labelSpec\n    };\n  }\n\n  return Tree;\n\n})();\n\ninstance('TypeSpec')(Tree).where({\n  match: function(t) {\n    return function(v) {\n      var labelSpec;\n      labelSpec = t.labelSpec;\n      return (v != null) && (v.rootLabel != null) && (v.subForest != null) && v.subForest instanceof Array && match(labelSpec)(v.rootLabel) && all(match(t))(v.subForest);\n    };\n  },\n  constraints: function(t) {\n    var labelSpec;\n    labelSpec = t.labelSpec;\n    return function(v) {\n      var ref3;\n      return cons({\n        label: function() {\n          return (show(t)) + \" Expected, But Got \" + v;\n        },\n        flag: function() {\n          return (v != null) && (v.rootLabel != null) && (v.subForest != null) && v.subForest instanceof Array;\n        }\n      })(cons({\n        label: function() {\n          return \"Label Expected to be \" + (show(labelSpec));\n        },\n        sub: function() {\n          return constraints(labelSpec)(v.rootLabel);\n        }\n      })(map(function(x) {\n        return {\n          label: function() {\n            return (show(t)) + \" Expected\";\n          },\n          sub: function() {\n            return constraints(t)(x);\n          }\n        };\n      })((ref3 = v != null ? v.subForest : void 0) != null ? ref3 : [])));\n    };\n  },\n  show: function(arg) {\n    var labelSpec;\n    labelSpec = arg.labelSpec;\n    return \"Tree(\" + (show(labelSpec)) + \")\";\n  },\n  samples: function(arg) {\n    var labelSpec, ls, s0, s1;\n    labelSpec = arg.labelSpec;\n    ls = list(take(2)(samples(labelSpec)));\n    s0 = {\n      rootLabel: ls[0],\n      subForest: []\n    };\n    s1 = {\n      rootLabel: ls[1],\n      subForest: [s0]\n    };\n    return concat(repeat([s0, s1]));\n  },\n  htmlInline: function(arg) {\n    var labelSpec;\n    labelSpec = arg.labelSpec;\n    return \"<span class='type-maker unwrapped'>Tree \" + (htmlInline(labelSpec)) + \"</span>\";\n  },\n  htmlBlock: function(arg) {\n    var labelSpec;\n    labelSpec = arg.labelSpec;\n    return expandBlockHead(function(head) {\n      return \"<span class='type-maker'>Tree \" + head + \"</span>\";\n    })(labelSpec);\n  }\n});\n\nmodule.exports = {\n  Tree: Tree\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],35:[function(require,module,exports){\nvar TreeMap, constraints, genBlockBody, htmlBlock, htmlInline, instance, isTypeSpec, match, ref, ref1, ref2, sample, samples, show, typeclass;\n\nrequire('coffee-mate/global');\n\nref = require('../typeclass'), typeclass = ref.typeclass, instance = ref.instance;\n\nref1 = require('../typespec'), match = ref1.match, constraints = ref1.constraints, show = ref1.show, samples = ref1.samples, sample = ref1.sample, htmlInline = ref1.htmlInline, htmlBlock = ref1.htmlBlock;\n\nref2 = require('../helpers'), genBlockBody = ref2.genBlockBody, isTypeSpec = ref2.isTypeSpec;\n\nTreeMap = (function() {\n  function TreeMap(kspec) {\n    if (!isTypeSpec(kspec)) {\n      throw Error(\"Bad TreeMap Type Definition: TypeSpec as kspec Expected\");\n    }\n    return function(vspec) {\n      if (!isTypeSpec(vspec)) {\n        throw Error(\"Bad TreeMap Type Definition: TypeSpec as vspec Expected\");\n      }\n      return {\n        constructor: TreeMap,\n        kspec: kspec,\n        vspec: vspec\n      };\n    };\n  }\n\n  return TreeMap;\n\n})();\n\ninstance('TypeSpec')(TreeMap).where({\n  match: function(t) {\n    return function(v) {\n      var ks, kspec, mk, mv, tag, vspec;\n      kspec = t.kspec, vspec = t.vspec;\n      mk = match(kspec);\n      mv = match(t);\n      return (v != null) && ((((tag = Object.keys(v)[0]) === 'node') && (all(mk)(ks = Object.keys(v.node)) && all(mv)(map(seek(v.node))(ks)))) || (tag === 'leaf' && match(vspec)(v.leaf)));\n    };\n  },\n  constraints: function(t) {\n    return function(v) {\n      return cons({\n        label: function() {\n          return (show(t)) + \" Expected, But Got \" + v;\n        },\n        flag: function() {\n          var ks, ref3, tag;\n          return (v != null) && (ks = Object.keys(v)).length === 1 && ((ref3 = (tag = ks[0])) === 'node' || ref3 === 'leaf');\n        }\n      })(v == null ? [] : v.node != null ? concat(map(function(arg) {\n        var k, v;\n        k = arg[0], v = arg[1];\n        return [\n          {\n            label: function() {\n              return \"TreeMap Key Expected\";\n            },\n            sub: function() {\n              return constraints(t.kspec)(k);\n            }\n          }, {\n            label: function() {\n              return (show(t)) + \" Expected\";\n            },\n            sub: function() {\n              return constraints(t)(v);\n            }\n          }\n        ];\n      })(enumerate(v.node))) : [\n        {\n          label: function() {\n            return \"Leaf Expected to be \" + (show(t.vspec));\n          },\n          sub: function() {\n            return constraints(t.vspec)(v.leaf);\n          }\n        }\n      ]);\n    };\n  },\n  show: function(arg) {\n    var kspec, vspec;\n    kspec = arg.kspec, vspec = arg.vspec;\n    return \"TreeMap(\" + (show(kspec)) + \")(\" + (show(vspec)) + \")\";\n  },\n  samples: function(arg) {\n    var ks, kspec, vs, vspec;\n    kspec = arg.kspec, vspec = arg.vspec;\n    ks = list(take(4)(samples(kspec)));\n    vs = list(take(3)(samples(vspec)));\n    return concat(repeat([\n      {\n        node: dict([\n          [\n            ks[0], {\n              node: dict([\n                [\n                  ks[2], {\n                    leaf: vs[0]\n                  }\n                ], [\n                  ks[3], {\n                    leaf: vs[1]\n                  }\n                ]\n              ])\n            }\n          ], [\n            ks[1], {\n              leaf: vs[2]\n            }\n          ]\n        ])\n      }\n    ]));\n  },\n  htmlInline: function(arg) {\n    var kspec, vspec;\n    kspec = arg.kspec, vspec = arg.vspec;\n    return \"<span class='type-maker unwrapped'>TreeMap \" + (htmlInline(kspec)) + \" \" + (htmlInline(vspec)) + \"</span>\";\n  },\n  htmlBlock: function(arg) {\n    var kspec, vspec;\n    kspec = arg.kspec, vspec = arg.vspec;\n    return {\n      head: \"<span class='type-maker'>TreeMap (</span>\",\n      body: genBlockBody('treemap', 'meta-field')({\n        key: kspec,\n        value: vspec\n      }),\n      tail: \"<span class='type-maker'>)</span>\"\n    };\n  }\n});\n\nmodule.exports = {\n  TreeMap: TreeMap\n};\n\n\n},{\"../helpers\":13,\"../typeclass\":38,\"../typespec\":39,\"coffee-mate/global\":10}],36:[function(require,module,exports){\nvar Value, instance;\n\nrequire('coffee-mate/global');\n\ninstance = require('../typeclass').instance;\n\nValue = (function() {\n  function Value(v) {\n    if (v == null) {\n      throw Error(\"Bad Value Type Definition: Non-null Value Expected, But Got \" + v);\n    }\n    return {\n      constructor: Value,\n      value: v\n    };\n  }\n\n  return Value;\n\n})();\n\ninstance('TypeSpec')(Value).where({\n  shape: function(spec) {\n    return spec;\n  },\n  match: function(arg) {\n    var value;\n    value = arg.value;\n    return function(v) {\n      return v === value;\n    };\n  },\n  show: function(arg) {\n    var value;\n    value = arg.value;\n    return \"\" + (json(value));\n  },\n  samples: function(arg) {\n    var value;\n    value = arg.value;\n    return repeat(value);\n  },\n  htmlInline: function(arg) {\n    var value;\n    value = arg.value;\n    return \"<span class='type-maker unwrapped'>Value \" + (json(value)) + \"</span>\";\n  }\n});\n\nmodule.exports = {\n  Value: Value\n};\n\n\n},{\"../typeclass\":38,\"coffee-mate/global\":10}],37:[function(require,module,exports){\nvar Any, Bool, Choose, Comparator, ConditionExpr, Context, DimensionFilter, DimensionName, Enum, ExclusionCondition, FieldName, Fn, FooSpec, InclusionCondition, Int, Loose, Map, Measure, MeasureName, MemberName, NamedType, Nat, Number, Optional, Promise, Select, SortCondition, Strict, String, TableName, Tree, TreeMap, Value, ValueExpr, WideTable, bind, entries, fs, genRenderCode, htmlBlock, htmlInline, init, match, ref, ref1, sample, samples, show, showHtml, showPage, style;\n\nref = require('./typespec'), match = ref.match, show = ref.show, sample = ref.sample, samples = ref.samples, showHtml = ref.showHtml, htmlInline = ref.htmlInline, htmlBlock = ref.htmlBlock;\n\nstyle = \".typespec {\\n\tfont-family: monospace;\\n\tfont-size: 16px;\\n\tborder-width: 4px;\\n\tborder-color: rgba(165, 230, 229, 0.24);\\n\tborder-style: ridge;\\n}\\n.typespec>div, .typespec>pre {\\n\tmargin: 0.6em\\n}\\n.typespec .unfolded>.fold, .typespec .folded>.unfold {\\n\tdisplay: none\\n}\\n.typespec ul {\\n\tlist-style-type: none;\\n\tpadding: 0px;\\n\tmargin: 0px 0px 0px 2em;\\n}\\n.typespec .meta-field {\\n\tcolor: gray;\\n}\\n.typespec .field-name {\\n\tfont-weight: bold;\\n\tcolor: #87BFB8\\n}\\n.typespec .type-name {\\n\tcolor: blue;\\n}\\n.typespec .spec .type-name {\\n\tcursor: pointer\\n}\\n.typespec .type-maker {\\n\tcolor: #223497\\n}\\n.typespec .type-maker.unwrapped>.unwrapped:before {\\n\tcontent: '('\\n}\\n.typespec .type-maker.unwrapped>.unwrapped:after {\\n\tcontent: ')'\\n}\\n.typespec .spliter {\\n\tcolor: gray;\\n\tpadding: 0 0.5em\\n}\\n.typespec .sample pre {\\n\tmargin: 0;\\n\tcolor: green;\\n\tmax-height: 20em;\\n\toverflow: auto;\\n}\\n.typespec .spec {\\n\tcursor: default\\n}\\n.typespec .spec li:hover {\\n\ttransition: 1s;\\n\tbackground-color: rgba(140, 150, 255, 0.12)\\n}\\n.typespec .spec .type-name:hover, .typespec .spec .folded-detail:hover, .typespec .fold>.field-name:hover, .typespec .unfold>.field-name:hover, .typespec .fold>.meta-field:hover, .typespec .unfold>.meta-field:hover {\\n\topacity: 0.6\\n}\";\n\nbind = function($) {\n  return function(rootSelection) {\n    rootSelection.find('.unfold').each(function(i, elm) {\n      return $(elm).closest('li,.spec').addClass('unfolded').removeClass('folded');\n    });\n    rootSelection.find('.type-name, .choose').each(function(i, elm) {\n      return $(elm).closest('li').addClass('folded').removeClass('unfolded');\n    });\n    return rootSelection.find('.type-name, .folded-detail, .fold>.field-name, .unfold>.field-name, .fold>.meta-field, .unfold>.meta-field').each(function(i, elm) {\n      var e;\n      if ((e = $(elm).closest('li,.spec')).length > 0) {\n        return $(elm).css({\n          cursor: 'pointer'\n        }).click(function() {\n          return e.toggleClass('folded').toggleClass('unfolded');\n        });\n      }\n    });\n  };\n};\n\nshowPage = function(t) {\n  return \"<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\\n<style>\" + style + \"</style>\\n\" + (showHtml(t)) + \"\\n<script src='http://libs.baidu.com/jquery/1.9.0/jquery.js'></script>\\n<script>(\" + (bind.toString()) + \")(jQuery)($('.typespec'))</script>\";\n};\n\ninit = function($) {\n  return function(bind, specs, style) {\n    $('head').append(\"<style>\" + style + \"</style>\");\n    $('.typespec-hook').each(function(i, elm) {\n      return $(elm).append(specs[$(elm).attr('it')]);\n    });\n    return bind($('.typespec'));\n  };\n};\n\ngenRenderCode = function(entries) {\n  var specs;\n  specs = json(dict(list(map(function(arg) {\n    var k, v;\n    k = arg[0], v = arg[1];\n    return [k, showHtml(v)];\n  })(enumerate(entries)))));\n  return \"(\" + (init.toString()) + \")(jQuery)((\" + bind + \")(jQuery), \" + specs + \", \" + (json(style)) + \")\";\n};\n\nmodule.exports = {\n  showPage: showPage,\n  genRenderCode: genRenderCode\n};\n\nif (module.parent === null) {\n  require('coffee-mate/global');\n  ref1 = require('./index'), Number = ref1.Number, String = ref1.String, Bool = ref1.Bool, Any = ref1.Any, Int = ref1.Int, Nat = ref1.Nat, Enum = ref1.Enum, Value = ref1.Value, Optional = ref1.Optional, Promise = ref1.Promise, Tree = ref1.Tree, Map = ref1.Map, TreeMap = ref1.TreeMap, Fn = ref1.Fn, NamedType = ref1.NamedType, Strict = ref1.Strict, Loose = ref1.Loose, Select = ref1.Select, Choose = ref1.Choose, match = ref1.match, show = ref1.show, sample = ref1.sample, samples = ref1.samples, showHtml = ref1.showHtml, genRenderCode = ref1.genRenderCode, showPage = ref1.showPage;\n  TableName = NamedType({\n    name: 'TableName',\n    spec: String,\n    samples: ['table1', 'table2']\n  });\n  FieldName = NamedType({\n    name: 'FieldName',\n    spec: String,\n    samples: ['product_id', 'sale', 'amount']\n  });\n  Comparator = Enum(['=', '<', '<=', '>=', '>']);\n  WideTable = [\n    {\n      tableName: TableName,\n      join: {\n        leftTableName: TableName,\n        left: FieldName,\n        op: Comparator,\n        right: FieldName\n      }\n    }\n  ];\n  DimensionName = NamedType({\n    name: 'DimensionName',\n    spec: String,\n    samples: ['date', 'product_type', 'city']\n  });\n  MeasureName = NamedType({\n    name: 'MeasureName',\n    spec: String,\n    samples: ['sale', 'profit', 'amount']\n  });\n  Measure = NamedType({\n    name: 'Measure',\n    spec: Strict({\n      name: MeasureName,\n      aggregator: Enum(['sum', 'avg', 'max', 'min'])\n    })\n  });\n  MemberName = NamedType({\n    name: 'MemberName',\n    spec: String,\n    samples: ['2013', '2014', '2015']\n  });\n  ValueExpr = NamedType({\n    name: 'ValueExpr',\n    spec: String,\n    samples: ['sum(sale)']\n  });\n  ConditionExpr = NamedType({\n    name: 'ConditionExpr',\n    spec: String,\n    samples: ['sum(sale) > 100']\n  });\n  DimensionFilter = NamedType({\n    name: 'DimensionFilter',\n    spec: Strict({\n      select: [MemberName],\n      match: Select({\n        contains: String,\n        startWith: String,\n        endWith: String\n      }),\n      condition: Select({\n        limit: Strict({\n          measure: Measure,\n          comparator: Comparator,\n          value: Number\n        }),\n        expr: ConditionExpr\n      }),\n      top: Strict({\n        count: Number,\n        by: Select({\n          measure: Measure,\n          expr: ValueExpr\n        })\n      })\n    })\n  });\n  InclusionCondition = NamedType({\n    name: 'InclusionCondition',\n    spec: Strict({\n      via: [DimensionName],\n      positions: [[MemberName]]\n    })\n  });\n  ExclusionCondition = NamedType({\n    name: 'ExclusionCondition',\n    spec: Strict({\n      via: [DimensionName],\n      positions: [[MemberName]]\n    })\n  });\n  SortCondition = NamedType({\n    name: 'SortCondition',\n    spec: Strict({\n      asc: Bool,\n      by: Select({\n        measure: Measure,\n        expr: ValueExpr\n      }),\n      where: Optional(ConditionExpr)\n    })\n  });\n  Context = {\n    filter: Strict({\n      dimensions: Map(DimensionName)(DimensionFilter),\n      measures: [\n        Strict({\n          measure: Measure,\n          limit: {\n            minBound: Optional(Number),\n            maxBound: Optional(Number)\n          }\n        })\n      ],\n      inclusions: [InclusionCondition],\n      exclusions: [ExclusionCondition]\n    }),\n    sort: Map(DimensionName)(SortCondition)\n  };\n  log(function() {\n    return json(sample(WideTable), 4);\n  });\n  log(function() {\n    return show(Context);\n  });\n  FooSpec = NamedType({\n    name: 'FooSpec',\n    spec: Fn(Number)(Fn({\n      x: Number,\n      y: Number\n    })(Promise({\n      x: String,\n      y: Choose([Nat, String, Value('unavailable')])\n    }))),\n    desc: \"hello\",\n    check: function(x) {\n      return x > 1;\n    }\n  });\n  fs = require('fs');\n  fs.writeFileSync('test.html', showPage(WideTable));\n  entries = {\n    a: FooSpec,\n    b: WideTable,\n    c: Context,\n    d: FieldName,\n    e: Select({\n      x: Number,\n      y: String\n    }),\n    f: Fn(Tree(Int))(Loose({\n      x: Number,\n      y: Number\n    }))\n  };\n  fs.writeFileSync('test2.js', genRenderCode(entries));\n}\n\n\n},{\"./index\":14,\"./typespec\":39,\"coffee-mate/global\":10,\"fs\":1}],38:[function(require,module,exports){\nvar instance, ref, show, typeclass;\n\nrequire('coffee-mate/global');\n\nref = (function() {\n  var instance, instances, reg, typeclass;\n  instances = {};\n  reg = {};\n  typeclass = function(classname) {\n    var cls, ins;\n    cls = reg[classname] != null ? reg[classname] : reg[classname] = {};\n    ins = instances[classname] != null ? instances[classname] : instances[classname] = [];\n    return {\n      hasInstance: function(t) {\n        return ins.indexOf(t) >= 0;\n      },\n      where: function(funcs) {\n        var rst_funcs;\n        rst_funcs = {};\n        foreach(enumerate(funcs), function(arg1) {\n          var f, funcdefault, funcname, ls;\n          funcname = arg1[0], funcdefault = arg1[1];\n          ls = cls[funcname] != null ? cls[funcname] : cls[funcname] = [];\n          f = function(arg) {\n            var funcbody, i, len, ref, type;\n            if (arg == null) {\n              throw TypeError(\"No Instance of \" + classname + \"(via \" + funcname + \"(\" + arg + \")) For \" + arg);\n            }\n            for (i = 0, len = ls.length; i < len; i++) {\n              ref = ls[i], type = ref[0], funcbody = ref[1];\n              if (arg.constructor === type) {\n                return funcbody(arg);\n              }\n            }\n            if (funcdefault != null) {\n              return funcdefault.call(rst_funcs, arg);\n            } else {\n              throw TypeError(\"No Instance of \" + classname + \"(via \" + funcname + \"(\" + arg + \")) For \" + (arg.constructor.name || 'UnnamedType'));\n            }\n          };\n          return rst_funcs[funcname] = f;\n        });\n        return rst_funcs;\n      }\n    };\n  };\n  instance = function(classname) {\n    var cls, ins;\n    cls = reg[classname] != null ? reg[classname] : reg[classname] = {};\n    ins = instances[classname] != null ? instances[classname] : instances[classname] = [];\n    return function(type) {\n      if (ins.indexOf(type) < 0) {\n        ins.push(type);\n      }\n      return {\n        where: function(funcdict) {\n          return foreach(enumerate(funcdict), function(arg1) {\n            var funcbody, funcname;\n            funcname = arg1[0], funcbody = arg1[1];\n            return (cls[funcname] != null ? cls[funcname] : cls[funcname] = []).push([type, funcbody]);\n          });\n        }\n      };\n    };\n  };\n  return {\n    typeclass: typeclass,\n    instance: instance\n  };\n})(), typeclass = ref.typeclass, instance = ref.instance;\n\nmodule.exports = {\n  typeclass: typeclass,\n  instance: instance\n};\n\nif (module.parent === null) {\n  show = typeclass('Show').where({\n    show: function(x) {\n      return str(this.zero(x));\n    },\n    zero: function() {\n      return 0;\n    }\n  }).show;\n  instance('Show')(String).where({\n    show: function(s) {\n      return json(s);\n    }\n  });\n  instance('Show')(Number).where({});\n  log(function() {\n    return show(\"hello\");\n  });\n  log(function() {\n    return show(1);\n  });\n  log(function() {\n    return typeclass('Show').hasInstance(String);\n  });\n  log(function() {\n    return typeclass('Show').hasInstance(Number);\n  });\n  log(function() {\n    return typeclass('Show').hasInstance(Object);\n  });\n}\n\n\n},{\"coffee-mate/global\":10}],39:[function(require,module,exports){\nvar Any, TypeSpec, constraints, typeclass, unmatchMessages;\n\nrequire('coffee-mate/global');\n\ntypeclass = require('./typeclass').typeclass;\n\nAny = require('./prim/Any').Any;\n\nTypeSpec = typeclass('TypeSpec').where({\n  match: null,\n  shape: function(t) {\n    return Any;\n  },\n  constraints: null,\n  withSpec: function(t) {\n    return function(v) {\n      if (!this.match(t)(v)) {\n        throw TypeError({\n          expected: this.show(t),\n          got: v\n        });\n      } else {\n        return v;\n      }\n    };\n  },\n  show: function(t) {\n    return t.name || 'UnnamedType';\n  },\n  samples: null,\n  sample: function(t) {\n    return head(this.samples(t));\n  },\n  htmlInline: function(t) {\n    return \"<span class='type-maker'>\" + (this.show(t)) + \"</span>\";\n  },\n  htmlBlock: function(t) {\n    return null;\n  },\n  showHtml: function(t) {\n    var samplePart, specPart;\n    specPart = (function(_this) {\n      return function() {\n        var block, ref, ref1;\n        block = _this.htmlBlock(t);\n        return (\"<div class='spec'>\\n<div class='\" + (block != null ? 'fold' : 'inline') + \"'><span class='meta-field'>spec</span>: \" + (_this.htmlInline(t)) + \"</div>\\n\" + (block != null ? \"<div class='unfold'>\\n\t<span class='meta-field'>spec</span>: \" + block.head + \"\\n\t\" + ((ref = block.body) != null ? ref : '') + \"\\n\t\" + ((ref1 = block.tail) != null ? ref1 : '') + \"\\n</div>\" : '') + \"\\n</div>\").replace(/(\\t|\\n)/g, '');\n      };\n    })(this)();\n    samplePart = (function(_this) {\n      return function() {\n        var s;\n        s = json(_this.sample(t), 4);\n        return \"<div class='sample'>\\n<span class='meta-field'>sample</span>: \" + (/\\n/.test(s) ? \"<pre class='code'>\" + s + \"</pre>\" : \"<span class='code'>\" + s + \"</span>\") + \"\\n</div>\";\n      };\n    })(this)();\n    return \"<div class='typespec'>\" + (specPart + samplePart) + \"</div>\";\n  }\n});\n\nconstraints = TypeSpec.constraints;\n\nunmatchMessages = function(spec) {\n  return function(v) {\n    var r, rec;\n    r = [];\n    rec = function(ls) {\n      var rst;\n      rst = true;\n      foreach(ls, function(arg) {\n        var flag, label, sub;\n        label = arg.label, flag = arg.flag, sub = arg.sub;\n        if (flag != null) {\n          if (flag() === false) {\n            r.push(label());\n            rst = false;\n            return foreach[\"break\"];\n          }\n        } else if (sub != null) {\n          if (rec(sub()) === false) {\n            r.push(label());\n            rst = false;\n            return foreach[\"break\"];\n          }\n        }\n      });\n      return rst;\n    };\n    rec(constraints(spec)(v));\n    return r;\n  };\n};\n\nmodule.exports = extend({\n  unmatchMessages: unmatchMessages\n})(TypeSpec);\n\n\n},{\"./prim/Any\":15,\"./typeclass\":38,\"coffee-mate/global\":10}]},{},[12])(12)\n});\n\n\n//# sourceMappingURL=global.js.map","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            currentQueue[queueIndex].run();\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function(arg) {\n    var abs, accept_multi_or_array, best, ceil, combine, curry2, curry3, equal, flip, floor, foldl, greaterEqual, greaterThan, lessEqual, lessThan, minus, notEqual, pack, pluck, plus, precise, seek, sum, uncurry2, uncurry3, unpack;\n    best = arg.best, foldl = arg.foldl;\n    flip = function(f) {\n      return function(x) {\n        return function(y) {\n          return f(y)(x);\n        };\n      };\n    };\n    combine = function(f) {\n      return function(g) {\n        return function(x) {\n          return f(g(x));\n        };\n      };\n    };\n    curry2 = function(f) {\n      return function(a) {\n        return function(b) {\n          return f(a, b);\n        };\n      };\n    };\n    curry3 = function(f) {\n      return function(a) {\n        return function(b) {\n          return function(c) {\n            return f(a, b, c);\n          };\n        };\n      };\n    };\n    uncurry2 = function(f) {\n      return function(a, b) {\n        return f(a)(b);\n      };\n    };\n    uncurry3 = function(f) {\n      return function(a, b, c) {\n        return f(a)(b)(c);\n      };\n    };\n    pack = function(f) {\n      return function(arr) {\n        return f.apply(null, arr);\n      };\n    };\n    unpack = function(f) {\n      return function() {\n        var arr;\n        arr = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return f(arr);\n      };\n    };\n    seek = function(arr) {\n      return function(i) {\n        return arr[i];\n      };\n    };\n    pluck = function(attr) {\n      return function(d) {\n        return d[attr];\n      };\n    };\n    equal = function(it) {\n      return function(x) {\n        return x === it;\n      };\n    };\n    notEqual = function(it) {\n      return function(x) {\n        return x !== it;\n      };\n    };\n    lessThan = function(it) {\n      return function(x) {\n        return x < it;\n      };\n    };\n    greaterThan = function(it) {\n      return function(x) {\n        return x > it;\n      };\n    };\n    lessEqual = function(it) {\n      return function(x) {\n        return x <= it;\n      };\n    };\n    greaterEqual = function(it) {\n      return function(x) {\n        return x >= it;\n      };\n    };\n    plus = function(it) {\n      return function(x) {\n        return x + it;\n      };\n    };\n    minus = function(it) {\n      return function(x) {\n        return x - it;\n      };\n    };\n    abs = Math.abs;\n    floor = Math.floor;\n    ceil = Math.ceil;\n    precise = function(n) {\n      return function(x) {\n        return parseFloat(x.toPrecision(n));\n      };\n    };\n    accept_multi_or_array = function(f) {\n      return function() {\n        var arr;\n        arr = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return f(arr.length === 1 && arr.first instanceof Array ? arr.first : arr);\n      };\n    };\n    sum = foldl((function(a, b) {\n      return a + b;\n    }), 0);\n    return {\n      flip: flip,\n      combine: combine,\n      curry2: curry2,\n      curry3: curry3,\n      uncurry2: uncurry2,\n      uncurry3: uncurry3,\n      pack: pack,\n      unpack: unpack,\n      seek: seek,\n      pluck: pluck,\n      equal: equal,\n      notEqual: notEqual,\n      lessThan: lessThan,\n      lessEqual: lessEqual,\n      greaterThan: greaterThan,\n      greaterEqual: greaterEqual,\n      plus: plus,\n      minus: minus,\n      abs: abs,\n      floor: floor,\n      ceil: ceil,\n      precise: precise,\n      sum: sum\n    };\n  };\n\n  module.exports = this_module({\n    best: require('lazy-list').best,\n    foldl: require('lazy-list').foldl\n  });\n\n}).call(this);\n\n//# sourceMappingURL=basics.js.map","(function() {\n  var basics, convertors, funny, lazy, url_helpers, utils;\n\n  utils = require('./utils');\n\n  basics = require('./basics');\n\n  lazy = require('lazy-list');\n\n  funny = require('./funny');\n\n  convertors = require('./convertors');\n\n  url_helpers = require('./url-helpers');\n\n  module.exports = utils.extend({})(utils, basics, lazy, funny, convertors, url_helpers);\n\n}).call(this);\n\n//# sourceMappingURL=coffee-mate.js.map","(function() {\n  var this_module;\n\n  this_module = function() {\n    var bool, chr, float, hex, int, json, obj, ord, str;\n    int = function(s, base) {\n      var r;\n      if (typeof s === 'string') {\n        r = parseInt(s, base);\n        if (!((s.slice != null) && r === parseInt(s.slice(0, -1), base))) {\n          return r;\n        } else {\n          return null;\n        }\n      } else {\n        return parseInt(0 + s);\n      }\n    };\n    float = function(s) {\n      if (/^-?[0-9]*(\\.[0-9]+)?([eE]-?[0-9]+)?$/.test(s)) {\n        return parseFloat(s);\n      } else {\n        return null;\n      }\n    };\n    str = function(x, base) {\n      return x.toString(base);\n    };\n    bool = function(x) {\n      if (x === true || x === false) {\n        return x;\n      } else {\n        return null;\n      }\n    };\n    hex = function(x) {\n      return x.toString(16);\n    };\n    ord = function(c) {\n      return c.charCodeAt();\n    };\n    chr = function(x) {\n      return String.fromCharCode(x);\n    };\n    json = function(it, indent) {\n      return JSON.stringify(it, null, indent);\n    };\n    obj = function(s) {\n      return JSON.parse(s);\n    };\n    return {\n      int: int,\n      float: float,\n      bool: bool,\n      str: str,\n      hex: hex,\n      ord: ord,\n      chr: chr,\n      json: json,\n      obj: obj\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n//# sourceMappingURL=convertors.js.map","(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function() {\n    var Y, church, fix, memoFix, memoize;\n    church = function(n) {\n      var iter;\n      iter = function(f, n, r) {\n        if (n === 0) {\n          return r;\n        } else {\n          return iter(f, n - 1, f(r));\n        }\n      };\n      return function(f) {\n        return function(x) {\n          return iter(f, n + 0, x);\n        };\n      };\n    };\n    Y = function(f) {\n      return (function(x) {\n        return x(x);\n      })((function(x) {\n        return f((function(y) {\n          return (x(x))(y);\n        }));\n      }));\n    };\n    memoize = function(f, get_key) {\n      var cache;\n      if (get_key == null) {\n        get_key = (function() {\n          var args;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return json(args);\n        });\n      }\n      cache = {};\n      return function() {\n        var args, cached, key, r;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        key = get_key.apply(null, args);\n        cached = cache[key];\n        if (cached != null) {\n          return cached;\n        } else {\n          r = f.apply(null, args);\n          cache[key] = r;\n          return r;\n        }\n      };\n    };\n    fix = Y;\n    memoFix = function(ff) {\n      var f;\n      f = memoize(ff((function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return f.apply(null, args);\n      })));\n      return f;\n    };\n    return {\n      church: church,\n      Y: Y,\n      memoize: memoize,\n      fix: fix,\n      memoFix: memoFix\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n//# sourceMappingURL=funny.js.map","(function() {\n  var k, mate, v;\n\n  mate = require('./coffee-mate');\n\n  for (k in mate) {\n    v = mate[k];\n    global[k] = v;\n  }\n\n}).call(this);\n\n//# sourceMappingURL=global.js.map","(function() {\n  var this_module;\n\n  this_module = function() {\n    var uri_decoder, uri_encoder;\n    uri_encoder = function(component_packer) {\n      if (component_packer == null) {\n        component_packer = str;\n      }\n      return function(obj) {\n        var k, v;\n        return ((function() {\n          var results;\n          results = [];\n          for (k in obj) {\n            v = obj[k];\n            if (v !== void 0) {\n              results.push((encodeURIComponent(k)) + \"=\" + (encodeURIComponent(component_packer(v))));\n            }\n          }\n          return results;\n        })()).join('&');\n      };\n    };\n    uri_decoder = function(component_unpacker) {\n      if (component_unpacker == null) {\n        component_unpacker = (function(s) {\n          return s;\n        });\n      }\n      return function(str) {\n        var d, i, j, k, len, ref, ref1, ref2, s, v;\n        d = {};\n        ref1 = (ref = str.match(/[^?=&]+=[^&]*/g)) != null ? ref : [];\n        for (i = 0, len = ref1.length; i < len; i++) {\n          s = ref1[i];\n          ref2 = s.match(/([^=]+)=(.*)/), j = ref2.length - 2, k = ref2[j++], v = ref2[j++];\n          d[decodeURIComponent(k)] = component_unpacker(decodeURIComponent(v));\n        }\n        return d;\n      };\n    };\n    return {\n      uri_encoder: uri_encoder,\n      uri_decoder: uri_decoder\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n//# sourceMappingURL=url-helpers.js.map","(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function() {\n    var assert, assertEq, assertEqOn, copy, deepcopy, dict, extend, function_literal, log, overload, ref, securely, time_now, update;\n    function_literal = function(f) {\n      var expr;\n      expr = f.toString().replace(/^\\s*function\\s?\\(\\s?\\)\\s?{\\s*return\\s*([^]*?);?\\s*}$/, '$1');\n      if (expr.length <= 100) {\n        expr = expr.replace(/[\\r\\n]{1,2}\\s*/g, '');\n      }\n      return expr;\n    };\n    time_now = function() {\n      return (new Date).getTime();\n    };\n    log = (function() {\n      var dye, factory, got, histories, log_label;\n      dye = (function() {\n        var cavailable, palette;\n        cavailable = (typeof window === \"undefined\" || window === null) && (typeof process !== \"undefined\" && process !== null) && !process.env.NODE_DISABLE_COLORS;\n        palette = {\n          bold: '\\x1B[0;1m',\n          red: '\\x1B[0;31m',\n          green: '\\x1B[0;32m',\n          yellow: '\\x1B[0;33m',\n          blue: '\\x1B[0;34m',\n          bold_grey: '\\x1B[1;30m'\n        };\n        if (!cavailable) {\n          return function(color) {\n            return function(s) {\n              return s;\n            };\n          };\n        } else {\n          return function(color) {\n            return function(s) {\n              return \"\" + palette[color] + s + '\\x1B[0m';\n            };\n          };\n        }\n      })();\n      log_label = (function() {\n        var flag_palette, op_flag;\n        flag_palette = {\n          '#': 'bold_grey',\n          'I': 'green',\n          'E': 'red',\n          'W': 'yellow'\n        };\n        op_flag = function(op) {\n          if (op === 'log') {\n            return '#';\n          } else {\n            return op[0].toUpperCase();\n          }\n        };\n        return function(op) {\n          var flag;\n          flag = op_flag(op);\n          return dye(flag_palette[flag])(flag);\n        };\n      })();\n      histories = [];\n      factory = function(op) {\n        var prefix;\n        prefix = \"\" + (dye('bold_grey')('#')) + (log_label(op));\n        return function() {\n          var args, ball, eval_result, expr, f, i, len, start_time, time_used;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          ball = [];\n          for (i = 0, len = args.length; i < len; i++) {\n            f = args[i];\n            if (typeof f === 'function') {\n              expr = function_literal(f);\n              start_time = time_now();\n              eval_result = f();\n              time_used = time_now() - start_time;\n              ball.push(prefix + \" \" + (dye('green')(expr)) + \" \" + (dye('bold_grey')('==>')), eval_result);\n              if (time_used > 0) {\n                ball.push(dye('yellow')(\"[\" + time_used + \"ms]\"));\n              }\n            } else {\n              ball.push(\"\" + prefix, f);\n            }\n          }\n          console[op].apply(console, ball);\n          histories.push(ball);\n          if (histories.length >= 10) {\n            histories.shift();\n          }\n          return null;\n        };\n      };\n      got = factory('log');\n      got.histories = histories;\n      got.info = factory('info');\n      got.warn = factory('warn');\n      got.error = got.err = factory('error');\n      return got;\n    })();\n    assert = function(f, msg) {\n      var e, r, ref;\n      if (!(f instanceof Function)) {\n        ref = [msg, f], f = ref[0], msg = ref[1];\n      }\n      try {\n        r = f();\n      } catch (_error) {\n        e = _error;\n        throw Error(\"Assertion \" + (msg != null ? msg : function_literal(f)) + \" Unknown:\\n\" + e);\n      }\n      if (!r) {\n        throw Error(\"Assertion \" + (msg != null ? msg : function_literal(f)) + \" Failed!\");\n      }\n    };\n    assertEq = function(l, r) {\n      var e, lv, rv;\n      try {\n        lv = l();\n        rv = r();\n      } catch (_error) {\n        e = _error;\n        throw Error(\"Equation Between \" + (function_literal(l)) + \" And \" + (function_literal(r)) + \" Unknown:\\n\" + e);\n      }\n      if (lv !== rv) {\n        throw Error(\"Equation Failed:\\n\\t\" + (function_literal(l)) + \" IS \" + lv + \" BUT\\n\\t\" + (function_literal(r)) + \" IS \" + rv + \".\");\n      }\n    };\n    assertEqOn = function(f) {\n      return function(l, r) {\n        var e, flv, frv, lv, rv;\n        try {\n          lv = l();\n          rv = r();\n          flv = f(lv);\n          frv = f(rv);\n        } catch (_error) {\n          e = _error;\n          throw Error(\"MAPPED Equation Between \" + (function_literal(l)) + \" And \" + (function_literal(r)) + \" Unknown:\\n\" + e);\n        }\n        if (flv !== frv) {\n          throw Error(\"Equation Failed:\\n\\t\" + (function_literal(l)) + \" IS \" + lv + \" AND MAPPED TO \" + flv + \" BUT\\n\\t\" + (function_literal(r)) + \" IS \" + rv + \" AND MAPPED TO \" + frv + \".\");\n        }\n      };\n    };\n    securely = function(f) {\n      return function() {\n        var args;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        args = deepcopy(args);\n        return f.apply(null, args);\n      };\n    };\n    dict = function(pairs) {\n      var d, i, k, len, ref, v;\n      d = {};\n      for (i = 0, len = pairs.length; i < len; i++) {\n        ref = pairs[i], k = ref[0], v = ref[1];\n        d[k] = v;\n      }\n      return d;\n    };\n    ref = (function() {\n      var cp;\n      cp = function(root, dep) {\n        var k, r, v;\n        if (dep === 0 || (root == null) || typeof root !== 'object') {\n          return root;\n        }\n        if (root instanceof Array) {\n          r = (function() {\n            var i, len, results;\n            results = [];\n            for (i = 0, len = root.length; i < len; i++) {\n              v = root[i];\n              results.push(cp(v, dep - 1));\n            }\n            return results;\n          })();\n        } else {\n          r = {};\n          for (k in root) {\n            v = root[k];\n            r[k] = cp(v, dep - 1);\n          }\n        }\n        return r;\n      };\n      return {\n        copy: function(obj, depth) {\n          if (depth == null) {\n            depth = 1;\n          }\n          return cp(obj, depth);\n        },\n        deepcopy: function(obj, depth) {\n          if (depth == null) {\n            depth = Infinity;\n          }\n          return cp(obj, depth);\n        }\n      };\n    })(), copy = ref.copy, deepcopy = ref.deepcopy;\n    extend = function(base) {\n      return function() {\n        var d, defaults, i, k, len, v;\n        defaults = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        for (i = 0, len = defaults.length; i < len; i++) {\n          d = defaults[i];\n          if (d != null) {\n            for (k in d) {\n              v = d[k];\n              if (base[k] == null) {\n                base[k] = v;\n              }\n            }\n          }\n        }\n        return base;\n      };\n    };\n    update = function(base) {\n      return function() {\n        var d, i, k, len, updates, v;\n        updates = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        for (i = 0, len = updates.length; i < len; i++) {\n          d = updates[i];\n          if (d != null) {\n            for (k in d) {\n              v = d[k];\n              base[k] = v;\n            }\n          }\n        }\n        return base;\n      };\n    };\n    overload = function(_d) {\n      var d, fallback;\n      d = copy(_d);\n      fallback = d['_'];\n      if (fallback != null) {\n        return function() {\n          var args, ref1;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return ((ref1 = d[args.length]) != null ? ref1 : fallback).apply(null, args);\n        };\n      } else {\n        return function() {\n          var args, f;\n          args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          f = d[args.length];\n          if (f == null) {\n            throw Error(\"This Function Can't Accept \" + args.length + \" Args\");\n          } else {\n            return f.apply(null, args);\n          }\n        };\n      }\n    };\n    return {\n      log: log,\n      assert: assert,\n      assertEq: assertEq,\n      assertEqOn: assertEqOn,\n      dict: dict,\n      copy: copy,\n      deepcopy: deepcopy,\n      securely: securely,\n      extend: extend,\n      update: update,\n      overload: overload\n    };\n  };\n\n  module.exports = this_module();\n\n}).call(this);\n\n//# sourceMappingURL=utils.js.map","require('./build/nodejs/global.js');\n","(function() {\n  var this_module,\n    slice = [].slice;\n\n  this_module = function(arg) {\n    var Iterator, LazyList, Symbol, all, any, best, brk, cartProd, concat, cons, drop, dropWhile, enumerate, filter, foldl, foreach, fromList, groupOn, head, iterate, last, lazy, length, list, map, maximum, maximumOn, minimum, minimumOn, naturals, nil, partition, permutations, primes, randoms, range, ref, repeat, reverse, scanl, sort, sortOn, streak, streak2, take, takeWhile, zip, zipWith;\n    Symbol = arg.Symbol;\n    LazyList = function(f) {\n      f[Symbol.iterator] = function() {\n        return f();\n      };\n      f.toString = function() {\n        return \"LazyList\";\n      };\n      return f;\n    };\n    nil = LazyList(function() {\n      return nil;\n    });\n    nil.toString = function() {\n      return 'nil';\n    };\n    Iterator = function(it) {\n      it.next = function() {\n        var r;\n        r = it();\n        return {\n          value: r,\n          done: r === nil\n        };\n      };\n      it.toString = function() {\n        return \"Iterator\";\n      };\n      return it;\n    };\n    naturals = LazyList(function() {\n      var i;\n      i = -1;\n      return Iterator(function() {\n        return ++i;\n      });\n    });\n    range = function() {\n      var args;\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      if (args.length === 0) {\n        return naturals;\n      } else if (args.length === 1) {\n        return LazyList(function() {\n          var i, stop;\n          stop = args[0];\n          i = -1;\n          return Iterator(function() {\n            if (++i < stop) {\n              return i;\n            } else {\n              return nil;\n            }\n          });\n        });\n      } else if (args.length === 2) {\n        return LazyList(function() {\n          var i, start, stop;\n          start = args[0], stop = args[1];\n          if (start < stop) {\n            i = start - 1;\n            return Iterator(function() {\n              if (++i < stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          } else {\n            i = start + 1;\n            return Iterator(function() {\n              if (--i > stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          }\n        });\n      } else {\n        return LazyList(function() {\n          var i, start, step, stop;\n          start = args[0], stop = args[1], step = args[2];\n          if (stop !== start && (stop - start) * step < 0) {\n            throw 'ERR IN range(): YOU ARE CREATING AN UNLIMITTED RANGE';\n          }\n          i = start - step;\n          if (start < stop) {\n            return Iterator(function() {\n              if ((i += step) < stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          } else {\n            return Iterator(function() {\n              if ((i += step) > stop) {\n                return i;\n              } else {\n                return nil;\n              }\n            });\n          }\n        });\n      }\n    };\n    primes = LazyList(function() {\n      return filter(function(x) {\n        return all(function(p) {\n          return x % p !== 0;\n        })(takeWhile(function(p) {\n          return p * p <= x;\n        })(range(2, Infinity)));\n      })(range(2, Infinity))();\n    });\n    lazy = function(xs) {\n      var ref;\n      if (typeof xs === 'function') {\n        if (xs[Symbol.iterator] != null) {\n          return xs;\n        } else {\n          return LazyList(xs);\n        }\n      } else if ((ref = xs.constructor) === Array || ref === String) {\n        return LazyList(function() {\n          var i;\n          i = -1;\n          return Iterator(function() {\n            if ((++i) < xs.length) {\n              return xs[i];\n            } else {\n              return nil;\n            }\n          });\n        });\n      } else if (xs[Symbol.iterator] != null) {\n        return LazyList(function() {\n          var it;\n          it = xs[Symbol.iterator]();\n          return Iterator(function() {\n            var r;\n            r = it.next();\n            if (r.done) {\n              return nil;\n            } else {\n              return r.value;\n            }\n          });\n        });\n      } else {\n        throw Error('lazy(xs): xs is neither Array nor Iterable');\n      }\n    };\n    enumerate = function(it) {\n      if ((it[Symbol.iterator] != null) || it instanceof Array) {\n        return zip(naturals, it);\n      } else {\n        return LazyList(function() {\n          var i, keys;\n          keys = Object.keys(it);\n          i = -1;\n          return Iterator(function() {\n            var k;\n            if (++i < keys.length) {\n              return [(k = keys[i]), it[k]];\n            } else {\n              return nil;\n            }\n          });\n        });\n      }\n    };\n    repeat = function(x) {\n      return LazyList(function() {\n        return Iterator(function() {\n          return x;\n        });\n      });\n    };\n    iterate = function(next, init) {\n      return LazyList(function() {\n        var st;\n        st = init;\n        return Iterator(function() {\n          var r;\n          r = st;\n          st = next(st);\n          return r;\n        });\n      });\n    };\n    randoms = (function() {\n      var hash, normal, salt;\n      salt = Math.PI / 3.0;\n      hash = function(x) {\n        x = Math.sin(x + salt) * 1e4;\n        return x - Math.floor(x);\n      };\n      normal = function(seed) {\n        return iterate(hash, hash(seed));\n      };\n      return function(opts) {\n        var k, ref, ref1, rg, s, seed;\n        if (opts == null) {\n          return normal(0);\n        } else if (typeof opts === 'number') {\n          return normal(opts);\n        } else {\n          seed = (ref = opts.seed) != null ? ref : 0;\n          rg = opts.range;\n          if (rg != null) {\n            if (typeof rg === 'number') {\n              return map(function(x) {\n                return Math.floor(x * rg);\n              })(normal(seed));\n            } else {\n              ref1 = [rg[0], rg[1] - rg[0] + 1], s = ref1[0], k = ref1[1];\n              return map(function(x) {\n                return s + Math.floor(x * k);\n              })(normal(seed));\n            }\n          } else {\n            return normal(seed);\n          }\n        }\n      };\n    })();\n    permutations = (function() {\n      var next_permutation;\n      next_permutation = function(x) {\n        var l, m, r, ref, ref1;\n        x = x.slice(0);\n        l = x.length - 1;\n        while (l >= 1 && x[l] <= x[l - 1]) {\n          --l;\n        }\n        if (l !== 0) {\n          m = x.length - 1;\n          while (m > l - 1 && x[m] <= x[l - 1]) {\n            --m;\n          }\n          ref = [x[l - 1], x[m]], x[m] = ref[0], x[l - 1] = ref[1];\n        }\n        r = x.length - 1;\n        while (l < r) {\n          ref1 = [x[r], x[l]], x[l] = ref1[0], x[r] = ref1[1];\n          ++l;\n          --r;\n        }\n        return x;\n      };\n      return function(xs) {\n        var arr;\n        arr = list(xs);\n        if (arr.length === 0) {\n          return nil;\n        } else {\n          return cons(arr.slice(0))(takeWhile(function(ls) {\n            return json(ls) !== json(arr);\n          })(drop(1)(iterate(next_permutation, arr))));\n        }\n      };\n    })();\n    take = function(n) {\n      return function(xs) {\n        return LazyList(function() {\n          var c, iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          c = -1;\n          return Iterator(function() {\n            if (++c < n) {\n              return iter();\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    };\n    takeWhile = function(ok) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var x;\n            if ((x = iter()) !== nil && ok(x)) {\n              return x;\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    };\n    drop = function(n) {\n      return function(xs) {\n        return LazyList(function() {\n          var finished, i, iter, j, ref;\n          iter = lazy(xs)[Symbol.iterator]();\n          finished = false;\n          for (i = j = 0, ref = n; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n            finished || (finished = iter() === nil);\n            if (finished) {\n              break;\n            }\n          }\n          if (finished) {\n            return function() {\n              return nil;\n            };\n          } else {\n            return iter;\n          }\n        });\n      };\n    };\n    dropWhile = function(ok) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter, x;\n          iter = lazy(xs)[Symbol.iterator]();\n          while (ok(x = iter()) && x !== nil) {\n            null;\n          }\n          return Iterator(function() {\n            var prevx, ref;\n            ref = [x, iter()], prevx = ref[0], x = ref[1];\n            return prevx;\n          });\n        });\n      };\n    };\n    cons = function(x) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = null;\n          return Iterator(function() {\n            if (iter === null) {\n              iter = lazy(xs)[Symbol.iterator]();\n              return x;\n            } else {\n              return iter();\n            }\n          });\n        });\n      };\n    };\n    map = function(f) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var x;\n            if ((x = iter()) !== nil) {\n              return f(x);\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    };\n    filter = function(ok) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var x;\n            while ((x = iter()) !== nil && !ok(x)) {\n              null;\n            }\n            return x;\n          });\n        });\n      };\n    };\n    scanl = function(f, r) {\n      return function(xs) {\n        return LazyList(function() {\n          var iter;\n          iter = lazy(xs)[Symbol.iterator]();\n          return Iterator(function() {\n            var got, x;\n            got = r;\n            r = (x = iter()) !== nil ? f(r, x) : nil;\n            return got;\n          });\n        });\n      };\n    };\n    streak = function(n) {\n      if (n < 1) {\n        return nil;\n      } else {\n        return function(xs) {\n          return drop(n - 1)(LazyList(function() {\n            var buf, iter;\n            iter = lazy(xs)[Symbol.iterator]();\n            buf = [];\n            return Iterator(function() {\n              var x;\n              if ((x = iter()) === nil) {\n                return nil;\n              }\n              buf.push(x);\n              if (buf.length > n) {\n                buf.shift(1);\n              }\n              return buf.slice(0);\n            });\n          }));\n        };\n      }\n    };\n    streak2 = function(n) {\n      return function(xs) {\n        return streak(n)(concat([xs, take(n - 1)(xs)]));\n      };\n    };\n    reverse = function(xs) {\n      var ref;\n      if ((ref = xs.constructor) === Array || ref === String) {\n        return LazyList(function() {\n          var i;\n          i = xs.length;\n          return Iterator(function() {\n            if ((--i) >= 0) {\n              return xs[i];\n            } else {\n              return nil;\n            }\n          });\n        });\n      } else {\n        return list(lazy(xs)).reverse();\n      }\n    };\n    sort = function(xs) {\n      var arr;\n      arr = list(lazy(xs));\n      return arr.sort(function(a, b) {\n        return (a > b) - (a < b);\n      });\n    };\n    sortOn = function(f) {\n      return function(xs) {\n        var arr;\n        arr = list(lazy(xs));\n        return arr.sort(function(a, b) {\n          var fa, fb;\n          return ((fa = f(a)) > (fb = f(b))) - (fa < fb);\n        });\n      };\n    };\n    groupOn = function(f) {\n      return function(xs) {\n        var k, memo, v;\n        memo = {};\n        foreach(xs, function(x) {\n          var y;\n          y = f(x);\n          if (memo[y] == null) {\n            memo[y] = [];\n          }\n          return memo[y].push(x);\n        });\n        return (function() {\n          var results;\n          results = [];\n          for (k in memo) {\n            v = memo[k];\n            results.push(v);\n          }\n          return results;\n        })();\n      };\n    };\n    partition = function(f) {\n      return function(xs) {\n        var memo;\n        memo = [[], []];\n        foreach(xs, function(x) {\n          var y;\n          y = !f(x) + 0;\n          return memo[y].push(x);\n        });\n        return memo;\n      };\n    };\n    concat = function(xss) {\n      xss = filter(function(x) {\n        var ref;\n        return ((ref = x.constructor) !== Array && ref !== String) || x.length > 0;\n      })(xss);\n      return LazyList(function() {\n        var iter, xs, xs_iter;\n        xs_iter = lazy(xss)[Symbol.iterator]();\n        xs = xs_iter();\n        iter = lazy(xs)[Symbol.iterator]();\n        return Iterator(function() {\n          var x;\n          if ((x = iter()) !== nil) {\n            return x;\n          } else if ((xs = xs_iter()) !== nil) {\n            iter = lazy(xs)[Symbol.iterator]();\n            return iter();\n          } else {\n            return nil;\n          }\n        });\n      });\n    };\n    ref = (function() {\n      var finished, zip, zipWith;\n      finished = function(arr) {\n        var j, len1, x;\n        for (j = 0, len1 = arr.length; j < len1; j++) {\n          x = arr[j];\n          if (x === nil) {\n            return true;\n          }\n        }\n        return false;\n      };\n      zip = function() {\n        var xss;\n        xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return LazyList(function() {\n          var iters, xs;\n          iters = (function() {\n            var j, len1, results;\n            results = [];\n            for (j = 0, len1 = xss.length; j < len1; j++) {\n              xs = xss[j];\n              results.push(lazy(xs)[Symbol.iterator]());\n            }\n            return results;\n          })();\n          return Iterator(function() {\n            var iter, next;\n            next = (function() {\n              var j, len1, results;\n              results = [];\n              for (j = 0, len1 = iters.length; j < len1; j++) {\n                iter = iters[j];\n                results.push(iter());\n              }\n              return results;\n            })();\n            if (finished(next)) {\n              return nil;\n            } else {\n              return next;\n            }\n          });\n        });\n      };\n      zipWith = function(f) {\n        return function() {\n          var xss;\n          xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n          return LazyList(function() {\n            var iters, xs;\n            iters = (function() {\n              var j, len1, results;\n              results = [];\n              for (j = 0, len1 = xss.length; j < len1; j++) {\n                xs = xss[j];\n                results.push(lazy(xs)[Symbol.iterator]());\n              }\n              return results;\n            })();\n            return Iterator(function() {\n              var iter, next;\n              next = (function() {\n                var j, len1, results;\n                results = [];\n                for (j = 0, len1 = iters.length; j < len1; j++) {\n                  iter = iters[j];\n                  results.push(iter());\n                }\n                return results;\n              })();\n              if (finished(next)) {\n                return nil;\n              } else {\n                return f.apply(null, next);\n              }\n            });\n          });\n        };\n      };\n      return {\n        zip: zip,\n        zipWith: zipWith\n      };\n    })(), zip = ref.zip, zipWith = ref.zipWith;\n    cartProd = (function() {\n      var apply_vector, inc_vector;\n      inc_vector = function(limits) {\n        var len_minus_1;\n        len_minus_1 = limits.length - 1;\n        return function(vec) {\n          var i;\n          i = len_minus_1;\n          while (!(++vec[i] < limits[i] || i <= 0)) {\n            vec[i--] = 0;\n          }\n          return vec;\n        };\n      };\n      apply_vector = function(space) {\n        var len;\n        len = space.length;\n        return function(vec) {\n          var i, j, ref1, results;\n          results = [];\n          for (i = j = 0, ref1 = len; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {\n            results.push(space[i][vec[i]]);\n          }\n          return results;\n        };\n      };\n      return function() {\n        var xss;\n        xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return LazyList(function() {\n          var get_value, i, inc, j, len, len1, limits, v, xs;\n          xss = (function() {\n            var j, len1, results;\n            results = [];\n            for (j = 0, len1 = xss.length; j < len1; j++) {\n              xs = xss[j];\n              results.push(list(xs));\n            }\n            return results;\n          })();\n          limits = (function() {\n            var j, ref1, results;\n            results = [];\n            for (i = j = 0, ref1 = xss.length; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {\n              results.push(xss[i].length);\n            }\n            return results;\n          })();\n          for (j = 0, len1 = limits.length; j < len1; j++) {\n            len = limits[j];\n            if (len === 0) {\n              return nil;\n            }\n          }\n          inc = inc_vector(limits);\n          get_value = apply_vector(xss);\n          v = (function() {\n            var o, ref1, results;\n            results = [];\n            for (i = o = 0, ref1 = xss.length; 0 <= ref1 ? o < ref1 : o > ref1; i = 0 <= ref1 ? ++o : --o) {\n              results.push(0);\n            }\n            return results;\n          })();\n          return Iterator(function() {\n            var r;\n            if (v[0] < limits[0]) {\n              r = get_value(v);\n              inc(v);\n              return r;\n            } else {\n              return nil;\n            }\n          });\n        });\n      };\n    })();\n    list = function(xs) {\n      var it, n, results, results1, x;\n      if (xs instanceof Array) {\n        return xs;\n      } else if (typeof xs === 'function') {\n        it = xs[Symbol.iterator]();\n        results = [];\n        while ((x = it()) !== nil) {\n          results.push(x);\n        }\n        return results;\n      } else if (xs[Symbol.iterator] != null) {\n        it = lazy(xs)[Symbol.iterator]();\n        results1 = [];\n        while ((x = it()) !== nil) {\n          results1.push(x);\n        }\n        return results1;\n      } else if (typeof xs === 'number') {\n        n = xs;\n        return function(xs) {\n          return list(take(n)(xs));\n        };\n      } else {\n        throw Error({\n          message: 'list(xs): xs is neither Array nor Iterable',\n          info: {\n            \"xs\": xs,\n            \"xs.constructor\": xs != null ? xs.constructor : void 0\n          }\n        });\n      }\n    };\n    head = function(xs) {\n      var iter, r, ref1;\n      if ((ref1 = xs.constructor) === Array || ref1 === String) {\n        if (xs.length > 0) {\n          return xs[0];\n        } else {\n          throw \"Error: head() used on empty list.\";\n        }\n      } else {\n        iter = lazy(xs)[Symbol.iterator]();\n        if ((r = iter()) !== nil) {\n          return r;\n        } else {\n          throw \"Error: head() used on empty list.\";\n        }\n      }\n    };\n    last = function(xs) {\n      var iter, r, ref1, ref2, x;\n      if ((ref1 = xs.constructor) === Array || ref1 === String) {\n        return (ref2 = xs[xs.length - 1]) != null ? ref2 : nil;\n      } else {\n        iter = lazy(xs)[Symbol.iterator]();\n        r = nil;\n        while ((x = iter()) !== nil) {\n          r = x;\n        }\n        return r;\n      }\n    };\n    length = function(xs) {\n      var iter, r, ref1, x;\n      if ((ref1 = xs.constructor) === Array || ref1 === String) {\n        return xs.length;\n      } else {\n        iter = lazy(xs)[Symbol.iterator]();\n        r = 0;\n        while ((x = iter()) !== nil) {\n          ++r;\n        }\n        return r;\n      }\n    };\n    foldl = function(f, init) {\n      return function(xs) {\n        var iter, r, x;\n        r = init;\n        iter = lazy(xs)[Symbol.iterator]();\n        while ((x = iter()) !== nil) {\n          r = f(r, x);\n        }\n        return r;\n      };\n    };\n    best = function(better) {\n      return function(xs) {\n        var it, iter, r;\n        iter = lazy(xs)[Symbol.iterator]();\n        if ((r = iter()) === nil) {\n          return null;\n        }\n        while ((it = iter()) !== nil) {\n          r = better(it, r) ? it : r;\n        }\n        return r;\n      };\n    };\n    maximumOn = function(f) {\n      return best(function(a, b) {\n        return f(a) > f(b);\n      });\n    };\n    minimumOn = function(f) {\n      return best(function(a, b) {\n        return f(a) > f(b);\n      });\n    };\n    maximum = best(function(x, y) {\n      return x > y;\n    });\n    minimum = best(function(x, y) {\n      return x < y;\n    });\n    all = function(f) {\n      if (typeof f !== 'function') {\n        f = (function(x) {\n          return x === f;\n        });\n      }\n      return function(xs) {\n        var iter, x;\n        iter = lazy(xs)[Symbol.iterator]();\n        while ((x = iter()) !== nil) {\n          if (!f(x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n    any = function(f) {\n      var all_not;\n      all_not = all(function(x) {\n        return !f(x);\n      });\n      return function(xs) {\n        return !(all_not(xs));\n      };\n    };\n    fromList = function(pairs) {\n      var r;\n      r = {};\n      foreach(pairs, function(arg1) {\n        var k, v;\n        k = arg1[0], v = arg1[1];\n        return r[k] = v;\n      });\n      return r;\n    };\n    brk = function() {\n      return brk;\n    };\n    brk.toString = function() {\n      return 'foreach.break';\n    };\n    foreach = function(xs, callback, fruit) {\n      var iter, x;\n      iter = lazy(xs)[Symbol.iterator]();\n      while ((x = iter()) !== nil) {\n        if (callback(x, fruit) === brk) {\n          break;\n        }\n      }\n      return fruit;\n    };\n    Object.defineProperties(foreach, {\n      \"break\": {\n        writable: false,\n        configurable: false,\n        enumerable: false,\n        value: brk\n      }\n    });\n    return {\n      nil: nil,\n      LazyList: LazyList,\n      Iterator: Iterator,\n      Symbol: Symbol,\n      naturals: naturals,\n      range: range,\n      primes: primes,\n      lazy: lazy,\n      enumerate: enumerate,\n      repeat: repeat,\n      iterate: iterate,\n      randoms: randoms,\n      permutations: permutations,\n      cons: cons,\n      map: map,\n      filter: filter,\n      take: take,\n      takeWhile: takeWhile,\n      drop: drop,\n      dropWhile: dropWhile,\n      scanl: scanl,\n      streak: streak,\n      streak2: streak2,\n      reverse: reverse,\n      sort: sort,\n      sortOn: sortOn,\n      groupOn: groupOn,\n      partition: partition,\n      concat: concat,\n      zip: zip,\n      zipWith: zipWith,\n      cartProd: cartProd,\n      list: list,\n      head: head,\n      last: last,\n      length: length,\n      foldl: foldl,\n      best: best,\n      maximum: maximum,\n      minimum: minimum,\n      maximumOn: maximumOn,\n      minimumOn: minimumOn,\n      all: all,\n      any: any,\n      fromList: fromList,\n      foreach: foreach\n    };\n  };\n\n  module.exports = this_module({\n    Symbol: typeof Symbol !== \"undefined\" && Symbol !== null ? Symbol : {\n      iterator: 'iter'\n    }\n  });\n\n}).call(this);\n\n//# sourceMappingURL=lazy.js.map","index = require('./index')\nglobal[k] = v for k, v of index\n","{htmlInline, htmlBlock} = require './typespec'\n{typeclass} = require './typeclass'\n\nexpandBlockHead = (f) -> (spec) ->\n\tblock = htmlBlock spec\n\tif not block?\n\t\tnull\n\telse\n\t\thead: f(block.head)\n\t\tbody: block.body\n\t\ttail: block.tail\n\ngenBlockBody = (bodyClass, keyClass) -> (specdict) ->\n\tlis = map(([k, v]) ->\n\t\tblock = htmlBlock v\n\t\treturn \"\"\"\n\t\t<li>\n\t\t<div class='#{if block? then 'fold' else 'inline'}'>\n\t\t\t<span class='#{keyClass}'>#{k}</span>: #{htmlInline v}\n\t\t</div>\n\t\t#{if block? then (\n\t\t\t\"\"\"\n\t\t\t<div class='unfold'>\n\t\t\t\t<span class='#{keyClass}'>#{k}</span>: #{block.head}\n\t\t\t\t#{block.body ? ''}\n\t\t\t\t#{block.tail ? ''}\n\t\t\t</div>\n\t\t\t\"\"\"\n\t\t) else ''}\n\t\t</li>\n\t\t\"\"\"\n\t) enumerate(specdict)\n\treturn \"<ul class='#{bodyClass}'>\" + (list lis).join('\\n') + \"</ul>\"\n\nisTypeSpec = (spec) ->\n\tspec? and typeclass('TypeSpec').hasInstance(spec.constructor)\n\nisTypeSpecDict = (specdict) ->\n\tspecdict? and all(([k, v]) -> isTypeSpec(v)) enumerate(specdict)\n\nmodule.exports = {expandBlockHead, genBlockBody, isTypeSpec, isTypeSpecDict}\n\n","require './prim/object'\nrequire './prim/array'\nrequire './prim/constructor'\n{Bool} = require './prim/bool'\n{Any} = require './prim/any'\n{Int} = require './prim/int'\n{Nat} = require './prim/nat'\n{Enum} = require './prim/enum'\n{Value} = require './prim/value'\n{Optional} = require './prim/optional'\n{Promise} = require './prim/promise'\n{Tree} = require './prim/tree'\n{Map} = require './prim/map'\n{TreeMap} = require './prim/treemap'\n{Fn} = require './prim/fn'\n{NamedType} = require './prim/namedtype'\n{Strict} = require './prim/strict'\n{Loose} = require './prim/loose'\n{Select} = require './prim/select'\n{Choose} = require './prim/choose'\n{OneOf} = require './prim/oneof'\n{match, unmatchMessages, show, sample, samples, showHtml, htmlInline, htmlBlock} = require './typespec'\n{genRenderCode, showPage} = require './render'\n{typeclass, instance} = require './typeclass'\n\nmodule.exports = {\n\tNumber, String,\n\tBool, Any, Int, Nat, Enum, Value,\n\tOptional, Promise, Tree,\n\tMap, TreeMap, Fn,\n\tNamedType, Strict, Loose, Select, Choose, OneOf\n\tmatch, unmatchMessages, show, sample, samples, showHtml, genRenderCode, showPage,\n}\n\nif module.parent is null\n\trequire 'coffee-mate/global'\n\tUserName = Optional String\n\tUserInfo = {\n\t\tname: UserName\n\t\tposition: String\n\t\tage: Number\n\t}\n\tassert -> match(UserName)('luo') is true\n\tassert -> match(UserName)(1) is false\n\tlog -> show UserName\n\t#log -> show UserInfo\n\n\tTableName = NamedType\n\t\tname: 'TableName'\n\t\tspec: String\n\t\tsamples: ['table1', 'table2']\n\tFieldName = NamedType\n\t\tname: 'FieldName'\n\t\tspec: String\n\t\tsamples: ['product_id', 'sale', 'amount']\n\tComparator = Enum ['=', '<', '<=', '>=', '>']\n\n\tWideTable = [{\n\t\ttableName: TableName\n\t\tjoin: {\n\t\t\tleftTableName: TableName\n\t\t\tleft: FieldName\n\t\t\top: Comparator\n\t\t\tright: FieldName\n\t\t}\n\t}]\n\tlog -> unmatchMessages(WideTable) [\n\t\t{\n\t\t\ttableName: 'a'\n\t\t\tjoin: {\n\t\t\t}\n\t\t}\n\t]\n\t#log -> list(10) samples Any\n\t#log -> json list take(20) samples Any\n\t#log -> json sample Any\n\t#log -> sample Function\n\t#log -> json list take(20) samples [Any]\n\t#log -> json list take(20) samples Optional String\n\t#log -> json list take(20) samples Map(TableName, Number)\n\t#log -> json list take(20) samples NamedType spec: Strict {x: Number, y: String}\n\t#log -> json sample Enum ['a', 'b']\n\t#log -> json list take(20) samples [{tableName: TableName, join: {op: Number}}]\n\t#log -> json sample WideTable\n\t#log -> json list(10) samples Select {a: Number, b: String}\n\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n\nAny = do ->\n\tr = `function Any(){}`\n\treturn (r.constructor = r)\n\ninstance('TypeSpec')(Any).where\n\tmatch: () -> (v) ->\n\t\tv?\n\tconstraints: () -> (v) -> [\n\t\t{\n\t\t\tlabel: -> \"Any Non-Null Value Expected, But Got #{v}\"\n\t\t\tflag: -> v?\n\t\t}\n\t]\n\tshow: () ->\n\t\t\"Any\"\n\tsamples: () ->\n\t\tconcat repeat ['a', 3, true, [1, 2], {x: 1}] #, NaN, '', {}, []\n\tsample: () ->\n\t\t'any'\n\nmodule.exports = {Any}\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n\nAny = do ->\n\tr = `function Any(){}`\n\treturn (r.constructor = r)\n\ninstance('TypeSpec')(Any).where\n\tmatch: () -> (v) ->\n\t\tv?\n\tconstraints: () -> (v) -> [\n\t\t{\n\t\t\tlabel: -> \"Any Non-Null Value Expected, But Got #{v}\"\n\t\t\tflag: -> v?\n\t\t}\n\t]\n\tshow: () ->\n\t\t\"Any\"\n\tsamples: () ->\n\t\tconcat repeat ['a', 3, true, [1, 2], {x: 1}] #, NaN, '', {}, []\n\tsample: () ->\n\t\t'any'\n\nmodule.exports = {Any}\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n{match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n\ninstance('TypeSpec')(Array).where\n\tmatch: ([spec]) -> (v) ->\n\t\tv? and v instanceof Array and (all(match spec) v)\n\tconstraints: ([spec]) -> (v) -> cons(\n\t\t{\n\t\t\tlabel: -> \"Array Expected, But Got #{v}\"\n\t\t\tflag: -> v? and v instanceof Array\n\t\t}\n\t)(\n\t\tmap(([i, x]) ->\n\t\t\t{\n\t\t\t\tlabel: -> \"Element #{i} Expected to be #{show spec}\" #, But Got #{json v}\"\n\t\t\t\tsub: -> constraints(spec)(x)\n\t\t\t}\n\t\t) enumerate(v ? [])\n\t)\n\tshow: ([spec]) ->\n\t\t\"[#{show spec}]\"\n\tsamples: ([spec]) ->\n\t\tconcat repeat reverse map((n) -> list take(n) samples spec) range(3)\n\tsample: ([spec]) ->\n\t\t[sample spec]\n\thtmlInline: ([spec]) ->\n\t\t\"<span class='type-maker'>[#{htmlInline spec}]</span>\"\n\thtmlBlock: ([spec]) ->\n\t\tif not (node = htmlBlock spec)?\n\t\t\tnull\n\t\telse\n\t\t\thead: \"<span class='type-maker'>[#{node.head}</span>\"\n\t\t\tbody: node.body\n\t\t\ttail: \"<span class='type-maker'>#{node.tail ? ''}]</span>\"\n\n","Bool = Boolean\n\nmodule.exports = {Bool}\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n{match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{genBlockBody, isTypeSpec} = require '../helpers'\n\nclass Choose\n\tconstructor: (specs) ->\n\t\tunless specs? and specs.constructor is Array\n\t\t\tthrow Error \"Bad Choose Type Definition: Array Expected, But Got #{specs}\"\n\t\tunless all(isTypeSpec)(specs)\n\t\t\tthrow Error \"Bad Choose Type Definition: Array of TypeSpec Expected, But Got #{specs}\"\n\n\t\treturn {\n\t\t\tconstructor: Choose\n\t\t\tspecs: specs\n\t\t}\n\ninstance('TypeSpec')(Choose).where\n\tmatch: ({specs}) -> (v) ->\n\t\tv? and any((spec) -> match(spec) v)(specs)\n\tconstraints: (t) ->\n\t\t{specs} = t\n\t\t(v) -> [\n\t\t\t{\n\t\t\t\tlabel: -> \"Non-Null Value Expected, But Got #{v}\"\n\t\t\t\tflag: -> v?\n\t\t\t}\n\t\t\t{\n\t\t\t\tlabel: -> \"#{show t} Expected, But Got #{json v}\"\n\t\t\t\tflag: -> any((spec) -> match(spec)(v))(specs)\n\t\t\t}\n\t\t]\n\tshow: ({specs}) ->\n\t\t\"Choose([#{(list map(show) specs).join(', ')}])\"\n\tsamples: ({specs}) ->\n\t\tconcat repeat map(sample)(specs)\n\thtmlInline: ({specs}) ->\n\t\t\"<span class='type-maker unwrapped'>#{(list map(htmlInline) specs).join(' | ')}</span>\"\n\thtmlBlock: ({specs}) ->\n\t\t#log -> (list zip(repeat('-'), specs))\n\t\thead: \"<span class='type-maker'>Choose [</span>\"\n\t\tbody: genBlockBody('choose', 'meta-field')(dict list zip(naturals, specs))\n\t\ttail: \"<span class='type-maker'>]</span>\"\n\nmodule.exports = {Choose}\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n{match, show, samples, sample} = require '../typespec'\n\ninstance('TypeSpec')(Function).where\n\tshape: (spec) -> spec\n\tmatch: (spec) -> (v) ->\n\t\tv? and v.constructor is spec\n\tconstraints: (spec) -> (v) -> [\n\t\t{\n\t\t\tlabel: -> \"Non-Null Value Expected, But Got #{v}\"\n\t\t\tflag: -> v?\n\t\t}\n\t\t{\n\t\t\tlabel: -> \"Value with Constructor #{spec.name ? spec} Expected, But Got #{json v} with Constructor #{v.constructor.name ? v.constructor}\"\n\t\t\tflag: -> v.constructor is spec\n\t\t}\n\t]\n\tshow: (spec) ->\n\t\tspec.name or 'UnnamedType'\n\tsamples: (spec) ->\n\t\tswitch spec\n\t\t\twhen Boolean\n\t\t\t\tconcat repeat [true, false]\n\t\t\twhen Number\n\t\t\t\tconcat repeat [3.14, 9, 42]\n\t\t\twhen String\n\t\t\t\tconcat repeat ['abc', 'hello']\n\t\t\telse\n\t\t\t\trepeat (new spec)\n\thtmlInline: (spec) ->\n\t\t\"<span class='type-maker'>#{show spec}</span>\"\n\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n{show} = require '../typespec'\n\n#`function Enum(ls){\n#\treturn {\n#\t\tconstructor: Enum,\n#\t\tenum: ls\n#\t}\n#}`\n\nclass Enum\n\tconstructor: (ls) ->\n\t\tif not (all((x) -> x?) ls)\n\t\t\tthrow Error \"Bad Enum Type Definition: Array Of Non-Null Values Expected, Bot Got #{ls}\"\n\t\treturn {\n\t\t\tconstructor: Enum\n\t\t\tenum: ls\n\t\t}\n\ninstance('TypeSpec')(Enum).where\n\tmatch: ({enum: vs}) -> (v) ->\n\t\tv in vs\n\tconstraints: (t) ->\n\t\t{enum: vs} = t\n\t\t(v) -> [\n\t\t\t{\n\t\t\t\tlabel: -> \"#{show t} Expected, But Got #{json v}\"\n\t\t\t\tflag: -> v in vs\n\t\t\t}\n\t\t]\n\tshow: ({enum: vs}) ->\n\t\t\"Enum(#{json vs})\"\n\tsamples: ({enum: vs}) ->\n\t\tconcat repeat vs\n\thtmlInline: ({enum: vs}) ->\n\t\t\"<span class='type-maker unwrapped'>Enum #{json vs}</span>\"\n\nmodule.exports = {Enum}\n","require 'coffee-mate/global'\n{typeclass, instance} = require '../typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{genBlockBody} = require '../helpers'\n\nclass Fn\n\tconstructor: (ispec) ->\n\t\tunless ispec? and typeclass('TypeSpec').hasInstance(ispec.constructor)\n\t\t\tthrow Error \"Bad Fn Definition: TypeSpec as ispec Expected, But Got #{ispec}\"\n\t\treturn (ospec) ->\n\t\t\tunless ospec? and typeclass('TypeSpec').hasInstance(ospec.constructor)\n\t\t\t\tthrow Error \"Bad Fn Definition: TypeSpec as ospec Expected, But Got #{ospec}\"\n\t\t\tconstructor: Fn\n\t\t\tispec: ispec\n\t\t\tospec: ospec\n\ninstance('TypeSpec')(Fn).where\n\tmatch: ({ispec, ospec}) -> (v) ->\n\t\tv? and v.constructor is Function #TODO: how to be precise ?\n\twithSpec: ({ispec, ospec}) -> (v) ->\n\t\tif not (v? and v.constructor is Function)\n\t\t\tthrow TypeError {expected: 'Function', got: v}\n\t\telse\n\t\t\treturn (x) ->\n\t\t\t\twithSpec(ispec)(x)\n\t\t\t\ty = v(x)\n\t\t\t\twithSpec(ospec)(y)\n\t\t\t\treturn y\n\tshow: ({ispec, ospec}) ->\n\t\t\"Fn(#{show ispec})(#{show ospec})\"\n\tsamples: ({ispec, ospec}) ->\n\t\trepeat {\"[input]\": (sample ispec), \"[output]\": (sample ospec)}\n\thtmlInline: ({ispec, ospec}) ->\n\t\t\"<span class='type-maker unwrapped'>#{htmlInline ispec} -> #{htmlInline ospec}</span>\"\n\thtmlBlock: ({ispec, ospec}) ->\n\t\thead: \"<span class='type-maker'>Function (</span>\"\n\t\tbody: genBlockBody('function', 'meta-field') {input: ispec, output: ospec}\n\t\ttail: \"<span class='type-maker'>)</span>\"\n\nmodule.exports = {Fn}\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n\nInt = do ->\n\tr = `function Int(){}`\n\treturn (r.constructor = r)\n\ninstance('TypeSpec')(Int).where\n\tmatch: () -> (v) ->\n\t\tv? and v.constructor is Number and not isNaN(v) and v == parseInt(v)\n\tconstraints: () -> (v) -> [\n\t\t{\n\t\t\tlabel: -> \"Int Excepted, But Got #{json v}\"\n\t\t\tflag: -> v? and v.constructor is Number and not isNaN(v) and v == parseInt(v)\n\t\t}\n\t]\n\tshow: () ->\n\t\t\"Int\"\n\tsamples: () ->\n\t\tconcat repeat [42, 1, 2]\n\nmodule.exports = {Int}\n","require 'coffee-mate/global'\n{typeclass, instance} = require '../typeclass'\n{shape, match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{genBlockBody, isTypeSpecDict} = require '../helpers'\n\nclass Loose\n\tconstructor: (specdict) ->\n\t\tunless isTypeSpecDict(specdict)\n\t\t\tthrow Error \"Bad Loose Type Definition: Dict Of TypeSpec Expected, But Got #{specdict}\"\n\t\treturn {\n\t\t\tconstructor: Loose\n\t\t\tspecdict: specdict\n\t\t}\n\ninstance('TypeSpec')(Loose).where\n\tshape: ({specdict}) -> Loose (fromList map(([k, spec]) -> [k, shape(spec)]) enumerate(specdict))\n\tmatch: ({specdict}) -> (v) ->\n\t\tv? and v.constructor is Object and (all(([k, spec]) -> match(spec) v[k]) enumerate(specdict))\n\tconstraints: ({specdict}) -> (v) -> cons(\n\t\t{\n\t\t\tlabel: -> \"Object Expected, But Got #{v}\"\n\t\t\tflag: -> v?\n\t\t}\n\t)(\n\t\tmap(([k, spec]) ->\n\t\t\t{\n\t\t\t\tlabel: -> \"Field #{k} Expected to be #{show spec}\" #, But Got #{json v}\"\n\t\t\t\tsub: -> constraints(spec)(v[k])\n\t\t\t}\n\t\t) enumerate(specdict)\n\t)\n\tshow: ({specdict}) ->\n\t\t\"Loose({#{(list map(([k, spec]) -> \"#{k}: #{show spec}\") enumerate(specdict)).join(', ')}})\"\n\tsamples: ({specdict}) ->\n\t\trepeat dict list map(([k, v]) -> [k, sample v]) enumerate(specdict)\n\thtmlInline: ({specdict}) ->\n\t\t\"<span class='type-maker unwrapped'>Loose {<span class='folded-detail'>...</span>}</span>\"\n\thtmlBlock: ({specdict}) ->\n\t\thead: \"<span class='type-maker'>Loose {</span>\"\n\t\tbody: genBlockBody('loose', 'field-name') specdict\n\t\ttail: \"<span class='type-maker'>}</span>\"\n\nmodule.exports = {Loose}\n","require 'coffee-mate/global'\n{typeclass, instance} = require '../typeclass'\n{match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{genBlockBody} = require '../helpers'\n\nclass Map\n\tconstructor: (kspec) ->\n\t\tunless kspec? and typeclass('TypeSpec').hasInstance(kspec.constructor)\n\t\t\tthrow Error \"Bad Fn Definition: TypeSpec as kspec Expected, But Got #{kspec}\"\n\t\treturn (vspec) ->\n\t\t\tunless vspec? and typeclass('TypeSpec').hasInstance(vspec.constructor)\n\t\t\t\tthrow Error \"Bad Fn Definition: TypeSpec as vspec Expected, But Got #{vspec}\"\n\t\t\tconstructor: Map\n\t\t\tkspec: kspec\n\t\t\tvspec: vspec\n\ninstance('TypeSpec')(Map).where\n\tmatch: ({kspec, vspec}) -> (v) ->\n\t\tmk = match(kspec)\n\t\tmv = match(vspec)\n\t\tv? and v.constructor is Object and all(mk)(ks = Object.keys(v)) and all(mv)(map(seek v) ks)\n\tconstraints: ({kspec, vspec}) ->\n\t\t(v) -> cons(\n\t\t\t{\n\t\t\t\tlabel: -> \"Object Expected, But Got #{v}\"\n\t\t\t\tflag: -> v? and v.constructor is Object\n\t\t\t}\n\t\t) concat [(\n\t\t\tmap((k) -> {\n\t\t\t\tlabel: -> \"Key Expected to be #{show kspec}\"#, But Got #{json k}\"\n\t\t\t\tsub: -> constraints(kspec)(k)\n\t\t\t}) Object.keys(v ? [])\n\t\t), (\n\t\t\tmap((k) -> {\n\t\t\t\tlabel: -> \"Value Expected to be #{show vspec}\" #, But Got #{json v}\"\n\t\t\t\tsub: -> constraints(vspec)(v[k])\n\t\t\t}) Object.keys(v ? [])\n\t\t)]\n\tshow: ({kspec, vspec}) ->\n\t\t\"Map(#{show kspec})(#{show vspec})\"\n\tsamples: ({kspec, vspec}) ->\n\t\tks = list take(4) samples(kspec)\n\t\tvs = list take(4) samples(vspec)\n\t\tconcat repeat [dict([[ks[0], vs[0]], [ks[1], vs[1]]]), dict([[ks[2], vs[2]], [ks[3], vs[3]]])]\n\thtmlInline: ({kspec, vspec}) ->\n\t\t\"<span class='type-maker unwrapped'>Map #{htmlInline kspec} #{htmlInline vspec}</span>\"\n\thtmlBlock: ({kspec, vspec}) ->\n\t\thead: \"<span class='type-maker'>Map (</span>\"\n\t\tbody: genBlockBody('map', 'meta-field') {key: kspec, value: vspec}\n\t\ttail: \"<span class='type-maker'>)</span>\"\n\nmodule.exports = {Map}\n","require 'coffee-mate/global'\n{typeclass, instance} = require '../typeclass'\n{match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{expandBlockHead} = require '../helpers'\n\nclass NamedType\n\tconstructor: ({name, spec, desc, check, samples}) ->\n\t\tunless name? and spec?\n\t\t\tthrow Error \"Bad NamedType Definition: name & spec Must Be Specified\"\n\t\tunless spec? and typeclass('TypeSpec').hasInstance(spec.constructor)\n\t\t\tthrow Error \"Bad NamedType Definition: TypeSpec as spec Expected, But Got #{spec}\\n\\tname: #{name}\"\n\t\tunless not samples? or all(match(spec))(take(100) samples)\n\t\t\tthrow Error \"Bad NamedType Definition: samples Should Match spec\\n\\tname: #{name}\\n\\tspec: #{spec}\"\n\n\t\treturn {\n\t\t\tconstructor: NamedType\n\t\t\tname\n\t\t\tspec\n\t\t\tdesc\n\t\t\tcheck\n\t\t\tsamples\n\t\t}\n\ninstance('TypeSpec')(NamedType).where\n\tmatch: ({spec, check}) -> (v) ->\n\t\tmatch(spec)(v) and (if check? then check(v) else true)\n\tconstraints: ({spec, check, name}) -> (v) -> [\n\t\t{\n\t\t\tlabel: -> \"#{name} Expected\" #, But Got #{v}\"\n\t\t\tsub: -> constraints(spec)(v)\n\t\t}\n\t\t{\n\t\t\tlabel: -> \"#{name} Expected to Satisfy #{check}, But Got #{json v}\"\n\t\t\tflag: -> if check? then check(v) else true\n\t\t}\n\t]\n\tshow: ({name, spec}) ->\n\t\tname or (show spec)\n\tsamples: ({spec, samples: ls}) ->\n\t\tif ls? then concat repeat ls else samples spec\n\thtmlInline: ({name, spec}) ->\n\t\tif name? then \"<span class='type-name'>#{name}</span>\" else htmlInline spec\n\thtmlBlock: ({name, spec}) ->\n\t\texpandBlockHead((head) ->\n\t\t\t\"<span><span class='type-name'>#{name}</span><span class='spliter'>spec:</span>#{head}</span>\"\n\t\t)(spec) ? {\n\t\t\thead: \"<span><span class='type-name'>#{name}</span><span class='spliter'>spec:</span>#{htmlInline spec}</span>\"\n\t\t}\n\tshowHtml: (t) ->\n\t\t{name, desc, spec, check} = t\n\n\t\tnamePart = if not name? then '' else \"\"\"\n\t\t\t<div class='name'>\n\t\t\t<span class='meta-field'>name</span>: <span class='type-name'>#{name}</span>\n\t\t\t</div>\n\t\t\t\"\"\"\n\n\t\tdescriptionPart = if not desc? then '' else do ->\n\t\t\ts = desc\n\t\t\treturn \"\"\"\n\t\t\t<div class='desc'>\n\t\t\t<span class='meta-field'>desc</span>: #{\n\t\t\t\tif /\\n/.test s then \"<pre class='text'>#{s}</pre>\" else \"<span class='text'>#{s}</span>\"\n\t\t\t}\n\t\t\t</div>\n\t\t\t\"\"\"\n\n\t\tspecPart = do ->\n\t\t\tblock = htmlBlock spec\n\t\t\treturn \"\"\"\n\t\t\t<div class='spec'>\n\t\t\t<div class='#{if block? then 'fold' else 'inline'}'><span class='meta-field'>spec</span>: #{htmlInline spec}</div>\n\t\t\t#{if block? then (\n\t\t\t\t\"\"\"\n\t\t\t\t<div class='unfold'>\n\t\t\t\t\t<span class='meta-field'>spec</span>: #{block.head}\n\t\t\t\t\t#{block.body ? ''}\n\t\t\t\t\t#{block.tail ? ''}\n\t\t\t\t</div>\n\t\t\t\t\"\"\"\n\t\t\t) else ''}\n\t\t\t</div>\n\t\t\t\"\"\".replace(/(\\t|\\n)/g, '')\n\n\t\tsamplePart = do ->\n\t\t\ts = json(sample(t), 4)\n\t\t\treturn \"\"\"\n\t\t\t<div class='sample'>\n\t\t\t<span class='meta-field'>sample</span>: #{\n\t\t\t\tif /\\n/.test s then \"<pre class='code'>#{s}</pre>\" else \"<span class='code'>#{s}</span>\"\n\t\t\t}\n\t\t\t</div>\n\t\t\t\"\"\"\n\n\t\tcheckPart = if not check? then '' else do ->\n\t\t\ts = check.toString()\n\t\t\treturn \"\"\"\n\t\t\t<div class='check'>\n\t\t\t<span class='meta-field'>constraint</span>: #{\n\t\t\t\tif /\\n/.test s then \"<pre class='code'>#{s}</pre>\" else \"<span class='code'>#{s}</span>\"\n\t\t\t}\n\t\t\t</div>\n\t\t\t\"\"\"\n\n\t\treturn \"<div class='typespec'>#{ namePart + descriptionPart + specPart + samplePart + checkPart }</div>\"\n\nmodule.exports = {NamedType}\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n\nNat = do ->\n\tr = `function Nat(){}`\n\treturn (r.constructor = r)\n\ninstance('TypeSpec')(Nat).where\n\tmatch: () -> (v) ->\n\t\tv? and v.constructor is Number and not isNaN(v) and v >= 0 and v == parseInt(v)\n\tconstraints: () -> (v) -> [\n\t\t{\n\t\t\tlabel: -> \"Nat Excepted, But Got #{json v}\"\n\t\t\tflag: -> v? and v.constructor is Number and not isNaN(v) and v >= 0 and v == parseInt(v)\n\t\t}\n\t]\n\tshow: () ->\n\t\t\"Nat\"\n\tsamples: () ->\n\t\tconcat repeat [42, 1, 2]\n\nmodule.exports = {Nat}\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n{shape, match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{genBlockBody, isTypeSpecDict} = require '../helpers'\n\nspecdictChecked = (f) ->\n\t(specdict) ->\n\t\tunless isTypeSpecDict(specdict)\n\t\t\tthrow Error \"Bad Object Type Definition: Dict Of TypeSpec Expected, But Got #{specdict}\"\n\t\treturn f(specdict)\n\ninstance('TypeSpec')(Object).where\n\tshape: (specdict) -> fromList map(([k, spec]) -> [k, shape(spec)]) enumerate(specdict)\n\tmatch: specdictChecked (specdict) -> (v) ->\n\t\tv? and (all((k) -> specdict[k]?) Object.keys(v)) and all(([k, spec]) -> match(spec) v[k]) enumerate(specdict)\n\tconstraints: (specdict) -> (v) -> cons(\n\t\t{\n\t\t\tlabel: -> \"Object Expected, But Got #{v}\"\n\t\t\tflag: -> v?\n\t\t}\n\t) cons(\n\t\t{\n\t\t\tlabel: -> \"Redundant Keys: #{list filter((k) -> not specdict[k]?) Object.keys(v)}\"\n\t\t\tflag: -> all((k) -> specdict[k]?) Object.keys(v)\n\t\t}\n\t)(\n\t\tmap(([k, spec]) ->\n\t\t\t{\n\t\t\t\tlabel: -> \"Field #{k} Expected to be #{show spec}\" #, But Got #{json v}\"\n\t\t\t\tsub: -> constraints(spec)(v[k])\n\t\t\t}\n\t\t) enumerate(specdict)\n\t)\n\tshow: specdictChecked (specdict) ->\n\t\t\"{#{(list map(([k, spec]) -> \"#{k}: #{show spec}\") enumerate(specdict)).join(', ')}}\"\n\tsamples: specdictChecked (specdict) ->\n\t\trepeat dict list map(([k, v]) -> [k, sample v]) enumerate(specdict)\n\thtmlInline: specdictChecked (specdict) ->\n\t\t\"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>\"\n\thtmlBlock: specdictChecked (specdict) ->\n\t\thead: \"<span class='type-maker'>{</span>\"\n\t\tbody: genBlockBody('object', 'field-name') specdict\n\t\ttail: \"<span class='type-maker'>}</span>\"\n\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n{shape, match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{genBlockBody, isTypeSpec} = require '../helpers'\n\nclass OneOf\n\tconstructor: (specs) ->\n\t\tunless specs? and specs.constructor is Array\n\t\t\tthrow Error \"Bad OneOf Type Definition: Array Expected, But Got #{specs}\"\n\t\tunless all(isTypeSpec)(specs)\n\t\t\tthrow Error \"Bad OneOf Type Definition: Array of TypeSpec Expected, But Got #{specs}\"\n\n\t\tlog -> specs.map(show)\n\t\treturn {\n\t\t\tconstructor: OneOf\n\t\t\tspecs: specs\n\t\t}\n\ninstance('TypeSpec')(OneOf).where\n\tmatch: ({specs}) ->\n\t\tshaped = zip(map(shape)(specs), specs)\n\t\t(v) ->\n\t\t\tmatchedShapes = filter(([sh, _]) -> match(sh)(v)) shaped\n\t\t\t#log -> specs.map(show)\n\t\t\t#log -> list(matchedShapes).map(show)\n\t\t\treturn length(take(2) matchedShapes) == 1 and match(head(matchedShapes)[1])(v)\n\tconstraints: ({specs}) ->\n\t\tshaped = zip(map(shape)(specs), specs)\n\t\t(v) ->\n\t\t\tmatchedShapes = filter(([sh, _]) -> match(sh)(v)) shaped\n\t\t\tmatchedCount = length(take(2) matchedShapes)\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: -> \"Shape #{list(map(show) map(pluck 0) shaped).join(' | ')} Expected, But Got #{v}\"\n\t\t\t\t\tflag: -> matchedCount > 0\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tlabel: -> \"Ambiguous Shape #{list(map(show) map(pluck 0) matchedShapes).join(' | ')} Matched, Got #{json v}\"\n\t\t\t\t\tflag: -> matchedCount < 2\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tlabel: -> \"#{show(head(matchedShapes)[1])} Expected, But Got #{json v}\"\n\t\t\t\t\tflag: -> match(head(matchedShapes)[1])(v)\n\t\t\t\t}\n\t\t\t]\n\tshow: ({specs}) ->\n\t\t\"(#{(list map(show) specs).join(' | ')})\"\n\tsamples: ({specs}) ->\n\t\tconcat repeat map(sample)(specs)\n\thtmlInline: ({specs}) ->\n\t\t\"<span class='type-maker unwrapped'>#{(list map(htmlInline) specs).join(' | ')}</span>\"\n\thtmlBlock: ({specs}) ->\n\t\t#log -> (list zip(repeat('-'), specs))\n\t\thead: \"<span class='type-maker'>OneOf [</span>\"\n\t\tbody: genBlockBody('OneOf', 'meta-field')(dict list zip(naturals, specs))\n\t\ttail: \"<span class='type-maker'>]</span>\"\n\nmodule.exports = {OneOf}\n\n","require 'coffee-mate/global'\n{typeclass, instance} = require '../typeclass'\n{match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{expandBlockHead, isTypeSpec} = require '../helpers'\n\nclass Optional\n\tconstructor: (spec) ->\n\t\tunless isTypeSpec(spec)\n\t\t\tthrow Error \"Bad Optional Type Definition: TypeSpec as spec Expected\"\n\n\t\treturn {\n\t\t\tconstructor: Optional\n\t\t\tspec: spec\n\t\t}\n\ninstance('TypeSpec')(Optional).where\n\tshape: ({spec}) -> Optional shape(spec)\n\tmatch: ({spec}) -> (v) ->\n\t\tnot v? or match(spec) v\n\tconstraints: (t) -> (v) -> if not v? then [] else [\n\t\t{\n\t\t\tlabel: -> \"#{show t} Expected\"\n\t\t\tsub: -> constraints(t.spec)(v)\n\t\t}\n\t]\n\tshow: ({spec}) ->\n\t\t\"Optional(#{show spec})\"\n\tsamples: ({spec}) ->\n\t\tls = list take(2) samples spec\n\t\tconcat repeat [ls[0], null, ls[1], undefined]\n\thtmlInline: ({spec}) ->\n\t\t\"<span class='type-maker unwrapped'>Optional #{htmlInline spec}</span>\"\n\thtmlBlock: ({spec}) ->\n\t\texpandBlockHead((head) ->\n\t\t\t\"<span class='type-maker'>Optional #{head}</span>\"\n\t\t) spec\n\nmodule.exports = {Optional}\n","require 'coffee-mate/global'\n{typeclass, instance} = require '../typeclass'\n{match, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{expandBlockHead, isTypeSpec} = require '../helpers'\n\nclass Promise\n\tconstructor: (spec) ->\n\t\tunless isTypeSpec(spec)\n\t\t\tthrow Error \"Bad Optional Type Definition: TypeSpec as spec Expected\"\n\n\t\treturn {\n\t\t\tconstructor: Promise\n\t\t\tspec: spec\n\t\t}\n\ninstance('TypeSpec')(Promise).where\n\tmatch: ({spec}) -> (v) ->\n\t\tv?.then?\n\tconstraints: (t) -> (v) -> [\n\t\t{\n\t\t\tlabel: -> \"#{show t} Expected, But Got #{v}\"\n\t\t\tflag: -> v?.then?\n\t\t}\n\t]\n\twithSpec: ({spec}) -> (v) ->\n\t\tif not v?.then?\n\t\t\tthrow TypeError {expected: 'Promise', got: v}\n\t\telse\n\t\t\treturn v.then (x) ->\n\t\t\t\twithSpec(spec)(x)\n\t\t\t\treturn x\n\tshow: ({spec}) ->\n\t\t\"Promise(#{show spec})\"\n\tsamples: ({spec}) ->\n\t\tsamples spec\n\thtmlInline: ({spec}) ->\n\t\t\"<span class='type-maker unwrapped'>Promise #{htmlInline spec}</span>\"\n\thtmlBlock: ({spec}) ->\n\t\texpandBlockHead((head) ->\n\t\t\t\"<span class='type-maker'>Promise #{head}</span>\"\n\t\t) spec\n\nmodule.exports = {Promise}\n","require 'coffee-mate/global'\n{typeclass, instance} = require '../typeclass'\n{match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{genBlockBody, isTypeSpecDict} = require '../helpers'\n\nclass Select\n\tconstructor: (specs) ->\n\t\tunless isTypeSpecDict(specs)\n\t\t\tthrow Error \"Bad Select Type Definition: TypeSpec as spec Expected\"\n\t\tunless Object.keys(specs).length >= 1\n\t\t\tthrow Error \"Bad Select Type Definition: At Least One Selection Should Be Provided\"\n\n\t\treturn {\n\t\t\tconstructor: Select\n\t\t\tspecs: specs\n\t\t}\n\ninstance('TypeSpec')(Select).where\n\tmatch: ({specs}) -> (v) ->\n\t\tv? and (ks = Object.keys(v)).length is 1 and (spec = specs[(k = ks[0])])? and (match(spec) v[k])\n\tconstraints: ({specs}) -> (v) -> [\n\t\t{\n\t\t\tlabel: -> \"Object Expected, But Got #{v}\"\n\t\t\tflag: -> v?\n\t\t}\n\t\t{\n\t\t\tlabel: -> \"Selection Between #{Object.keys(specs).join(',')} Expected, But Got #{Object.keys(v).join(',')} Via #{json v}\"\n\t\t\tflag: -> (ks = Object.keys(v)).length is 1 and (spec = specs[(k = ks[0])])?\n\t\t}\n\t\t{\n\t\t\tlabel: -> \"Selection Field #{k = Object.keys(v)[0]} Expected to be #{show specs[k]}\" #, But Got #{json v}\"\n\t\t\tsub: -> constraints(specs[k = Object.keys(v)[0]])(v[k])\n\t\t}\n\t]\n\tshow: ({specs}) ->\n\t\t\"Select({#{(list map(([k, spec]) -> \"#{k}: #{show spec}\") enumerate(specs)).join(', ')}})\"\n\tsamples: ({specs}) ->\n\t\tconcat repeat map(([k, v]) -> dict [[k, sample v]]) enumerate(specs)\n\thtmlInline: ({specs: specdict}) ->\n\t\t\"<span class='type-maker unwrapped'>Select {<span class='folded-detail'>...</span>}</span>\"\n\thtmlBlock: ({specs: specdict}) ->\n\t\thead: \"<span class='type-maker'>Select {</span>\"\n\t\tbody: genBlockBody('select', 'field-name') specdict\n\t\ttail: \"<span class='type-maker'>}</span>\"\n\nmodule.exports = {Select}\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n{shape, match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{genBlockBody, isTypeSpecDict} = require '../helpers'\n\nclass Strict\n\tconstructor: (specdict) ->\n\t\tunless isTypeSpecDict(specdict)\n\t\t\tthrow Error \"Bad Strict Type Definition: Dict Of TypeSpec Expected, But Got #{specdict}\"\n\t\treturn {\n\t\t\tconstructor: Strict\n\t\t\tspecdict: specdict\n\t\t}\n\ninstance('TypeSpec')(Strict).where\n\tshape: ({specdict}) -> Strict (fromList map(([k, spec]) -> [k, shape(spec)]) enumerate(specdict))\n\tmatch: ({specdict}) -> (v) ->\n\t\tv? and v.constructor is Object and (all((k) -> specdict[k]?) Object.keys(v)) and all(([k, spec]) -> match(spec) v[k]) enumerate(specdict)\n\tconstraints: ({specdict}) -> (v) -> cons(\n\t\t{\n\t\t\tlabel: -> \"Object Expected, But Got #{v}\"\n\t\t\tflag: -> v?\n\t\t}\n\t) cons(\n\t\t{\n\t\t\tlabel: -> \"Redundant Keys: #{list filter((k) -> not specdict[k]?) Object.keys(v)}\"\n\t\t\tflag: -> all((k) -> specdict[k]?) Object.keys(v)\n\t\t}\n\t)(\n\t\tmap(([k, spec]) ->\n\t\t\t{\n\t\t\t\tlabel: -> \"Field #{k} Expected to be #{show spec}\" #, But Got #{json v}\"\n\t\t\t\tsub: -> constraints(spec)(v[k])\n\t\t\t}\n\t\t) enumerate(specdict)\n\t)\n\tshow: ({specdict}) ->\n\t\t\"{#{(list map(([k, spec]) -> \"#{k}: #{show spec}\") enumerate(specdict)).join(', ')}})\"\n\tsamples: ({specdict}) ->\n\t\trepeat dict list map(([k, v]) -> [k, sample v]) enumerate(specdict)\n\thtmlInline: ({specdict}) ->\n\t\t\"<span class='type-maker'>{<span class='folded-detail'>...</span>}</span>\"\n\thtmlBlock: ({specdict}) ->\n\t\thead: \"<span class='type-maker'>{</span>\"\n\t\tbody: genBlockBody('strict', 'field-name') specdict\n\t\ttail: \"<span class='type-maker'>}</span>\"\n\nmodule.exports = {Strict}\n","require 'coffee-mate/global'\n{typeclass, instance} = require '../typeclass'\n{match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{expandBlockHead, isTypeSpec} = require '../helpers'\n\nclass Tree\n\tconstructor: (labelSpec) ->\n\t\tunless isTypeSpec(labelSpec)\n\t\t\tthrow Error \"Bad Tree Type Definition: TypeSpec as labelSpec Expected\"\n\n\t\treturn {\n\t\t\tconstructor: Tree\n\t\t\tlabelSpec: labelSpec\n\t\t}\n\ninstance('TypeSpec')(Tree).where\n\tmatch: (t) -> (v) ->\n\t\t{labelSpec} = t\n\t\tv? and v.rootLabel? and v.subForest? and v.subForest instanceof Array and match(labelSpec)(v.rootLabel) and all(match(t))(v.subForest)\n\tconstraints: (t) ->\n\t\t{labelSpec} = t\n\t\t(v) -> cons(\n\t\t\t{\n\t\t\t\tlabel: -> \"#{show t} Expected, But Got #{v}\"\n\t\t\t\tflag: -> v? and v.rootLabel? and v.subForest? and v.subForest instanceof Array\n\t\t\t}\n\t\t) cons(\n\t\t\t{\n\t\t\t\tlabel: -> \"Label Expected to be #{show labelSpec}\"\n\t\t\t\tsub: -> constraints(labelSpec)(v.rootLabel)\n\t\t\t}\n\t\t)(\n\t\t\tmap((x) ->\n\t\t\t\t{\n\t\t\t\t\tlabel: -> \"#{show t} Expected\"\n\t\t\t\t\tsub: -> constraints(t)(x)\n\t\t\t\t}\n\t\t\t) (v?.subForest ? [])\n\t\t)\n\tshow: ({labelSpec}) ->\n\t\t\"Tree(#{show labelSpec})\"\n\tsamples: ({labelSpec}) ->\n\t\tls = list take(2) samples labelSpec\n\t\ts0 = {rootLabel: ls[0], subForest: []}\n\t\ts1 = {rootLabel: ls[1], subForest: [s0]}\n\t\tconcat repeat [s0, s1]\n\thtmlInline: ({labelSpec}) ->\n\t\t\"<span class='type-maker unwrapped'>Tree #{htmlInline labelSpec}</span>\"\n\thtmlBlock: ({labelSpec}) ->\n\t\texpandBlockHead((head) ->\n\t\t\t\"<span class='type-maker'>Tree #{head}</span>\"\n\t\t) labelSpec\n\nmodule.exports = {Tree}\n","require 'coffee-mate/global'\n{typeclass, instance} = require '../typeclass'\n{match, constraints, show, samples, sample, htmlInline, htmlBlock} = require '../typespec'\n{genBlockBody, isTypeSpec} = require '../helpers'\n\nclass TreeMap\n\tconstructor: (kspec) ->\n\t\tunless isTypeSpec(kspec)\n\t\t\tthrow Error \"Bad TreeMap Type Definition: TypeSpec as kspec Expected\"\n\n\t\treturn (vspec) ->\n\t\t\tunless isTypeSpec(vspec)\n\t\t\t\tthrow Error \"Bad TreeMap Type Definition: TypeSpec as vspec Expected\"\n\n\t\t\tconstructor: TreeMap\n\t\t\tkspec: kspec\n\t\t\tvspec: vspec\n\ninstance('TypeSpec')(TreeMap).where\n\tmatch: (t) -> (v) ->\n\t\t{kspec, vspec} = t\n\t\tmk = match(kspec)\n\t\tmv = match(t)\n\t\tv? and (\n\t\t\t(\n\t\t\t\t(\n\t\t\t\t\t(tag = Object.keys(v)[0]) is 'node'\n\t\t\t\t) and (\n\t\t\t\t\tall(mk)(ks = Object.keys(v.node)) and all(mv)(map(seek v.node) ks)\n\t\t\t\t)\n\t\t\t) or (\n\t\t\t\ttag is 'leaf' and match(vspec)(v.leaf)\n\t\t\t)\n\t\t)\n\tconstraints: (t) -> (v) -> cons(\n\t\t{\n\t\t\tlabel: -> \"#{show t} Expected, But Got #{v}\"\n\t\t\tflag: -> v? and (ks = Object.keys(v)).length == 1 and (tag = ks[0]) in ['node', 'leaf']\n\t\t}\n\t)(\n\t\tif not v?\n\t\t\t[]\n\t\telse if v.node?\n\t\t\tconcat map(([k, v]) -> [\n\t\t\t\t{\n\t\t\t\t\tlabel: -> \"TreeMap Key Expected\"\n\t\t\t\t\tsub: -> constraints(t.kspec)(k)\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tlabel: -> \"#{show t} Expected\"\n\t\t\t\t\tsub: -> constraints(t)(v)\n\t\t\t\t}\n\t\t\t]) enumerate(v.node)\n\t\telse [\n\t\t\t{\n\t\t\t\tlabel: -> \"Leaf Expected to be #{show t.vspec}\"\n\t\t\t\tsub: -> constraints(t.vspec)(v.leaf)\n\t\t\t}\n\t\t]\n\t)\n\tshow: ({kspec, vspec}) ->\n\t\t\"TreeMap(#{show kspec})(#{show vspec})\"\n\tsamples: ({kspec, vspec}) ->\n\t\tks = list take(4) samples(kspec)\n\t\tvs = list take(3) samples(vspec)\n\t\tconcat repeat [{node: dict([[ks[0], {node: dict([[ks[2], {leaf: vs[0]}], [ks[3], {leaf: vs[1]}]])}], [ks[1], {leaf: vs[2]}]])}]\n\thtmlInline: ({kspec, vspec}) ->\n\t\t\"<span class='type-maker unwrapped'>TreeMap #{htmlInline kspec} #{htmlInline vspec}</span>\"\n\thtmlBlock: ({kspec, vspec}) ->\n\t\thead: \"<span class='type-maker'>TreeMap (</span>\"\n\t\tbody: genBlockBody('treemap', 'meta-field') {key: kspec, value: vspec}\n\t\ttail: \"<span class='type-maker'>)</span>\"\n\nmodule.exports = {TreeMap}\n","require 'coffee-mate/global'\n{instance} = require '../typeclass'\n\n#`function Value(ls){\n#\treturn {\n#\t\tconstructor: Value,\n#\t\tvalue: ls\n#\t}\n#}`\n\nclass Value\n\tconstructor: (v) ->\n\t\tunless v?\n\t\t\tthrow Error \"Bad Value Type Definition: Non-null Value Expected, But Got #{v}\"\n\n\t\treturn {\n\t\t\tconstructor: Value\n\t\t\tvalue: v\n\t\t}\n\ninstance('TypeSpec')(Value).where\n\tshape: (spec) -> spec\n\tmatch: ({value}) -> (v) -> v is value\n\tshow: ({value}) ->\n\t\t\"#{json value}\"\n\tsamples: ({value}) ->\n\t\trepeat value\n\thtmlInline: ({value}) ->\n\t\t\"<span class='type-maker unwrapped'>Value #{json value}</span>\"\n\nmodule.exports = {Value}\n","{match, show, sample, samples, showHtml, htmlInline, htmlBlock} = require './typespec'\n\nstyle = \"\"\"\n\t.typespec {\n\t\tfont-family: monospace;\n\t\tfont-size: 16px;\n\t\tborder-width: 4px;\n\t\tborder-color: rgba(165, 230, 229, 0.24);\n\t\tborder-style: ridge;\n\t}\n\t.typespec>div, .typespec>pre {\n\t\tmargin: 0.6em\n\t}\n\t.typespec .unfolded>.fold, .typespec .folded>.unfold {\n\t\tdisplay: none\n\t}\n\t.typespec ul {\n\t\tlist-style-type: none;\n\t\tpadding: 0px;\n\t\tmargin: 0px 0px 0px 2em;\n\t}\n\t.typespec .meta-field {\n\t\tcolor: gray;\n\t}\n\t.typespec .field-name {\n\t\tfont-weight: bold;\n\t\tcolor: #87BFB8\n\t}\n\t.typespec .type-name {\n\t\tcolor: blue;\n\t}\n\t.typespec .spec .type-name {\n\t\tcursor: pointer\n\t}\n\t.typespec .type-maker {\n\t\tcolor: #223497\n\t}\n\t.typespec .type-maker.unwrapped>.unwrapped:before {\n\t\tcontent: '('\n\t}\n\t.typespec .type-maker.unwrapped>.unwrapped:after {\n\t\tcontent: ')'\n\t}\n\t.typespec .spliter {\n\t\tcolor: gray;\n\t\tpadding: 0 0.5em\n\t}\n\t.typespec .sample pre {\n\t\tmargin: 0;\n\t\tcolor: green;\n\t\tmax-height: 20em;\n\t\toverflow: auto;\n\t}\n\t.typespec .spec {\n\t\tcursor: default\n\t}\n\t.typespec .spec li:hover {\n\t\ttransition: 1s;\n\t\tbackground-color: rgba(140, 150, 255, 0.12)\n\t}\n\t.typespec .spec .type-name:hover, .typespec .spec .folded-detail:hover, .typespec .fold>.field-name:hover, .typespec .unfold>.field-name:hover, .typespec .fold>.meta-field:hover, .typespec .unfold>.meta-field:hover {\n\t\topacity: 0.6\n\t}\n\"\"\"\n\nbind = ($) -> (rootSelection) ->\n\t#console.info rootSelection.find('ul')\n\trootSelection.find('.unfold').each (i, elm) ->\n\t\t$(elm).closest('li,.spec').addClass('unfolded').removeClass('folded')\n\trootSelection.find('.type-name, .choose').each (i, elm) ->\n\t\t$(elm).closest('li').addClass('folded').removeClass('unfolded')\n\trootSelection.find('.type-name, .folded-detail, .fold>.field-name, .unfold>.field-name, .fold>.meta-field, .unfold>.meta-field').each (i, elm) ->\n\t\tif (e = $(elm).closest('li,.spec')).length > 0\n\t\t\t$(elm).css(cursor: 'pointer').click ->\n\t\t\t\te.toggleClass('folded').toggleClass('unfolded')\n\t#rootSelection.find('li').each (i, elm) ->\n\t#\t$(elm).children('.unfold').children('.field-name,.meta-field').click ->\n\t#\t\t$(elm).addClass('folded').removeClass('unfolded')\n\t#\t$(elm).children('.fold').children('.field-name,.meta-field').click ->\n\t#\t\t$(elm).addClass('unfolded').removeClass('folded')\n\nshowPage = (t) ->\n\t\"\"\"\n\t<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />\n\t<style>#{style}</style>\n\t#{showHtml t}\n\t<script src='http://libs.baidu.com/jquery/1.9.0/jquery.js'></script>\n\t<script>(#{bind.toString()})(jQuery)($('.typespec'))</script>\n\t\"\"\"\n\ninit = ($) -> (bind, specs, style) ->\n\t$('head').append(\"<style>#{style}</style>\")\n\t$('.typespec-hook').each (i, elm) ->\n\t\t$(elm).append(specs[$(elm).attr('it')])\n\tbind($('.typespec'))\n\ngenRenderCode = (entries) ->\n\tspecs = json dict list map(([k, v]) -> [k, (showHtml v)]) enumerate(entries)\n\t\"(#{init.toString()})(jQuery)((#{bind})(jQuery), #{specs}, #{json style})\"\n\nmodule.exports = {\n\tshowPage, genRenderCode\n}\n\nif module.parent is null\n\trequire 'coffee-mate/global'\n\t{\n\t\tNumber, String,\n\t\tBool, Any, Int, Nat, Enum, Value,\n\t\tOptional, Promise, Tree,\n\t\tMap, TreeMap, Fn,\n\t\tNamedType, Strict, Loose, Select, Choose,\n\t\tmatch, show, sample, samples, showHtml, genRenderCode, showPage,\n\t} = require './index'\n\n\tTableName = NamedType\n\t\tname: 'TableName'\n\t\tspec: String\n\t\tsamples: ['table1', 'table2']\n\tFieldName = NamedType\n\t\tname: 'FieldName'\n\t\tspec: String\n\t\tsamples: ['product_id', 'sale', 'amount']\n\tComparator = Enum ['=', '<', '<=', '>=', '>']\n\n\tWideTable = [{\n\t\ttableName: TableName\n\t\tjoin: {\n\t\t\tleftTableName: TableName\n\t\t\tleft: FieldName\n\t\t\top: Comparator\n\t\t\tright: FieldName\n\t\t}\n\t}]\n\n\tDimensionName = NamedType\n\t\tname: 'DimensionName'\n\t\tspec: String\n\t\tsamples: ['date', 'product_type', 'city']\n\tMeasureName = NamedType\n\t\tname: 'MeasureName'\n\t\tspec: String\n\t\tsamples: ['sale', 'profit', 'amount']\n\tMeasure = NamedType\n\t\tname: 'Measure'\n\t\tspec: Strict {\n\t\t\tname: MeasureName\n\t\t\taggregator: Enum ['sum', 'avg', 'max', 'min']\n\t\t}\n\tMemberName = NamedType\n\t\tname: 'MemberName'\n\t\tspec: String\n\t\tsamples: ['2013', '2014', '2015']\n\tValueExpr = NamedType\n\t\tname: 'ValueExpr'\n\t\tspec: String\n\t\tsamples: ['sum(sale)']\n\tConditionExpr = NamedType\n\t\tname: 'ConditionExpr'\n\t\tspec: String\n\t\tsamples: ['sum(sale) > 100']\n\n\tDimensionFilter = NamedType\n\t\tname: 'DimensionFilter'\n\t\tspec: Strict {\n\t\t\tselect: [MemberName]\n\t\t\tmatch: Select {\n\t\t\t\tcontains: String\n\t\t\t\tstartWith: String\n\t\t\t\tendWith: String\n\t\t\t}\n\t\t\tcondition: Select {\n\t\t\t\tlimit: Strict {\n\t\t\t\t\tmeasure: Measure\n\t\t\t\t\tcomparator: Comparator\n\t\t\t\t\tvalue: Number\n\t\t\t\t}\n\t\t\t\texpr: ConditionExpr\n\t\t\t}\n\t\t\ttop: Strict {\n\t\t\t\tcount: Number\n\t\t\t\tby: Select {\n\t\t\t\t\tmeasure: Measure\n\t\t\t\t\texpr: ValueExpr\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tInclusionCondition = NamedType\n\t\tname: 'InclusionCondition'\n\t\tspec: Strict {\n\t\t\tvia: [DimensionName]\n\t\t\tpositions: [[MemberName]]\n\t\t}\n\tExclusionCondition = NamedType\n\t\tname: 'ExclusionCondition'\n\t\tspec: Strict {\n\t\t\tvia: [DimensionName]\n\t\t\tpositions: [[MemberName]]\n\t\t}\n\tSortCondition = NamedType\n\t\tname: 'SortCondition'\n\t\tspec: Strict {\n\t\t\tasc: Bool\n\t\t\tby: Select {\n\t\t\t\tmeasure: Measure\n\t\t\t\texpr: ValueExpr\n\t\t\t}\n\t\t\twhere: Optional ConditionExpr\n\t\t}\n\tContext =\n\t\tfilter: Strict\n\t\t\tdimensions: Map(DimensionName)(DimensionFilter)\n\t\t\tmeasures: [Strict {\n\t\t\t\tmeasure: Measure\n\t\t\t\tlimit:\n\t\t\t\t\tminBound: Optional Number\n\t\t\t\t\tmaxBound: Optional Number\n\t\t\t}]\n\t\t\tinclusions: [InclusionCondition]\n\t\t\texclusions: [ExclusionCondition]\n\t\tsort: Map(DimensionName)(SortCondition)\n\n\t#contextSample =\n\t#\tfilter: {\n\t#\t\tdimensions: {\n\t#\t\t\t\"product_name\": {\n\t#\t\t\t\tselect: ['mp3', 'mp4']\n\t#\t\t\t\tmatch: { # {contains: ..} or {startWith: ..} or {endWith: ..}\n\t#\t\t\t\t\tcontains: 'abc'\n\t#\t\t\t\t\tstartWith: 'abc'\n\t#\t\t\t\t\tendWith: 'abc'\n\t#\t\t\t\t}\n\t#\t\t\t\tcondition: {# {limit: ...} or {expr: '...'}\n\t#\t\t\t\t\tlimit: {\n\t#\t\t\t\t\t\tmeasure: 'sale'\n\t#\t\t\t\t\t\taggregator: 'sum'\n\t#\t\t\t\t\t\tif: {\n\t#\t\t\t\t\t\t\tcomparator: '>'\n\t#\t\t\t\t\t\t\tvalue: 100\n\t#\t\t\t\t\t\t}\n\t#\t\t\t\t\t}\n\t#\t\t\t\t}\n\t#\t\t\t\ttop: {\n\t#\t\t\t\t\tcount: 10\n\t#\t\t\t\t\tby: {# {field: ...} or {formula: ...}\n\t#\t\t\t\t\t\tfield: {\n\t#\t\t\t\t\t\t\tmeasure: 'sale'\n\t#\t\t\t\t\t\t\taggregator: 'sum'\n\t#\t\t\t\t\t\t}\n\t#\t\t\t\t\t}\n\t#\t\t\t\t}\n\t#\t\t\t}\n\t#\t\t}\n\t#\t\tmeasures: [{\n\t#\t\t\tmeasure:\n\t#\t\t\t\tname: 'sale'\n\t#\t\t\t\taggregator: 'sum'#aggregation type. e.g. 'sum', 'avg', 'item'\n\t#\t\t\tlimit:\n\t#\t\t\t\tminBound: 10\n\t#\t\t\t\tmaxBound: 100\n\t#\t\t}]\n\t#\t\tinclusions: [\n\t#\t\t\t{\n\t#\t\t\t\tfield: ['product type', 'product name']\n\t#\t\t\t\tvalues: [\n\t#\t\t\t\t\t['electric appliance', 'mp3']\n\t#\t\t\t\t\t['electric appliance', 'mp4']\n\t#\t\t\t\t]\n\t#\t\t\t}\n\t#\t\t]\n\t#\t\texclusions: [\n\t#\t\t\t{\n\t#\t\t\t\tfield: ['product type', 'product name']\n\t#\t\t\t\tvalues: [\n\t#\t\t\t\t\t['electric appliance', 'mp3']\n\t#\t\t\t\t\t['electric appliance', 'mp4']\n\t#\t\t\t\t]\n\t#\t\t\t}\n\t#\t\t]\n\t#\t}\n\t#\tsort: {\n\t#\t\t\"product_name\": {\n\t#\t\t\tasc: true\n\t#\t\t\tby: {# {field: ...} or {formula: ...}\n\t#\t\t\t\tfield: {\n\t#\t\t\t\t\tmeasure: 'sale'\n\t#\t\t\t\t\taggregator: 'sum'\n\t#\t\t\t\t}\n\t#\t\t\t}\n\t#\t\t\twhere: ''\n\t#\t\t}\n\t#\t}\n\n\tlog -> json (sample WideTable), 4\n\tlog -> show Context\n\n\tFooSpec = NamedType\n\t\tname: 'FooSpec'\n\t\tspec: Fn(Number) Fn({x: Number, y: Number}) Promise {x: String, y: Choose [Nat, String, Value 'unavailable']}\n\t\tdesc: \"hello\"\n\t\tcheck: (x) -> x > 1\n\n\tfs = require 'fs'\n\tfs.writeFileSync('test.html', showPage WideTable)\n\n\tentries = {\n\t\ta: FooSpec\n\t\tb: WideTable\n\t\tc: Context\n\t\td: FieldName\n\t\te: Select {x: Number, y: String}\n\t\tf: Fn(Tree Int) (Loose {x: Number, y: Number})\n\t}\n\n\tfs.writeFileSync('test2.js', genRenderCode entries)\n\n","require 'coffee-mate/global'\n\n{typeclass, instance} = do ->\n\tinstances = {}\n\treg = {}\n\n\ttypeclass = (classname) ->\n\t\tcls = reg[classname] ?= {}\n\t\tins = instances[classname] ?= []\n\t\thasInstance: (t) -> ins.indexOf(t) >= 0\n\t\twhere: (funcs) ->\n\t\t\trst_funcs = {}\n\t\t\tforeach enumerate(funcs), ([funcname, funcdefault]) ->\n\t\t\t\tls = cls[funcname] ?= []\n\t\t\t\tf = (arg) ->\n\t\t\t\t\tunless arg?\n\t\t\t\t\t\tthrow TypeError \"No Instance of #{classname}(via #{funcname}(#{arg})) For #{arg}\"\n\t\t\t\t\tfor [type, funcbody] in ls\n\t\t\t\t\t\t#log -> type\n\t\t\t\t\t\tif arg.constructor is type\n\t\t\t\t\t\t\treturn funcbody(arg)\n\t\t\t\t\tif funcdefault?\n\t\t\t\t\t\treturn funcdefault.call(rst_funcs, arg)\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow TypeError \"No Instance of #{classname}(via #{funcname}(#{arg})) For #{arg.constructor.name or 'UnnamedType'}\"\n\t\t\t\trst_funcs[funcname] = f\n\t\t\treturn rst_funcs\n\n\tinstance = (classname) ->\n\t\tcls = reg[classname] ?= {}\n\t\tins = instances[classname] ?= []\n\t\t(type) ->\n\t\t\t#log -> type\n\t\t\tins.push(type) if ins.indexOf(type) < 0\n\t\t\twhere: (funcdict) ->\n\t\t\t\tforeach (enumerate funcdict), ([funcname, funcbody]) ->\n\t\t\t\t\t(cls[funcname] ?= []).push [type, funcbody]\n\n\treturn {typeclass, instance}\n\nmodule.exports = {typeclass, instance}\n\nif module.parent is null\n\t{show} = typeclass('Show').where\n\t\tshow: (x) -> str @zero(x)\n\t\tzero: -> 0\n\n\tinstance('Show')(String).where\n\t\tshow: (s) -> json s\n\n\tinstance('Show')(Number).where {}\n\n\tlog -> show \"hello\"\n\tlog -> show 1\n\tlog -> typeclass('Show').hasInstance(String)\n\tlog -> typeclass('Show').hasInstance(Number)\n\tlog -> typeclass('Show').hasInstance(Object)\n\t#log -> show null\n\t#log -> show 0\n\t#log -> show {x: 1}\n","require 'coffee-mate/global'\n{typeclass} = require './typeclass'\n{Any} = require './prim/Any'\n#{Data} = require './index'\n\nTypeSpec = typeclass('TypeSpec').where\n\tmatch: null\n\tshape: (t) -> Any\n\tconstraints: null\n\twithSpec: (t) -> (v) ->\n\t\tif not @match(t)(v)\n\t\t\tthrow TypeError {expected: @show(t), got: v}\n\t\telse\n\t\t\treturn v\n\tshow: (t) ->\n\t\tt.name or 'UnnamedType'\n\tsamples: null\n\tsample: (t) -> head @samples(t)\n\thtmlInline: (t) ->\n\t\t\"<span class='type-maker'>#{@show t}</span>\"\n\thtmlBlock: (t) -> null\n\tshowHtml: (t) ->\n\t\tspecPart = do =>\n\t\t\tblock = @htmlBlock t\n\t\t\treturn \"\"\"\n\t\t\t<div class='spec'>\n\t\t\t<div class='#{if block? then 'fold' else 'inline'}'><span class='meta-field'>spec</span>: #{@htmlInline t}</div>\n\t\t\t#{if block? then (\n\t\t\t\t\"\"\"\n\t\t\t\t<div class='unfold'>\n\t\t\t\t\t<span class='meta-field'>spec</span>: #{block.head}\n\t\t\t\t\t#{block.body ? ''}\n\t\t\t\t\t#{block.tail ? ''}\n\t\t\t\t</div>\n\t\t\t\t\"\"\"\n\t\t\t) else ''}\n\t\t\t</div>\n\t\t\t\"\"\".replace(/(\\t|\\n)/g, '')\n\n\t\tsamplePart = do =>\n\t\t\ts = json(@sample(t), 4)\n\t\t\treturn \"\"\"\n\t\t\t<div class='sample'>\n\t\t\t<span class='meta-field'>sample</span>: #{\n\t\t\t\tif /\\n/.test s then \"<pre class='code'>#{s}</pre>\" else \"<span class='code'>#{s}</span>\"\n\t\t\t}\n\t\t\t</div>\n\t\t\t\"\"\"\n\n\t\treturn \"<div class='typespec'>#{specPart + samplePart}</div>\"\n\nconstraints = TypeSpec.constraints\nunmatchMessages = (spec) -> (v) ->\n\tr = []\n\trec = (ls) ->\n\t\trst = true\n\t\tforeach ls, ({label, flag, sub}) ->\n\t\t\tif flag?\n\t\t\t\tif flag() is false\n\t\t\t\t\tr.push label()\n\t\t\t\t\trst = false\n\t\t\t\t\tforeach.break\n\t\t\telse if sub?\n\t\t\t\tif rec(sub()) is false\n\t\t\t\t\tr.push label()\n\t\t\t\t\trst = false\n\t\t\t\t\tforeach.break\n\t\treturn rst\n\trec(constraints(spec)(v))\n\treturn r\n\nmodule.exports = extend({unmatchMessages})(TypeSpec)\n\n"],"sourceRoot":"/source/"}